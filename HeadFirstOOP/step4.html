<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section class="chapter" title="Chapter&nbsp;4.&nbsp;Analysis: Taking Your Software into the Real World" epub:type="chapter" id="analysis_taking_your_software_into_the_r"><div class="titlepage"><div><div><h2 class="title">Chapter&nbsp;4.&nbsp;Analysis: Taking Your Software into the Real World</h2></div></div></div><div class="informalfigure"><a id="med_id00199a"></a><div class="mediaobject"><a id="med_id00199"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069085.png.jpg" alt="image with no caption" width="470" height="507"></div></div><p><a id="iddle1022" class="indexterm"></a><span class="strong"><strong>It’s time to graduate to real-world applications.</strong></span></p><p>Your application has to do more than work on your own personal development machine, finely tuned and perfectly set up; your apps have to work when <span class="strong"><strong>real people use them</strong></span>. This chapter is all about making sure that your software works in a <span class="strong"><strong>real-world context</strong></span>. You’ll learn how <span class="strong"><strong>textual analysis</strong></span> can take that use case you’ve been working on and turn it into classes and methods that you know are what your customers want. And when you’re done, you too can say: “I did it! My software is <span class="strong"><strong>ready for the real world</strong></span>!”</p><div class="sect1" title="One dog, two dog, three dog, four..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="one_dogcomma_two_dogcomma_three_dogcomma">One dog, two dog, three dog, four...</h2></div></div></div><p>Things are going well at Doug’s Dog Doors. The version of the dog door you just developed in <a class="xref" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Requirements Change: I Love You, You’re Perfect... Now Change">Chapter&nbsp;3</a> is selling like crazy... but as more doors get installed, complaints have started coming in:</p><div class="informalfigure"><a id="med_id00200a"></a><div class="mediaobject"><a id="med_id00200"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069087.png.jpg" alt="image with no caption" width="586" height="586"></div></div><div class="informalfigure"><a id="med_id00201a"></a><div class="mediaobject"><a id="med_id00201"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069089.png.jpg" alt="image with no caption" width="481" height="370"></div></div></div><div class="sect1" title="Your software has a context"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="your_software_has_a_context">Your software has a <span class="underline">context</span></h2></div></div></div><p><a id="iddle1129" class="indexterm"></a>So far, we’ve worked on writing software in a vacuum, and haven’t really thought much about the context that our software is running in. In other words, we’ve been thinking about our software like this:</p><div class="informalfigure"><a id="med_id00202a"></a><div class="mediaobject"><a id="med_id00202"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069091.png.jpg" alt="image with no caption" width="529" height="237"></div></div><p>But our software has to <span class="strong"><strong>work in the real world</strong></span>, not just in a perfect world. That means we have to think about our software in a different context:</p><div class="informalfigure"><a id="med_id00203a"></a><div class="mediaobject"><a id="med_id00203"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069093.png.jpg" alt="image with no caption" width="477" height="277"></div></div><p>The key to making sure things work and that the real world doesn’t screw up your application is <span class="strong"><strong>analysis</strong></span>: figuring out potential problems, and then solving those problems—<span class="emphasis"><em>before</em></span> you release your app out into the real world.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong><span class="underline">Analysis</span> helps you ensure your system works in a <span class="underline">real-world</span> <span class="underline">context</span>.</strong></span></p></blockquote></div></div><div class="sect1" title="Identify the problem"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="identify_the_problem">Identify the problem</h2></div></div></div><p><a id="iddle1024" class="indexterm"></a>The first step in good analysis is figuring out potential problems. We already know that there’s a problem when there are multiple dogs in the same neighborhood:</p><div class="informalfigure"><a id="med_id00204a"></a><div class="mediaobject"><a id="med_id00204"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069095.png.jpg" alt="image with no caption" width="849" height="897"></div></div></div><div class="sect1" title="Plan a solution"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="plan_a_solution">Plan a solution</h2></div></div></div><p><a id="iddle1025" class="indexterm"></a><a id="iddle1622" class="indexterm"></a>It looks like there’s a change we need to make in what our system does. Do you know what it is? Below is a part of the diagram detailing how the dog door system works:</p><div class="informalfigure"><a id="med_id00205a"></a><div class="mediaobject"><a id="med_id00205"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069097.png.jpg" alt="image with no caption" width="844" height="607"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00047"></a><div class="sidebar-title">Sharpen your pencil</div><p>What’s wrong with this diagram?</p><p>It’s your job to figure out how you would fix the dog door. You can add steps, remove steps, or change steps... it’s up to you. Write down what you think you need to change, and then mark your changes on the diagram above.</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00048"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1623" class="indexterm"></a>What’s wrong with this diagram?</p><div class="informalfigure"><a id="med_id00206a"></a><div class="mediaobject"><a id="med_id00206"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069099.png.jpg" alt="image with no caption" width="843" height="779"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00049"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa1qe1"></a><a id="ch04qa1q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1027" class="indexterm"></a><a id="iddle1702" class="indexterm"></a><a id="iddle1788" class="indexterm"></a><a id="iddle1855" class="indexterm"></a><span class="strong"><strong>Q: I came up with a different solution. Does that mean my solution is wrong?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa1q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> No, as long as your solution kept all the dogs except for Bruce from going in and out of the dog door. That’s what makes talking about software so tricky: there’s usually more than one way to solve a problem, and there’s not always just one “right” solution.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa1qe2"></a><a id="ch04qa1q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: In my solution, I turned step 3 of the original use case into <span class="emphasis"><em>two</em></span> steps, instead of just replacing the existing step. Where did I go wrong?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa1q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You didn’t go wrong. Just as there is usually more than one solution to a problem, there is usually more than one way to write that solution in a use case. If you use more than one step, but have the scenario with other dogs barking handled, then you’ve got a working use case.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa1qe3"></a><a id="ch04qa1q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So these use cases really aren’t that precise, are they?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa1q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Actually, use cases are <span class="emphasis"><em>very</em></span> precise. If your use case doesn’t detail exactly what your system is supposed to do, then you could miss an important requirement or two and end up with unhappy customers.</p><p>But, use cases don’t have to be very <span class="emphasis"><em>formal</em></span>; in other words, your use case may not look like ours, and ours might not look like anyone else’s. The important thing is that your use case makes sense to you, and that you can explain it to your co-workers, boss, and customers.</p></td></tr></tbody></table></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Write your use cases in a way that makes sense to <span class="underline">you</span>, your <span class="underline">boss</span>, and your <span class="underline">customers</span>.</strong></span></p><p><span class="strong"><strong>Analysis and your use cases let you show customers, managers, and other developers how your system works in a <span class="underline">real</span> <span class="underline">world</span> <span class="underline">context</span>.</strong></span></p></blockquote></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch04note01"></a>Brain Power</h3><p>There’s an important addition that needs to be made to the dog door system, in addition to what’s shown in <a class="xref" href="ch04.html#sharpen_your_pencil_answers-id00048" title="Sharpen your pencil answers">Sharpen your pencil answers</a>. What is it?</p></div></div><div class="sect1" title="Update your use case"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="update_your_use_case">Update your use case</h2></div></div></div><p><a id="iddle1192" class="indexterm"></a><a id="iddle1882" class="indexterm"></a>Since we’ve changed our dog door diagram, we need to go back to the dog door use case, and update it with the new steps we’ve figured out. Then, over the next few pages, we’ll figure out what changes we need to make to our code.</p><div class="informalfigure"><a id="med_id00207a"></a><div class="mediaobject"><a id="med_id00207"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069101.png.jpg" alt="image with no caption" width="898" height="853"></div></div><div class="informalfigure"><a id="med_id00208a"></a><div class="mediaobject"><a id="med_id00208"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069103.png.jpg" alt="image with no caption" width="530" height="514"></div></div><p><a id="iddle1691" class="indexterm"></a><a id="iddle1692" class="indexterm"></a><a id="iddle1880" class="indexterm"></a><span class="strong"><strong>We need a new use case to store the owner’s dog’s bark.</strong></span></p><p>Our analysis has made us realize we need to make some changes to our use case—and those changes mean that we need to make some additions to our system, too.</p><p>If we’re comparing a bark from our bark recognizer to the owner’s dog’s bark, then we actually need to store the owner’s dog’s bark somewhere. And that means we need another use case.</p><div class="sidebar"><a id="sharpen_your_pencil-id00050"></a><div class="sidebar-title">Sharpen your pencil</div><p>Add a new use case to store a bark.</p><p>You need a use case to store the owner’s dog’s bark; let’s store the sound of the dog in the dog door itself (Doug’s hardware guys tell us that’s no problem for their door technology). Use the use case template below to write a new use case for this task.</p><div class="informalfigure"><a id="med_id00209a"></a><div class="mediaobject"><a id="med_id00209"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069105.png.jpg" alt="image with no caption" width="722" height="241"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00051"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1812" class="indexterm"></a>Add a new use case to store a bark.</p><p>You need a use case to store the owner’s dog’s bark; let’s store the sound of the dog in the dog door itself (Doug’s hardware guys tell us that’s no problem for their door technology). Use the use case template below to write a new use case for this task.</p><div class="informalfigure"><a id="med_id00210a"></a><div class="mediaobject"><a id="med_id00210"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069107.png.jpg" alt="image with no caption" width="549" height="244"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00052"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa2qe1"></a><a id="ch04qa2q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Do we really need a whole new use case for storing the owner’s dog’s bark?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa2q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Yes. Each use case should detail one particular user goal. The user goal for our original use case was to get a dog outside and back in without using the bathroom in the house, and the user goal of this new use case is to store a dog’s bark. Since those aren’t the same user goal, you need two different use cases.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa2qe2"></a><a id="ch04qa2q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Is this really the result of good analysis, or just something we should have thought about in the last two chapters?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa2q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Probably a bit of both. Sure, we probably should have figured out that we needed to store the owner’s dog’s bark much earlier, but that’s what analysis is really about: making sure that you didn’t forget anything that will help your software work in a real world context.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa2qe3"></a><a id="ch04qa2q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: How are we representing the dog’s bark?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa2q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> That’s a good question, and it’s one you’re going to have to answer next...</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="design_puzzle-id00053"></a><div class="sidebar-title">Design Puzzle</div><p>You know what classes you already have, and you’ve got two use cases that tell you what your code has to be able to do. Now it’s up to you to figure out how your code needs to change:</p><p><span class="strong"><strong>Your task:</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Add any new objects you think you might need for the new dog door.</p></li><li class="listitem"><p>Add a new method to the <span class="strong"><strong><code class="literal">DogDoor</code></strong></span> class that will store a dog’s bark, and another new method to allow other classes to access the bark.</p></li><li class="listitem"><p>If you need to make changes to any other classes or methods, write in those changes in the class diagram below.</p></li><li class="listitem"><p>Add notes to the class diagram to remind you what any tricky attributes or operations are used for, and how they should work.</p></li></ol></div><div class="informalfigure"><a id="med_id00211a"></a><div class="mediaobject"><a id="med_id00211"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069109.png.jpg" alt="image with no caption" width="764" height="537"></div></div></div></div><div class="sect1" title="A tale of two coders"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="tale_of_two_coders">A tale of two coders</h2></div></div></div><p>There are lots of ways you could solve the design puzzle in <a class="xref" href="ch04.html#design_puzzle-id00053" title="Design Puzzle">Design Puzzle</a>. In fact, Randy and Sam, two developers who Doug’s Dog Doors just hired, both have some pretty good ideas. But there’s more at stake here than just programmer pride—Doug’s offered the programmer with the best design a sparkling new Apple MacBook Pro!</p><div class="informalfigure"><a id="med_id00212a"></a><div class="mediaobject"><a id="med_id00212"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069111.png.jpg" alt="image with no caption" width="236" height="239"></div></div><div class="sect2" title="Randy: simple is best, right?"><div class="titlepage"><div><div><h3 class="title" id="randy_simple_is_bestcomma_rightquestion">Randy: simple is best, right?</h3></div></div></div><p>Randy doesn’t waste any time with unnecessary code. He starts thinking about how he can compare barks:</p><div class="informalfigure"><a id="med_id00213a"></a><div class="mediaobject"><a id="med_id00213"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069113.png.jpg" alt="image with no caption" width="769" height="652"></div></div></div><div class="sect2" title="Sam: object lover extraordinaire"><div class="titlepage"><div><div><h3 class="title" id="sam_object_lover_extraordinaire">Sam: object lover extraordinaire</h3></div></div></div><p><a id="iddle1695" class="indexterm"></a>Sam may not be as fast as Randy, but he loves his objects, so he figures that a new class devoted to dog barks is just the ticket:</p><div class="informalfigure"><a id="med_id00214a"></a><div class="mediaobject"><a id="med_id00214"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069115.png.jpg" alt="image with no caption" width="324" height="429"></div></div><div class="informalfigure"><a id="med_id00215a"></a><div class="mediaobject"><a id="med_id00215"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069117.png.jpg" alt="image with no caption" width="494" height="215"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00054"></a><div class="sidebar-title">Sharpen your pencil</div><p>Writing code based on a class diagram is a piece of cake.</p><p>You’ve already seen that class diagrams give you a lot of information about the attributes and operations of a class. Your job is to write the code for Sam’s Bark class based on his class diagram. We’ve written just a bit of the code to help get you started.</p><a id="pro_id00002"></a><pre class="programlisting">public class ____________ {
  private ___________ _________;

  public _____________(__________ ___________) {
    this._________ = ___________;
  }

  public ________ ___________() {
    __________ _________;
  }

  _________ _____________ ______________(________ ________) {
    if (________ instanceof _________) {
      Bark otherBark = (_________)_________;
      if (this._________.equalsIgnoreCase(_______._______)) {
        return __________;
      }
    }
    return ____________;
  }
}</pre></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00055"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1042" class="indexterm"></a><a id="iddle1208" class="indexterm"></a><a id="iddle1696" class="indexterm"></a>Writing code based on a class diagram is a piece of cake.</p><p>Your job was to write the code for Sam’s Bark class based on his class diagram. Here’s what we did:</p><div class="note" title="Note"><h3 class="title"><a id="ch04note01a"></a>Note</h3><p>Sam’s Bark class diagram.</p></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"></colgroup><thead><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Bark</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>sound: String</p></td></tr><tr><td style="vertical-align: top; "><p>getSound(): String</p>
<p>equals(Object bark): boolean</p></td></tr></tbody></table></div><div class="informalfigure"><a id="med_id00216a"></a><div class="mediaobject"><a id="med_id00216"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069119.png.jpg" alt="image with no caption" width="772" height="432"></div></div></div></div><div class="sect2" title="Sam: updating the DogDoor class"><div class="titlepage"><div><div><h3 class="title" id="sam_updating_the_dogdoor_class">Sam: updating the DogDoor class</h3></div></div></div><p>Since Sam created a new <span class="strong"><strong><code class="literal">Bark</code></strong></span> object, he takes a slightly different path than Randy did in updating his version of the <span class="strong"><strong><code class="literal">DogDoor</code></strong></span> class:</p><div class="informalfigure"><a id="med_id00217a"></a><div class="mediaobject"><a id="med_id00217"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069121.png.jpg" alt="image with no caption" width="552" height="240"></div></div></div></div><div class="sect1" title="Comparing barks"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="comparing_barks">Comparing barks</h2></div></div></div><p><a id="iddle1043" class="indexterm"></a><a id="iddle1051" class="indexterm"></a>All that’s left to do is add a comparison of barks into <span class="strong"><strong><code class="literal">BarkRecognizer</code></strong></span>’s <span class="strong"><strong><code class="literal">recognize()</code></strong></span> method.</p><div class="sect2" title="Randy: I’ll just compare two strings"><div class="titlepage"><div><div><h3 class="title" id="randy_iapostrophell_just_compare_two_str">Randy: I’ll just compare two strings</h3></div></div></div><div class="informalfigure"><a id="med_id00218a"></a><div class="mediaobject"><a id="med_id00218"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069123.png.jpg" alt="image with no caption" width="563" height="379"></div></div></div><div class="sect2" title="Sam: I’ll delegate bark comparison"><div class="titlepage"><div><div><h3 class="title" id="sam_iapostrophell_delegate_bark_comparis">Sam: I’ll <span class="underline">delegate</span> bark comparison</h3></div></div></div><p>Sam is using a <span class="strong"><strong><code class="literal">Bark</code></strong></span> object, and he lets that object take care of all the sound comparisons:</p><div class="informalfigure"><a id="med_id00219a"></a><div class="mediaobject"><a id="med_id00219"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069125.png.jpg" alt="image with no caption" width="742" height="314"></div></div><div class="informalfigure"><a id="med_id00220a"></a><div class="mediaobject"><a id="med_id00220"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069127.png.jpg" alt="image with no caption" width="73" height="34"></div></div></div></div><div class="sect1" title="Delegation in Sam’s dog door: an in-depth look"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="delegation_in_samapostrophes_dog_door_an">Delegation in Sam’s dog door: an in-depth look</h2></div></div></div><p><a id="iddle1054" class="indexterm"></a><a id="iddle1157" class="indexterm"></a><a id="iddle1209" class="indexterm"></a>Sam is doing something very similar in his <span class="strong"><strong><code class="literal">Bark</code></strong></span> and <span class="strong"><strong><code class="literal">DogDoor</code></strong></span> classes. Let’s see exactly what’s going on:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span class="strong"><strong>The BarkRecognizer gets a Bark to evaluate.</strong></span></p><p>Doug’s hardware hears a dog barking, wraps the sound of the dog’s bark in a new <span class="strong"><strong><code class="literal">Bark</code></strong></span> object, and delivers that <span class="strong"><strong><code class="literal">Bark</code></strong></span> instance to the <span class="strong"><strong><code class="literal">recognize()</code></strong></span> method.</p><div class="informalfigure"><a id="med_id00221a"></a><div class="mediaobject"><a id="med_id00221"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069129.png.jpg" alt="image with no caption" width="780" height="179"></div></div></li><li class="listitem"><p><span class="strong"><strong>BarkRecognizer gets the owner’s dog’s bark from DogDoor</strong></span></p><p>The <span class="strong"><strong><code class="literal">recognize()</code></strong></span> method calls <span class="strong"><strong><code class="literal">getAllowedBark()</code></strong></span> on the dog door it’s attached to, and retrieves a <span class="strong"><strong><code class="literal">Bark</code></strong></span> object representing the owner’s dog’s bark.</p><div class="informalfigure"><a id="med_id00222a"></a><div class="mediaobject"><a id="med_id00222"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069131.png.jpg" alt="image with no caption" width="562" height="234"></div></div><div class="informalfigure"><a id="med_id00223a"></a><div class="mediaobject"><a id="med_id00223"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069133.png.jpg" alt="image with no caption" width="169" height="167"></div></div></li><li class="listitem"><p><a id="iddle1052" class="indexterm"></a><a id="iddle1156" class="indexterm"></a><span class="strong"><strong>BarkRecognizer delegates bark comparison to Bark</strong></span></p><p>The <span class="strong"><strong><code class="literal">recognize()</code></strong></span> method asks the owner’s dog’s <span class="strong"><strong><code class="literal">Bark</code></strong></span> object to see if it is equal to the <span class="strong"><strong><code class="literal">Bark</code></strong></span> instance supplied by Doug’s hardware, using <span class="strong"><strong><code class="literal">Bark.equals()</code></strong></span>.</p><div class="informalfigure"><a id="med_id00224a"></a><div class="mediaobject"><a id="med_id00224"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069135.png.jpg" alt="image with no caption" width="649" height="321"></div></div></li><li class="listitem"><p><span class="strong"><strong>Bark decides if it’s equal to the bark from Doug’s hardware</strong></span></p><p>The <span class="strong"><strong><code class="literal">Bark</code></strong></span> object representing the owner’s dog’s bark figures out if it is equal to the <span class="strong"><strong><code class="literal">Bark</code></strong></span> object from Doug’s hardware... <span class="strong"><strong><span class="emphasis"><em>however that needs to happen</em></span></strong></span>.</p><div class="note" title="Note"><h3 class="title"><a id="ch04note02"></a>Note</h3><p>The details of <span class="underline">how</span> this comparison happens are hidden from all the other objects in the dog door application.</p></div><div class="informalfigure"><a id="med_id00225a"></a><div class="mediaobject"><a id="med_id00225"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069137.png.jpg" alt="image with no caption" width="549" height="269"></div></div></li></ol></div><div class="informalfigure"><a id="med_id00226a"></a><div class="mediaobject"><a id="med_id00226"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069127.png.jpg" alt="image with no caption" width="73" height="34"></div></div></div><div class="sect1" title="The power of loosely coupled applications"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="power_of_loosely_coupled_applications">The power of loosely coupled applications</h2></div></div></div><p><a id="iddle1152" class="indexterm"></a><a id="iddle1411" class="indexterm"></a>In <a class="xref" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Well-Designed Apps Rock: Great Software Begins Here">Chapter&nbsp;1</a>, we said that delegation helps our applications stay loosely coupled. That means that your objects are independent of each other; in other words, changes to one object don’t require you to make a bunch of changes to other objects.</p><p>By delegating comparison of barks to the <span class="strong"><strong><code class="literal">Bark</code></strong></span> object, we abstract the details about what makes two barks the same away from the <span class="strong"><strong><code class="literal">BarkRecognizer</code></strong></span> class. Look again at the code that calls <span class="strong"><strong><code class="literal">equals()</code></strong></span> on <span class="strong"><strong><code class="literal">Bark</code></strong></span>:</p><div class="informalfigure"><a id="med_id00227a"></a><div class="mediaobject"><a id="med_id00227"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069139.png.jpg" alt="image with no caption" width="757" height="243"></div></div><p>Now suppose that we started storing the sound of a dog barking as a WAV file in <span class="strong"><strong><code class="literal">Bark</code></strong></span>. We’d need to change the <span class="strong"><strong><code class="literal">equals()</code></strong></span> method in the <span class="strong"><strong><code class="literal">Bark</code></strong></span> class to do a more advanced comparison of sounds and account for the WAV files. But, since the <span class="strong"><strong><code class="literal">recognize()</code></strong></span> method delegates bark comparison, no code in <span class="strong"><strong><code class="literal">BarkRecognizer</code></strong></span> would have to change.</p><p>So with delegation and a loosely coupled application, you can change the implementation of one object, like <span class="strong"><strong><code class="literal">Bark</code></strong></span>, and you won’t have to change all the other objects in your application. Your objects are <span class="strong"><strong><span class="emphasis"><em>shielded</em></span></strong></span> from implementation changes in other objects.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Delegation <span class="underline">shields</span> your objects from implementation changes to <span class="underline">other</span> <span class="underline">objects</span> in your software.</strong></span></p></blockquote></div></div><div class="sect1" title="Back to Sam, Randy, and the contest..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="back_to_samcomma_randycomma_and_the_cont">Back to Sam, Randy, and the contest...</h2></div></div></div><p>With Randy’s quick solution, and Sam’s more object-oriented one, let’s see how their applications are working out:</p><div class="informalfigure"><a id="med_id00228a"></a><div class="mediaobject"><a id="med_id00228"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069141.png.jpg" alt="image with no caption" width="880" height="645"></div></div><div class="sect2" title="Randy AND Sam: It works!"><div class="titlepage"><div><div><h3 class="title" id="randy_and_sam_it_worksexclamation_mark">Randy <span class="underline">AND</span> Sam: It works!</h3></div></div></div><p>Both Randy and Sam ended up with a working dog door that let in only the owner’s dog.</p><div class="informalfigure"><a id="med_id00229a"></a><div class="mediaobject"><a id="med_id00229"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069143.png.jpg" alt="image with no caption" width="487" height="250"></div></div></div></div><div class="sect1" title="Maria won the MacBook Pro!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="maria_won_the_macbook_proexclamation_mar">Maria won the MacBook Pro!</h2></div></div></div><p>To both Randy and Sam’s surprise, Doug announces that Maria, a junior programmer he got to work for the company as a summer intern, has won the laptop.</p><div class="informalfigure"><a id="med_id00230a"></a><div class="mediaobject"><a id="med_id00230"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069145.png.jpg" alt="image with no caption" width="427" height="370"></div></div><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;Oh, this is ridiculous. My solution worked! That laptop is mine, not some intern’s!</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;Whatever, man. My solution worked, too, and I used objects. Didn’t you read Head First Java? An object-oriented solution is the way to go... the laptop’s mine!</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;Umm, guys, I don’t mean to interrupt, but I’m not sure either one of your dog doors <span class="emphasis"><em>really</em></span> worked.</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;What do you mean? We tested it. Bruce barked, “Rowlf!” and the door opened up... but it stayed shut for the other dogs. Sounds like a working solution to me.</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;But did you do any analysis on your solution? Does your door truly work in the real world?</p><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;What are you talking about? Are you some sort of philosophy major? Is this like a “there is no spoon” sort of thing?</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;No, not at all. I’m just wondering... what if Bruce were to make a different sound? Like “Woof” or “Ruff”?</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;A different sound? Like if he’s hungry...</p><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;...or excited...</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;...or maybe... he really needs to get outside to <span class="emphasis"><em>use the bathroom</em></span>. That’s, ummm, sort of how things work in the real world, isn’t it?</p><p title="Randy and Sam:"><span class="title"><strong><span class="strong"><strong>Randy and Sam:</strong></span></strong></span>&nbsp;I guess we hadn’t thought about that...</p><div class="informalfigure"><a id="med_id00231a"></a><div class="mediaobject"><a id="med_id00231"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069147.png.jpg" alt="image with no caption" width="458" height="297"></div></div></div><div class="sect1" title="So what did Maria do differently?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="so_what_did_maria_do_differentlyquestion">So what did Maria do differently?</h2></div></div></div><p><a id="iddle1044" class="indexterm"></a><a id="iddle1433" class="indexterm"></a>Maria started out a lot like Sam did. She created a <span class="strong"><strong><code class="literal">Bark</code></strong></span> object to represent the bark of a dog.</p><div class="informalfigure"><a id="med_id00232a"></a><div class="mediaobject"><a id="med_id00232"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069149.png.jpg" alt="image with no caption" width="403" height="155"></div></div><div class="informalfigure"><a id="med_id00233a"></a><div class="mediaobject"><a id="med_id00233"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069151.png.jpg" alt="image with no caption" width="295" height="390"></div></div><p>But Maria went even further: she decided that since a dog might have different barks, the dog door should store <span class="emphasis"><em>multiple</em></span> <span class="strong"><strong><code class="literal">Bark</code></strong></span> objects. That way, no matter how the owner’s dog barks, it still gets outside:</p><div class="informalfigure"><a id="med_id00234a"></a><div class="mediaobject"><a id="med_id00234"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069153.png.jpg" alt="image with no caption" width="427" height="255"></div></div><div class="sidebar"><a id="uml_up_close"></a><div class="sidebar-title">UML Up Close</div><p>We’ve added something new to our class diagrams:</p><div class="informalfigure"><a id="med_id00235a"></a><div class="mediaobject"><a id="med_id00235"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069155.png.jpg" alt="image with no caption" width="575" height="207"></div></div></div><div class="informalfigure"><a id="med_id00236a"></a><div class="mediaobject"><a id="med_id00236"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069157.png.jpg" alt="image with no caption" width="514" height="610"></div></div><div class="informalfigure"><a id="med_id00237a"></a><div class="mediaobject"><a id="med_id00237"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069159.png.jpg" alt="image with no caption" width="329" height="492"></div></div><div class="informalfigure"><a id="med_id00238a"></a><div class="mediaobject"><a id="med_id00238"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069161.png.jpg" alt="image with no caption" width="862" height="561"></div></div></div><div class="sect1" title="Pay attention to the nouns in your use case"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="pay_attention_to_the_nouns_in_your_use_c">Pay attention to the <span class="underline">nouns</span> in your use case</h2></div></div></div><p><a id="iddle1438" class="indexterm"></a><a id="iddle1685" class="indexterm"></a><a id="iddle1874" class="indexterm"></a><span class="strong"><strong>Maria’s figured out something really important: the nouns in a use case are usually the classes you need to write and focus on in your system.</strong></span></p><div class="sidebar"><a id="sharpen_your_pencil-id00056"></a><div class="sidebar-title">Sharpen your pencil</div><p>Your job is to circle each noun (that’s a person, place, or thing) in the use case below. Then, in the blanks at the bottom of the page, list all the nouns that you found (just write each one a single time; don’t duplicate any nouns). Be sure to do this exercise before turning the page!</p><div class="informalfigure"><a id="med_id00239a"></a><div class="mediaobject"><a id="med_id00239"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069163.png.jpg" alt="image with no caption" width="832" height="712"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00057"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1686" class="indexterm"></a>Your job was to circle each noun (that’s a person, place, or thing) in the use case below. Here’s the use case with all the nouns circled.</p><div class="informalfigure"><a id="med_id00240a"></a><div class="mediaobject"><a id="med_id00240"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069165.png.jpg" alt="image with no caption" width="573" height="609"></div></div><div class="informalfigure"><a id="med_id00241a"></a><div class="mediaobject"><a id="med_id00241"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069167.png.jpg" alt="image with no caption" width="769" height="166"></div></div></div><div class="informalfigure"><a id="med_id00242a"></a><div class="mediaobject"><a id="med_id00242"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069169.png.jpg" alt="image with no caption" width="409" height="410"></div></div><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;<a id="iddle1026" class="indexterm"></a><a id="iddle1747" class="indexterm"></a>That’s right. That’s how I figured out I needed a <span class="strong"><strong><code class="literal">Bark</code></strong></span> class... it showed up in the use case as a noun in Steps 2 and 6.3. So I created a <span class="strong"><strong><code class="literal">Bark</code></strong></span> class.</p><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;So that’s where I went wrong... if I had looked at the use case and circled the nouns, I would have known to create a <span class="strong"><strong><code class="literal">Bark</code></strong></span> class, too.</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;Probably. A lot of times, even if I think I know what classes I need, I double-check my ideas with the nouns in my use case to make sure I didn’t forget anything.</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;But you don’t need a class for some of those nouns, like “the owner” or “request,” or even “inside.”</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;That’s true... you still have to have some common sense, and understand the system that you’re building. Remember, you need classes only for the parts of the system you have to represent. We don’t need a class for “outside” or “inside” or “the owner” because our software doesn’t have to represent those things.</p><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;And you don’t need a class for “the button” because it’s part of the remote control—and we already <span class="emphasis"><em>do</em></span> have a class for that.</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;This is all great, but I was just thinking... I came up with a <span class="strong"><strong><code class="literal">Bark</code></strong></span> class, too, and I didn’t need the use case to figure that out.</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;Yeah... but then you didn’t end up with a dog door that really worked, did you?</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;Well, no... but that’s just because you stored more than one <span class="strong"><strong><code class="literal">Bark</code></strong></span> object in the dog door. What does that have to do with the use case?</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Looking at the nouns (and verbs) in your use case to figure out classes and methods is called <span class="underline">textual analysis</span>.</strong></span></p></blockquote></div></div><div class="sect1" title="It’s all about the use case"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="itapostrophes_all_about_the_use_case">It’s all about the use case</h2></div></div></div><p><a id="iddle1866" class="indexterm"></a><span class="strong"><strong>Take a close look at Step 3 in the use case, and see <span class="underline">exactly</span> which classes are being used:</strong></span></p><div class="informalfigure"><a id="med_id00243a"></a><div class="mediaobject"><a id="med_id00243"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069171.png.jpg" alt="image with no caption" width="644" height="654"></div></div></div><div class="sect1" title="There is no Bark class here!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="there_is_no_bark_class_hereexclamation_m">There is <span class="underline">no</span> <span class="underline">Bark</span> <span class="underline">class</span> here!</h2></div></div></div><p><span class="strong"><strong>The classes in use here in Step 3 are BarkRecognizer and DogDoor... <span class="underline">not</span> Bark!</strong></span></p><div class="informalfigure"><a id="med_id00244a"></a><div class="mediaobject"><a id="med_id00244"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069173.png.jpg" alt="image with no caption" width="422" height="399"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>3. If the owner’s dog’s bark matches the bark heard by the bark recognizer, the dog door should open.</strong></span></p></blockquote></div><div class="note" title="Note"><h3 class="title"><a id="ch04note03"></a>Note</h3><p>Here’s Step 3 from the use case that Randy wrote for his dog door. In his Step 3, “bark” is a noun.</p></div><p><span class="strong"><strong>Step 3 in Randy’s use case looks a lot like Step 3 in our use case... but in his step, the focus is on the noun “bark”, and not “the owner’s dog.” So is Randy right? Does this whole textual analysis thing fall apart if you use a few different words in your use case?</strong></span></p><p><span class="strong"><strong>What do <span class="underline">you</span> think?</strong></span></p><div class="note" title="Note"><h3 class="title"><a id="ch04note04"></a>Note</h3><p>HINT: Look closely at Randy’s Step 3. Does it describe a system that works exactly the same as the system on page 170?</p></div></div><div class="sect1" title="One of these things is not like the other..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="one_of_these_things_is_not_like_the_othe">One of these things is not like the other...</h2></div></div></div><p><a id="iddle1184" class="indexterm"></a>It looks like Randy’s Step 3 is actually just a little bit different than our original Step 3... so where did Randy go wrong?</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>3. If it’s the owner’s dog barking, the bark recognizer sends a request to the door to open.</strong></span></p></blockquote></div><div class="note" title="Note"><h3 class="title"><a id="ch04note05"></a>Note</h3><p>Here’s our Step 3, from the original use case we wrote back in <a class="xref" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Requirements Change: I Love You, You’re Perfect... Now Change">Chapter&nbsp;3</a>.</p></div><div class="sect2" title="Focus: owner’s dog"><div class="titlepage"><div><div><h3 class="title" id="focus_ownerapostrophes_dog">Focus: owner’s <span class="underline">dog</span></h3></div></div></div><p>Our original Step 3 focuses on the owner’s dog... <span class="emphasis"><em>no matter how the dog sounds when it barks</em></span>. So if the owner’s dog barks with a loud “Rowlf!” one day, but a quiet “ruff” the next, the system will let the dog in, either way. That’s because we’re focusing on the <span class="emphasis"><em>dog</em></span>, not a particular bark.</p><div class="informalfigure"><a id="med_id00245a"></a><div class="mediaobject"><a id="med_id00245"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069175.png.jpg" alt="image with no caption" width="335" height="227"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>3. If the owner’s dog’s bark matches the bark heard by the bark recognizer, the dog door should open.</strong></span></p></blockquote></div><div class="note" title="Note"><h3 class="title"><a id="ch04note06"></a>Note</h3><p>And here’s Step 3 from the use case that Randy came up with for the same dog door.</p></div></div><div class="sect2" title="Focus: owner’s dog’s bark"><div class="titlepage"><div><div><h3 class="title" id="focus_ownerapostrophes_dogapostrophes_ba">Focus: owner’s dog’s <span class="underline">bark</span></h3></div></div></div><p>Randy’s use case focuses on the owner’s dog’s bark... but what if the dog has more than one sound it makes? And what if two dogs bark in a really similar way? This step looks similar to the original Step 3, but <span class="emphasis"><em>it’s really not the same at all!</em></span></p><div class="informalfigure"><a id="med_id00246a"></a><div class="mediaobject"><a id="med_id00246"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069177.png.jpg" alt="image with no caption" width="388" height="243"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00058"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3qe1"></a><a id="ch04qa3q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1748" class="indexterm"></a><a id="iddle1805" class="indexterm"></a><span class="strong"><strong>Q: So you’re telling me as long as I write use cases, all my software will work like it should?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Well, use cases are certainly a good start towards writing good software. But there’s a lot more to it than that. Remember, analysis helps you figure out the classes from your use case, and in the next chapter, we’ll spend some time talking about good design principles in writing those classes.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3qe2"></a><a id="ch04qa3q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: I’ve never used use cases before, and I’ve never had any problems. Are you saying that I <span class="emphasis"><em>have</em></span> to write use cases to create good software?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> No, not at all. There are plenty of programmers who are good at their jobs, and don’t even know what a use case is. But if you want your software to satisfy the customer more often, and you want your code to work correctly with less rework, then use cases can really help you nail your requirements down... <span class="emphasis"><em>before</em></span> you make embarrassing mistakes in front of your boss or a customer.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3qe3"></a><a id="ch04qa3q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: It seems like this stuff about nouns and analysis is pretty tricky, and I’m not any good at English grammar. What can I do?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You really don’t need to focus too much on grammar. Just write your use cases in conversational English (or whatever language you speak and write in). Then figure out what the “things” are in your use case—those are generally the nouns. For each noun, think about if you need a class to represent it, and you’ve got a good start on a real-world analysis of your system.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3qe4"></a><a id="ch04qa3q4"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: But what if I make a mistake like Randy did, and use a noun in my use case when I shouldn’t?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa3q4a4"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Randy’s mistake—using “bark” as a noun in step 3 of his use case—had nothing to do with Randy’s grammar. He didn’t think through the use case, and how his system would work in the real world. Instead of focusing on getting the owner’s dog outside, he was worrying about one specific bark. <span class="emphasis"><em>He focused on the wrong thing!</em></span></p><p>When you write your use case, reread it, and make sure that it makes sense to you. You might even want to let a couple of friends or co-workers read through it, too, and make sure it will work in the real world, not just in a controlled environment.</p></td></tr></tbody></table></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>A good use case <span class="underline">clearly</span> and <span class="underline">accurately</span> explains what a system does, in language that’s easily understood.</strong></span></p><p><span class="strong"><strong>With a good use case complete, <span class="underline">textual</span> <span class="underline">analysis</span> is a quick and easy way to figure out the classes in your system.</strong></span></p></blockquote></div></div><div class="informalfigure"><a id="med_id00247a"></a><div class="mediaobject"><a id="med_id00247"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069179.png.jpg" alt="image with no caption" width="547" height="583"></div></div><p><a id="iddle1632" class="indexterm"></a><a id="iddle1749" class="indexterm"></a><span class="strong"><strong>Textual analysis tells you what to focus on, not just what classes you should create.</strong></span></p><p>Even though we don’t have a <span class="strong"><strong><code class="literal">Dog</code></strong></span> class, textual analysis gave us an important clue about what our system really needs to do: get the owner’s dog in and out of the door, <span class="emphasis"><em>regardless of how he barks</em></span>. In other words, our analysis helped us understand what to focus on... and it’s <span class="emphasis"><em>not</em></span> a specific bark.</p><p>Once you’ve figured that out, it makes sense to think about what a dog really does. Does a dog always bark the same way? That’s when Maria figured out her real-world solution: she realized that if the owner’s dog could bark in more than one way, and the point was getting the owner’s dog outside, then the dog door needed to store <span class="emphasis"><em>all</em></span> the ways that the dog could bark, not just one of them. But Maria would have never figured this out if she hadn’t really analyzed her use case.</p><div class="sidebar"><a id="sharpen_your_pencil-id00059"></a><div class="sidebar-title">Sharpen your pencil</div><p>Why is there no Dog class?</p><p>When you picked the nouns out of the use case, one that kept showing up was “the owner’s dog.” But Maria decided not to create a Dog object. Why not? Below, write down three reasons you think Maria <span class="emphasis"><em>didn’t</em></span> create a Dog class in her system.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>_____________________________________________________________________</p></li><li class="listitem"><p>_____________________________________________________________________</p></li><li class="listitem"><p>_____________________________________________________________________</p></li></ol></div><p><span class="inlinemediaobject"><a id="inline_id00011"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068819.png.jpg" alt="" width="99" height="9"></span> <span class="strong"><strong>Answers in <a class="xref" href="ch04.html#sharpen_your_pencil_answers-id00062" title="Sharpen your pencil answers">Sharpen your pencil answers</a>.</strong></span></p></div></div></div><div class="sect1" title="Remember: pay attention to those nouns!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="remember_pay_attention_to_those_nounsexc">Remember: pay attention to those nouns!</h2></div></div></div><p><a id="iddle1439" class="indexterm"></a><a id="iddle1875" class="indexterm"></a>Even if the nouns in your use case don’t get turned into classes in your system, they’re always important to making your system work like it should.</p><div class="informalfigure"><a id="med_id00248a"></a><div class="mediaobject"><a id="med_id00248"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069181.png.jpg" alt="image with no caption" width="456" height="239"></div></div><p><span class="strong"><strong>The point is that the <span class="underline">nouns</span> are what you should focus on. If you focus on the dog in this step, you’ll figure out that you need to make sure the dog gets in and out of the dog door—whether he has <span class="underline">one</span> bark, or <span class="underline">multiple</span> barks.</strong></span></p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Pay attention to the <span class="underline">nouns</span> in your use case, even when they aren’t classes in your system.</strong></span></p><p><span class="strong"><strong>Think about how the classes you <span class="underline">do</span> have can support the behavior your use case describes.</strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00249a"></a><div class="mediaobject"><a id="med_id00249"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069183.png.jpg" alt="image with no caption" width="526" height="395"></div></div><div class="informalfigure"><a id="med_id00250a"></a><div class="mediaobject"><a id="med_id00250"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069185.png.jpg" alt="image with no caption" width="423" height="507"></div></div><p><a id="iddle1883" class="indexterm"></a><a id="iddle1895" class="indexterm"></a><span class="strong"><strong>The verbs in your use case are (usually) the methods of the objects in your system.</strong></span></p><p>You’ve already seen how the nouns in your use case usually are a good starting point for figuring out what <span class="strong"><strong>classes</strong></span> you might need in your system. If you look at the verbs in your use case, you can usually figure out what <span class="strong"><strong>methods</strong></span> you’ll need for the objects that those classes represent:</p><div class="informalfigure"><a id="med_id00251a"></a><div class="mediaobject"><a id="med_id00251"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069187.png.jpg" alt="image with no caption" width="760" height="489"></div></div><div class="sidebar"><a id="code_magnets-id00060"></a><div class="sidebar-title">Code Magnets</div><p><a id="iddle1752" class="indexterm"></a>It’s time to do some more textual analysis. Below is the use case for the dog door you’ve been developing. At the bottom of the page are magnets for most of the classes and methods we’ve got in our system so far. Your job is to match the class magnets up with the nouns in the use case, and the method magnets up with the verbs in the use case. See how closely the methods line up with the verbs.</p><div class="informalfigure"><a id="med_id00252a"></a><div class="mediaobject"><a id="med_id00252"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069189.png.jpg" alt="image with no caption" width="968" height="893"></div></div></div><div class="sidebar"><a id="code_magnets_solutions-id00061"></a><div class="sidebar-title">Code Magnets Solutions</div><p><a id="iddle1753" class="indexterm"></a>It’s time to do some more textual analysis. Below is the use case for the dog door you’ve been developing. At the bottom of the page are magnets for most of the classes and methods we’ve got in our system so far. Your job is to match the class magnets up with the nouns in the use case, and the method magnets up with the verbs in the use case. See how closely the methods line up with the verbs.</p><div class="informalfigure"><a id="med_id00253a"></a><div class="mediaobject"><a id="med_id00253"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069191.png.jpg" alt="image with no caption" width="820" height="839"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00062"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1633" class="indexterm"></a><a id="iddle1789" class="indexterm"></a>Why didn’t Maria create a Dog class?</p><p>When you picked the nouns out of the use case, one that kept showing up was “the owner’s dog.” But Maria decided not to create a Dog object. Why not? Here are three reasons we think Maria made the right choice.</p><div class="informalfigure"><a id="med_id00254a"></a><div class="mediaobject"><a id="med_id00254"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069193.png.jpg" alt="image with no caption" width="874" height="399"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00063"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa4qe1"></a><a id="ch04qa4q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So the nouns in the use case turn into classes, and the verbs turn into methods?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa4q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> That’s almost it. Actually, the nouns are <span class="emphasis"><em>candidates</em></span> for classes... not every noun will be a class. For instance, “the owner” is a noun in the use case (check out Steps 2.1 and 3.1, for example), but we don’t need a class for that noun. So even though “the owner” is a candidate for a class, it doesn’t become a class in the actual system.</p><p>In the same way, the verbs are candidates for operations. For example, one verb phrase is “does his business,” but we just couldn’t bear to write a <span class="strong"><strong><code class="literal">pee()</code></strong></span> or <span class="strong"><strong><code class="literal">poop()</code></strong></span> method. We hope you’ll agree that we made the right choice! Still, textual analysis is a really good start to figuring out the classes and methods you’ll need in your system.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch04qa4qe2"></a><a id="ch04qa4q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: It looks like the nouns that are outside the system don’t get turned into classes. Is that always true?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch04qa4q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Most of the time it is. The only common exception is when you have to interact with something outside the system—like when there’s some state or behavior that the system needs to work with on a recurring basis.</p><p>In the dog door system, for example, we didn’t need a class for the owner because the <span class="strong"><strong><code class="literal">Remote</code></strong></span> class took care of all the owner-related activity. If we ever needed to track owner state, though—like if the owner was asleep or awake—then we might have to create an <span class="strong"><strong><code class="literal">Owner</code></strong></span> class.</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="From good analysis to good classes..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="from_good_analysis_to_good_classeshellip">From good analysis to good classes...</h2></div></div></div><div class="informalfigure"><a id="med_id00255a"></a><div class="mediaobject"><a id="med_id00255"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069195.png.jpg" alt="image with no caption" width="427" height="381"></div></div><div class="blockquote"><blockquote class="blockquote"><p><a id="iddle1210" class="indexterm"></a><span class="strong"><strong><span class="underline">Maria’s Dog Door Class Diagram</span></strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00256a"></a><div class="mediaobject"><a id="med_id00256"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069197.png.jpg" alt="image with no caption" width="649" height="623"></div></div><div class="sidebar"><a id="uml_investigation"></a><div class="sidebar-title">UML Investigation</div><p><a id="iddle1825" class="indexterm"></a>Maria’s gone pretty crazy with her UML diagrams... do you think you can figure out what all she’s done? On the diagram below, add notes to all the new things she’s added, and try and figure out what the lines, numbers, and additional words all mean. We’ve written a few notes of our own to get you started.</p><div class="informalfigure"><a id="med_id00257a"></a><div class="mediaobject"><a id="med_id00257"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069199.png.jpg" alt="image with no caption" width="570" height="588"></div></div><p><span class="inlinemediaobject"><a id="inline_id00012"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068819.png.jpg" alt="" width="99" height="9"></span> <span class="strong"><strong>Answers in <a class="xref" href="ch04.html#uml_investigation_complete" title="UML Investigation Complete">UML Investigation Complete</a>.</strong></span></p></div></div><div class="sect1" title="Class diagrams dissected"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="class_diagrams_dissected">Class diagrams dissected</h2></div></div></div><p><a id="iddle1092" class="indexterm"></a><span class="strong"><strong>There’s a lot more to a class diagram than boxes and text. Let’s see how some lines and arrows can add a lot more information to your class diagrams.</strong></span></p><div class="informalfigure"><a id="med_id00258a"></a><div class="mediaobject"><a id="med_id00258"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069201.png.jpg" alt="image with no caption" width="1000" height="506"></div></div><div class="informalfigure"><a id="med_id00259a"></a><div class="mediaobject"><a id="med_id00259"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069203.png.jpg" alt="image with no caption" width="86" height="136"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00064"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1206" class="indexterm"></a><a id="iddle1434" class="indexterm"></a><a id="iddle1634" class="indexterm"></a>Based on the class diagram below, what types could you use for the <span class="strong"><strong><code class="literal">barks</code></strong></span> member variable in your <span class="strong"><strong><code class="literal">DogDoor</code></strong></span> class? Write your ideas in the blank below:</p><div class="note" title="Note"><h3 class="title"><a id="ch04note07"></a>Note</h3><p>Answers to this exercise are in <a class="xref" href="ch04.html#sharpen_your_pencil_answers-id00065" title="Sharpen your pencil answers">Sharpen your pencil answers</a>.</p></div><p>_____________________________________________________________________</p></div><div class="sidebar"><a id="uml_investigation_complete"></a><div class="sidebar-title">UML Investigation Complete</div><p><a id="iddle1826" class="indexterm"></a>Maria’s gone pretty crazy with her UML diagrams... see if you can figure out everything that she’s done.</p><div class="informalfigure"><a id="med_id00260a"></a><div class="mediaobject"><a id="med_id00260"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069205.png.jpg" alt="image with no caption" width="680" height="690"></div></div></div><p><a id="iddle1635" class="indexterm"></a><span class="strong"><strong>Exercise Solutions</strong></span></p><div class="informalfigure"><a id="med_id00261a"></a><div class="mediaobject"><a id="med_id00261"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068857.png.jpg" alt="image with no caption" width="84" height="72"></div></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00065"></a><div class="sidebar-title">Sharpen your pencil answers</div><p>Based on the class diagram below, what types could you use for the barks member variable in your DogDoor class? Write your ideas in the blank below:</p><p><span class="strong"><strong><span class="underline">List, Array, Vector, etc.</span></strong></span>_________________________________</p><div class="note" title="Note"><h3 class="title"><a id="ch04note08"></a>Note</h3><p>You could write any type that supports multiple values... most of the Java Collection classes would work.</p></div><div class="informalfigure"><a id="med_id00262a"></a><div class="mediaobject"><a id="med_id00262"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069207.png.jpg" alt="image with no caption" width="567" height="249"></div></div></div><div class="note" title="Note"><h3 class="title"><a id="ch04note09"></a>Note</h3><p>Notice that this diagram, although positioned very differently, has the same classes and associations as this diagram.</p></div><div class="informalfigure"><a id="med_id00263a"></a><div class="mediaobject"><a id="med_id00263"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069209.png.jpg" alt="image with no caption" width="387" height="423"></div></div><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;I may have missed creating a <span class="strong"><strong><code class="literal">Bark</code></strong></span> class, but my solution wasn’t that bad, and I didn’t waste a bunch of my time drawing squares and arrows.</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;Haven’t you ever heard that a picture is worth a thousand words? Once I had my class diagram, I had a pretty good idea about how my whole system was going to work.</p><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;Well, yeah, I guess I can see that... but I had a good idea of how my system would work, too. It was just in my head, not drawn out on paper.</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;I think I’m starting to come around on this UML thing, Randy. I mean, once you’ve got the use case, it’s pretty natural to do some analysis, and turn the nouns into classes. It seems like you wouldn’t have to spend as much time worrying about what should be a class, and what shouldn’t.</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;Exactly! I hate writing a bunch of classes and then finding out I did something wrong. With use cases and class diagrams, if I make a mistake, I can just scribble things out and redraw my diagram.</p><div class="note" title="Note"><h3 class="title"><a id="ch04note10"></a>Note</h3><p>Remember how we said OOA&amp;D helps you write great software, <span class="underline">every</span> <span class="underline">time</span>? This is one way OOA&amp;D can help you avoid making mistakes in your code.</p></div><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;Well, I guess that’s true. Rewriting code takes a lot more time than rewriting a use case or redrawing a class diagram...</p><p title="Maria:"><span class="title"><strong><span class="strong"><strong>Maria:</strong></span></strong></span>&nbsp;And you know, if you ever have to work with anyone else, you’re going to have to explain that system in your head to them somehow, right?</p><p title="Sam:"><span class="title"><strong><span class="strong"><strong>Sam:</strong></span></strong></span>&nbsp;I think she’s right, Randy. I’ve seen your whiteboard when you’re trying to explain your ideas... it’s a mess!</p><p title="Randy:"><span class="title"><strong><span class="strong"><strong>Randy:</strong></span></strong></span>&nbsp;OK, even I can’t argue with that. But I still think class diagrams don’t tell the whole story. Like, how is our code actually going to compare barks and figure out if the dog door should open up?</p><div class="informalfigure"><a id="med_id00264a"></a><div class="mediaobject"><a id="med_id00264"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069211.png.jpg" alt="image with no caption" width="603" height="209"></div></div></div><div class="sect1" title="Class diagrams aren’t everything"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="class_diagrams_arenapostrophet_everythin">Class diagrams aren’t everything</h2></div></div></div><p><a id="iddle1094" class="indexterm"></a>Class diagrams are a great way to get an overview of your system, and show the parts of your system to co-workers and other programmers. But there’s still plenty of things that they <span class="emphasis"><em>don’t</em></span> show.</p><p><span class="strong"><strong>Class diagrams provide limited type information</strong></span></p><div class="informalfigure"><a id="med_id00265a"></a><div class="mediaobject"><a id="med_id00265"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069213.png.jpg" alt="image with no caption" width="725" height="219"></div></div><p>Class diagrams don’t tell you how to code your methods</p><div class="informalfigure"><a id="med_id00266a"></a><div class="mediaobject"><a id="med_id00266"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069215.png.jpg" alt="image with no caption" width="463" height="152"></div></div><p><span class="strong"><strong>Class diagrams only give you a 10,000 foot view of your system</strong></span></p><div class="informalfigure"><a id="med_id00267a"></a><div class="mediaobject"><a id="med_id00267"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069217.png.jpg" alt="image with no caption" width="417" height="169"></div></div><div class="sidebar"><a id="whatapostrophes_missing"></a><div class="sidebar-title">What’s Missing</div><p><a id="iddle1097" class="indexterm"></a>Class diagrams are great for modeling the classes you need to create, but they don’t provide all the answers you’ll need in programming your system. You’ve already seen that the dog door class diagram doesn’t tell us much about matching up return types; what other things do you think are unclear from this diagram that you might need to know to program the dog door?</p><p>Add notes to the diagram below about what you might need to figure out in order to program the door. We’ve added a note about comparing barks to get you started.</p><div class="informalfigure"><a id="med_id00268a"></a><div class="mediaobject"><a id="med_id00268"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069219.png.jpg" alt="image with no caption" width="530" height="566"></div></div><p><span class="inlinemediaobject"><a id="inline_id00013"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068819.png.jpg" alt="" width="99" height="9"></span> <span class="strong"><strong>Answer in <a class="xref" href="ch04.html#whatapostrophes_missing-id00066" title="What’s Missing">What’s Missing</a></strong></span></p></div></div><div class="sect1" title="So how does recognize() work now?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="so_how_does_recognizeleft_parenthesisrig">So how does recognize() work now?</h2></div></div></div><p><a id="iddle1055" class="indexterm"></a><a id="iddle1750" class="indexterm"></a>Maria’s figured out that her <span class="strong"><strong><code class="literal">BarkRecognizer</code></strong></span> class should be able to compare any bark it receives against multiple allowed barks, but her class diagram doesn’t tell us much about how to actually write the <span class="strong"><strong><code class="literal">recognize()</code></strong></span> method.</p><p>Instead, we have to look at Maria’s code. Here’s the <span class="strong"><strong><code class="literal">recognize()</code></strong></span> method of her <span class="strong"><strong><code class="literal">BarkRecognizer</code></strong></span>, and how she solved the barking problem:</p><div class="informalfigure"><a id="med_id00269a"></a><div class="mediaobject"><a id="med_id00269"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069221.png.jpg" alt="image with no caption" width="784" height="305"></div></div><div class="informalfigure"><a id="med_id00270a"></a><div class="mediaobject"><a id="med_id00270"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069223.png.jpg" alt="image with no caption" width="721" height="279"></div></div><p><a id="iddle1098" class="indexterm"></a><span class="strong"><strong>Exercise Solutions</strong></span></p><div class="informalfigure"><a id="med_id00271a"></a><div class="mediaobject"><a id="med_id00271"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068857.png.jpg" alt="image with no caption" width="84" height="72"></div></div><div class="sidebar"><a id="whatapostrophes_missing-id00066"></a><div class="sidebar-title">What’s Missing</div><p>Add notes to the diagram about what you might need to figure out to program the door.</p></div><div class="informalfigure"><a id="med_id00272a"></a><div class="mediaobject"><a id="med_id00272"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069225.png.jpg" alt="image with no caption" width="692" height="564"></div></div><p>*These are just a few of the things we thought of. Your answers may be totally different, if you thought of other things that the class diagram doesn’t really show.</p><div class="informalfigure"><a id="med_id00273a"></a><div class="mediaobject"><a id="med_id00273"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069227.png.jpg" alt="image with no caption" width="656" height="439"></div></div><div class="sidebar"><a id="bullet_points-id00067"></a><div class="sidebar-title">Bullet Points</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a id="iddle1076" class="indexterm"></a>Analysis helps you ensure that your software works in the real world context, and not just in a perfect environment.</p></li><li class="listitem"><p>Use cases are meant to be understood by you, your managers, your customers, and other programmers.</p></li><li class="listitem"><p>You should write your use cases in whatever format makes them most usable to you and the other people who are looking at them.</p></li><li class="listitem"><p>A good use case precisely lays out what a system does, but does not indicate how the system accomplishes that task.</p></li><li class="listitem"><p>Each use case should focus on only one customer goal. If you have multiple goals, you will
need to write multiple use cases.</p></li><li class="listitem"><p>Class diagrams give you an easy way to show your system and its code constructs at a 10,000-foot view.</p></li><li class="listitem"><p>The attributes in a class diagram usually map to the member variables of your classes.</p></li><li class="listitem"><p>The operations in a class diagram usually represent the methods of your classes.</p></li><li class="listitem"><p>Class diagrams leave lots of detail out, such as class constructors, some type information, and the purpose of operations on your classes.</p></li><li class="listitem"><p>Textual analysis helps you translate a use case into code-level classes, attributes, and operations.</p></li><li class="listitem"><p>The nouns of a use case are candidates for classes in your system, and the verbs are candidates for methods on your system’s classes.</p></li></ul></div></div><div class="sidebar"><a id="design_puzzle-id00068"></a><div class="sidebar-title">Design Puzzle</div><div class="informalfigure"><a id="med_id00274a"></a><div class="mediaobject"><a id="med_id00274"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069229.png.jpg" alt="image with no caption" width="431" height="525"></div></div><p><a id="iddle1217" class="indexterm"></a>Maria’s old computer screwed up all the code she wrote for her dog door except for <span class="strong"><strong><code class="literal">DogDoorSimulator.java</code></strong></span>, shown on the next page. All we’ve got to go on are the code fragments from her solution in this chapter, her class diagrams, and what you’ve learned about good analysis, requirements and OO programming. It’s your turn to be a hero...</p><p><span class="strong"><strong>The problem:</strong></span></p><p>You need to code the dog door application so that it satisfies all of Doug’s new customers (that’s a lot of potential sales), especially the ones with more than one dog in the neighborhood. The door should operate just as the use cases in this chapter describe the system.</p><p><span class="strong"><strong>Your task:</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Start out by re-creating the dog door application as it was described in <a class="xref" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Requirements Change: I Love You, You’re Perfect... Now Change">Chapter&nbsp;3</a>. You can download this code from the Head First Labs web site if you want a jump start.</p></li><li class="listitem"><p>Copy or download <span class="strong"><strong><code class="literal">DogDoorSimulator.java</code></strong></span>, shown on the next page. This is the only file that survived Maria’s laptop meltdown.</p></li><li class="listitem"><p>Make your code match up with Maria’s class diagram, shown in <a class="xref" href="ch04.html#from_good_analysis_to_good_classeshellip" title="From good analysis to good classes...">From good analysis to good classes...</a>.</p></li><li class="listitem"><p>Start coding! First concentrate on getting all of your classes to compile, so you can begin testing.</p></li><li class="listitem"><p>Use the <span class="strong"><strong><code class="literal">DogDoorSimulator</code></strong></span> class to see if things are working like they should.</p></li><li class="listitem"><p>Keep up the analysis and coding until your test class’s output matches the output shown on the next page. Don’t give up!</p></li><li class="listitem"><p>Once you think you’ve got a working dog door, check your code against ours at the Head First Labs web site. We’ll be waiting.</p></li></ol></div></div><div class="informalfigure"><a id="med_id00275a"></a><div class="mediaobject"><a id="med_id00275"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069232.png.jpg" alt="image with no caption" width="808" height="885"></div></div><div class="sidebar"><a id="whatapostrophes_my_definition"></a><div class="sidebar-title">What’s My Definition</div><p><a id="iddle1040" class="indexterm"></a><a id="iddle1041" class="indexterm"></a><a id="iddle1089" class="indexterm"></a><a id="iddle1435" class="indexterm"></a><a id="iddle1437" class="indexterm"></a><a id="iddle1489" class="indexterm"></a><a id="iddle1894" class="indexterm"></a>UML and use cases have a lot of terms that are similar to, but not quite the same as, the programming terms you’re already familiar with. Below are several OOA&amp;D-related terms, and their definitions... but everything is all mixed up. Connect the term to the definition, and unscramble the mess.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Noun Analysis</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Lists all the code-level constructs, along with their attributes and operations.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Multiplicity</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>This is the UML term that usually represents a method in one of your classes.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Attribute</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Helps you figure out the candidates for methods on the objects in your system.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Class Diagram</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Visually shows that one class has a relation to another class, often through an attribute.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Operation</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Equivalent to a member variable in a class.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Association</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Describes how many of a specific type can be stored in an attribute of a class.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p><span class="strong"><strong>Verb Analysis</strong></span></p></td><td style="vertical-align: top; "><p>You do this to your use case to figure out what classes you need in your system.</p></td></tr></tbody></table></div></div><div class="sidebar"><a id="ooaampersandd_cross-id00069"></a><div class="sidebar-title">OOA&amp;D Cross</div><p><a id="iddle1464" class="indexterm"></a>You know you love it... try another puzzling crossword to get those new concepts lodged firmly in your brain.</p><div class="informalfigure"><a id="med_id00276a"></a><div class="mediaobject"><a id="med_id00276"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069234.png.jpg" alt="image with no caption" width="545" height="401"></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Across</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Down</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1. Use cases should use this kind of language.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>2. Analysis makes sure your application works in this place.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>5. Every class diagram has one of these for each member variable.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>3. An operation is UML-ese for this</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>10. This focuses on putting your application into the correct context.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>4. You do this to your use cases to figure out the classes and operation in your system.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>12. Software always works better in the testing lab than here.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>6. He replaced Fido as this chapter’s star.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>13. Maria won the laptop because she paid attention to the</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>7. Class diagrams are a great way to get this of your system.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>14. This relates one class to another</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>8. How many of a type an attribute can hold is its ____________.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>16. You write your use case so you can ____________ your customers</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>9. These types of diagrams are worth a thousand words to a programmer.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>17. Use cases should be ________ as well as easily understood.</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>11. Use cases aren’t formal, but they are ________.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>18. UML is this type of modeling language.</p></td><td style="vertical-align: top; "><p>15. Verb is to operation as this is to attribute.</p></td></tr></tbody></table></div></div><div class="sidebar"><a id="exercise_solutions-id00070"></a><div class="sidebar-title">Exercise Solutions</div><div class="informalfigure"><a id="med_id00277a"></a><div class="mediaobject"><a id="med_id00277"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069236.png.jpg" alt="image with no caption" width="446" height="328"></div></div></div><div class="sidebar"><a id="whatapostrophes_my_definition-id00071"></a><div class="sidebar-title">What’s My Definition</div><p>UML and use cases have a lot of terms that are similar to, but not quite the same as, the programming terms you’re already familiar with. Below are several OOA&amp;D-related terms, and their definitions... but everything is all mixed up. Connect the term to the definition, and unscramble the mess.</p><div class="informalfigure"><a id="med_id00278a"></a><div class="mediaobject"><a id="med_id00278"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069238.png.jpg" alt="image with no caption" width="526" height="347"></div></div></div></div></section></div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/core.css" crossorigin="anonymous"></div></div></section>
</div>


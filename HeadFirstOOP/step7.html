<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section class="chapter" title="Chapter&nbsp;7.&nbsp;Architecture: Bringing Order to Chaos" epub:type="chapter" id="architecture_bringing_order_to_chaos"><div class="titlepage"><div><div><h2 class="title">Chapter&nbsp;7.&nbsp;Architecture: Bringing Order to Chaos</h2></div></div></div><div class="informalfigure"><a id="med_id00442a"></a><div class="mediaobject"><a id="med_id00442"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069580.png.jpg" alt="image with no caption" width="538" height="489"></div></div><p><span class="strong"><strong>You have to start somewhere, but you better pick the right somewhere!</strong></span> You know how to break your application up into lots of small problems, but all that means is that you have <span class="strong"><strong>LOTS</strong></span> of small problems. In this chapter, we’re going to help you figure out <span class="strong"><strong>where to start</strong></span>, and make sure that you don’t waste any time working on the wrong things. It’s time to take all those <span class="strong"><strong>little pieces</strong></span> laying around your workspace, and figure out how to turn them into a <span class="strong"><strong>well-ordered, well-designed application</strong></span>. Along the way, you’ll learn about the all-important <span class="strong"><strong>3 Qs of architecture</strong></span>, and how <span class="strong"><strong>Risk</strong></span> is a lot more than just a cool war game from the ‘80s.</p><div class="sect1" title="Feeling a little overwhelmed?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="feeling_a_little_overwhelmedquestion_mar">Feeling a little overwhelmed?</h2></div></div></div><p><a id="iddle1302" class="indexterm"></a><a id="iddle1320" class="indexterm"></a>So you’ve got lots of small pieces of functionality that you know how to take care of... but you’ve also got use case diagrams, feature lists, and a whole lot of other things to think about.</p><div class="informalfigure"><a id="med_id00443a"></a><div class="mediaobject"><a id="med_id00443"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069582.png.jpg" alt="image with no caption" width="314" height="301"></div></div><div class="note" title="Gary’s Game System Framework Feature List"><h3 class="title"><a id="ch07note01"></a>Gary’s Game System Framework Feature List</h3><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span class="strong"><strong>The framework supports different types of terrain.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports different time periods, including fictional periods like sci-fi and fantasy.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports multiple types of troops or units that are game-specific.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports add-on modules for additional campaigns or battle scenarios.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework provides a board made up of square tiles, and each tile has a terrain type.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework keeps up with whose turn it is.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework coordinates basic movement.</strong></span></p></li></ol></div></div><p><span class="strong"><strong>We have feature lists...</strong></span></p><div class="informalfigure"><a id="med_id00444a"></a><div class="mediaobject"><a id="med_id00444"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069584.png.jpg" alt="image with no caption" width="428" height="425"></div></div><div class="informalfigure"><a id="med_id00445a"></a><div class="mediaobject"><a id="med_id00445"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069586.png.jpg" alt="image with no caption" width="645" height="371"></div></div><p><span class="strong"><strong>...high-level views of what we need to build...</strong></span></p><div class="informalfigure"><a id="med_id00446a"></a><div class="mediaobject"><a id="med_id00446"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069588.png.jpg" alt="image with no caption" width="485" height="583"></div></div><p><span class="strong"><strong>...the customer’s vision...</strong></span></p><div class="informalfigure"><a id="med_id00447a"></a><div class="mediaobject"><a id="med_id00447"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069590.png.jpg" alt="image with no caption" width="606" height="384"></div></div><p><span class="strong"><strong>...and even some design patterns to apply.</strong></span></p><div class="note" title="Brain Power"><h3 class="title"><a id="ch07note02"></a>Brain Power</h3><p>Do you think it matters what you should try to do first? If you do, why? And what would <span class="strong"><strong><span class="emphasis"><em>you</em></span></strong></span> work on first?</p></div></div><div class="sect1" title="We need an architecture"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="we_need_an_architecture">We need an <span class="underline">architecture</span></h2></div></div></div><p><a id="iddle1033" class="indexterm"></a><a id="iddle1516" class="indexterm"></a>It’s really not enough to just figure out the individual pieces of a big problem. You also need to know a little bit about how those pieces fit together, and which ones might be more important than others; that way, you’ll know what you should work on <span class="emphasis"><em>first</em></span>.</p><div class="informalfigure"><a id="med_id00448a"></a><div class="mediaobject"><a id="med_id00448"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069592.png.jpg" alt="image with no caption" width="752" height="440"></div></div><div class="sidebar"><a id="scholarapostrophes_corner-id00105"></a><div class="sidebar-title">The Scholar’s Corner</div><p><span class="strong"><strong>architecture.</strong></span> Architecture is the organizational structure of a system, including its decomposition into parts, their connectivity, interaction mechanisms, and the guiding principles and decisions that you use in the design of a system.</p></div></div><div class="sect1" title="Architecture takes a big chaotic mess..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="architecture_takes_a_big_chaotic_messhel">Architecture takes a big chaotic mess...</h2></div></div></div><div class="informalfigure"><a id="med_id00449a"></a><div class="mediaobject"><a id="med_id00449"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069594.png.jpg" alt="image with no caption" width="768" height="419"></div></div></div><div class="sect1" title="... and helps us turn it into a well-ordered application"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hellip_and_helps_us_turn_it_into_a_well">... and helps us turn it into a well-ordered application</h2></div></div></div><div class="informalfigure"><a id="med_id00450a"></a><div class="mediaobject"><a id="med_id00450"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069596.png.jpg" alt="image with no caption" width="673" height="388"></div></div><div class="informalfigure"><a id="med_id00451a"></a><div class="mediaobject"><a id="med_id00451"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069598.png.jpg" alt="image with no caption" width="262" height="260"></div></div><p><span class="strong"><strong>You write great software the same way, whether you’re working on a small project, or a huge one. You can still apply the three steps we talked about way back in <a class="xref" href="ch01.html" title="Chapter&nbsp;1.&nbsp;Well-Designed Apps Rock: Great Software Begins Here">Chapter&nbsp;1</a>.</strong></span></p><div class="informalfigure"><a id="med_id00452a"></a><div class="mediaobject"><a id="med_id00452"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069600.png.jpg" alt="image with no caption" width="790" height="956"></div></div></div><div class="sect1" title="Let’s start with functionality"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="letapostrophes_start_with_functionality">Let’s start with <span class="underline">functionality</span></h2></div></div></div><p><a id="iddle1303" class="indexterm"></a><a id="iddle1321" class="indexterm"></a>The first step is always to make sure an application does what it’s supposed to do. In small projects, we used a requirements list to write down functionality; in big projects, we’ve been using a feature list to figure those things out:</p><div class="informalfigure"><a id="med_id00453a"></a><div class="mediaobject"><a id="med_id00453"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069602.png.jpg" alt="image with no caption" width="537" height="532"></div></div><div class="informalfigure"><a id="med_id00454a"></a><div class="mediaobject"><a id="med_id00454"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069604.png.jpg" alt="image with no caption" width="420" height="494"></div></div></div><div class="sect1" title="But which of these are the most important?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="but_which_of_these_are_the_most_importan">But which of these are the <span class="underline">most</span> <span class="underline">important</span>?</h2></div></div></div><p>Even if we know to start by focusing on functionality, we still need to figure out which pieces are the most important. <span class="emphasis"><em>Those</em></span> are the pieces we want to focus on first.</p><div class="sidebar"><a id="sharpen_your_pencil-id00106"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1304" class="indexterm"></a><a id="iddle1645" class="indexterm"></a>What do YOU think are the most important features?</p><p>Even though our feature list has only seven things on it, there’s a lot of work in those seven features. It’s your job to figure out which features you think are the most important, and then in what order you’d work on those things.</p><div class="informalfigure"><a id="med_id00455a"></a><div class="mediaobject"><a id="med_id00455"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069606.png.jpg" alt="image with no caption" width="557" height="476"></div></div><div class="note" title="Note"><h3 class="title"><a id="ch07note03"></a>Note</h3><p>Write down the 4 things you’d do first, in order, in these blanks.</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>_____________________________________________________________________</p></li><li class="listitem"><p>_____________________________________________________________________</p></li><li class="listitem"><p>_____________________________________________________________________</p></li><li class="listitem"><p>_____________________________________________________________________</p></li></ol></div></div><div class="informalfigure"><a id="med_id00456a"></a><div class="mediaobject"><a id="med_id00456"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069608.png.jpg" alt="image with no caption" width="451" height="538"></div></div><div class="blockquote"><blockquote class="blockquote"><p><a id="iddle1032" class="indexterm"></a><a id="iddle1277" class="indexterm"></a><a id="iddle1517" class="indexterm"></a><span class="strong"><strong>The things in your application that are really important are <span class="underline">architecturally</span> <span class="underline">significant</span>, and you should focus on them <span class="underline">FIRST</span>.</strong></span></p></blockquote></div><p><span class="strong"><strong>You gotta start <span class="underline">somewhere!</span></strong></span></p><p>It’s awfully hard to talk about the relationships between parts of a system if you don’t have any of the parts themselves. So say you wanted to talk about how the Board module interacted with the Units module:</p><div class="informalfigure"><a id="med_id00457a"></a><div class="mediaobject"><a id="med_id00457"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069610.png.jpg" alt="image with no caption" width="387" height="120"></div></div><p>To figure out how these modules interact, you’d need to have at least the basics of the two modules in place first.</p><p>So architecture isn’t just about the relationships between parts of your app; it’s also about figuring out which parts are the <span class="strong"><strong><span class="emphasis"><em>most</em></span></strong></span> important, so you can start building those parts first.</p></div><div class="sect1" title="The three Qs of architecture"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="three_qs_of_architecture">The three Qs of architecture</h2></div></div></div><p><a id="iddle1035" class="indexterm"></a><a id="iddle1256" class="indexterm"></a>When you’re trying to figure out if something is architecturally significant, there are three questions you can ask:</p></div><div class="sect1" title="1. Is it part of the essence of the system?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="onedot_is_it_part_of_the_essence_of_the">1. Is it part of the <span class="emphasis"><em>essence</em></span> of the system?</h2></div></div></div><p>Is the feature really <span class="strong"><strong>core</strong></span> to what a system actually is? Think about it this way: can you imagine the system without that feature? If not, then you’ve probably found a feature that is part of the <span class="strong"><strong>essence</strong></span> of a system.</p><div class="informalfigure"><a id="med_id00458a"></a><div class="mediaobject"><a id="med_id00458"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069612.png.jpg" alt="image with no caption" width="202" height="185"></div></div></div><div class="sect1" title="2. What the fuck does it mean?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="twodot_what_the_fuck_does_it_meanquestio">2. What the <span class="strikethrough">fuck</span> does it <span class="underline">mean</span>?</h2></div></div></div><div class="note" title="Note"><h3 class="title"><a id="ch07note03a"></a>Note</h3><p>Note from marketing: suggest replacing profanity with “heck.”</p></div><p>If you’re not sure what the description of a particular feature <span class="strong"><strong>really means</strong></span>, it’s probably pretty important that you pay attention to that feature. Anytime you’re unsure about what something is, it could take lots of time, or create problems with the rest of the system. Spend time on these features early, rather than late.</p><div class="informalfigure"><a id="med_id00459a"></a><div class="mediaobject"><a id="med_id00459"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069614.png.jpg" alt="image with no caption" width="220" height="130"></div></div></div><div class="sect1" title="3. How the “heck” do I do it?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="threedot_how_the_quotation_markheckquota">3. How the “heck” do I <span class="underline">do</span> it?</h2></div></div></div><p>Another place to focus your attention early on is on features that seem <span class="strong"><strong>really hard</strong></span> to implement, or are <span class="strong"><strong>totally new</strong></span> programming tasks for you. If you have no idea how you’re going to tackle a particular problem, you better spend some time up front looking at that feature, so it doesn’t create lots of problems down the road.</p><div class="informalfigure"><a id="med_id00460a"></a><div class="mediaobject"><a id="med_id00460"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069616.png.jpg" alt="image with no caption" width="245" height="145"></div></div><div class="sidebar"><a id="be_the_architect"></a><div class="sidebar-title">BE the Architect</div><p><a id="iddle1059" class="indexterm"></a><a id="iddle1322" class="indexterm"></a><span class="strong"><strong>To the right, you’ll find the feature list we figured out in the last chapter. Your job is to play like you’re the architect, and figure out what’s architecturally significant by using the three Qs of architecture we just talked about.</strong></span></p><div class="note" title="Gary’s Game System Framework Feature List"><h3 class="title"><a id="ch07note04"></a>Gary’s Game System Framework Feature List</h3><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span class="strong"><strong>The framework supports different types of terrain.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports different time periods, including fictional periods like sci-fi and fantasy.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports multiple types of troops or units that are game-specific.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports add-on modules for additional campaigns or battle scenarios.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework provides a board made up of square tiles, and each tile has a terrain type.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework keeps up with whose turn it is.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework coordinates basic movement.</strong></span></p></li></ol></div></div><div class="informalfigure"><a id="med_id00461a"></a><div class="mediaobject"><a id="med_id00461"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069618.png.jpg" alt="image with no caption" width="776" height="292"></div></div></div><div class="sidebar"><a id="be_the_architect_solutions"></a><div class="sidebar-title">BE the Architect Solutions</div><p><a id="iddle1060" class="indexterm"></a><a id="iddle1323" class="indexterm"></a><span class="strong"><strong>To the right, you’ll find the feature list we figured out in the last chapter. Below are the things we thought were architecturally significant, and which of the three Qs we used to make our decisions.</strong></span></p><div class="note" title="Gary’s Game System Framework Feature List"><h3 class="title"><a id="ch07note05"></a>Gary’s Game System Framework Feature List</h3><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span class="strong"><strong>The framework supports different types of terrain.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports different time periods, including fictional periods like sci-fi and fantasy.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports multiple types of troops or units that are game-specific.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework supports add-on modules for additional campaigns or battle scenarios.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework provides a board made up of square tiles, and each tile has a terrain type.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework keeps up with whose turn it is.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The framework coordinates basic movement.</strong></span></p></li></ol></div></div><div class="informalfigure"><a id="med_id00462a"></a><div class="mediaobject"><a id="med_id00462"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069620.png.jpg" alt="image with no caption" width="815" height="382"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00107"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1qe1"></a><a id="ch07qa1q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1257" class="indexterm"></a><a id="iddle1777" class="indexterm"></a><span class="strong"><strong>Q: I’m a little confused about what you mean by the “essence” of the system. Can you say more about that?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> The essence of a system is what it is at its most basic level. In other words, if you stripped away all the bells and whistles, all the “neat” things that marketing threw in, and all the cool ideas you had, what would the system <span class="emphasis"><em>really</em></span> be about? That’s the essence of a system.</p><p>When you’re looking at a feature, ask yourself: “If this feature wasn’t implemented, would the system still really be what it’s supposed to be?” If the answer is no, you’ve found yourself an “essence feature.” In Gary’s system, we decided that the game wouldn’t really be a game without a board and some units, and there are some more examples in the Brain Power at the bottom of the page.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1qe2"></a><a id="ch07qa1q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: If you don’t know what something means, isn’t that a sign that you’ve got bad requirements?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> No, but it is a sign that you might need to get some additional requirements, or at least some clarification. In the early stages, you can leave some details out to get a basic sense of a system. But at this stage, it’s time to fill in some of those details, and that’s what the second Q of architecture is all about.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1qe3"></a><a id="ch07qa1q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: If I’m working on a new system, I probably won’t know how to do anything on my feature list. So won’t the 3rd Q of architecture about not knowing how to do something always apply?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> No, not at all. For instance, even if you’ve never written code to decide whether a player typed in the letter “q” or the letter “x,” you know how to write a basic <span class="strong"><strong><code class="literal">if</code></strong></span>/<span class="strong"><strong><code class="literal">else</code></strong></span> statement, and it’s easy to grab keyboard input from a player. So a feature like getting keyboard input isn’t something you don’t know how to do, even if you’ve never written code specifically for that task before. It’s just a few new details, really.</p><p>But if you had to write a multi-threaded chat server, and you’re new to threads and network programming, then that would be something that you don’t know how to do. Those are the things to look out for: particularly hard tasks that you’re unsure about how to handle.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1qe4"></a><a id="ch07qa1q4"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Doesn’t this all end up just being a judgment call, anyway?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa1q4a4"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> In a lot of cases, yes. But as long as you choose to start working on the things that seem the most important to the system, you’re going to get off to a good start.</p><p>What you <span class="emphasis"><em>don’t</em></span> want to do is see some things that look familiar—perhaps you’ve solved the same problem in another project—and start there. Start with the core pieces of the system, and the things that look like they might be particularly hard, and you’ll be on the road to success.</p></td></tr></tbody></table></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>The <span class="underline">essence</span> of a system is what that system is at its most <span class="underline">basic</span> <span class="underline">level.</span></strong></span></p></blockquote></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch07note06"></a>Brain Power</h3><p>What do you think the essence of each of these systems is:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A weather-monitoring station?</p></li><li class="listitem"><p>A home automation remote control?</p></li><li class="listitem"><p>A beat-controlling, music-mixing DJ application?</p></li></ul></div></div></div><div class="sect1" title="We’ve got a lot less chaos now..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="weapostropheve_got_a_lot_less_chaos_nowh">We’ve got a lot less chaos now...</h2></div></div></div><p><a id="iddle1324" class="indexterm"></a>Using the three Qs of architecture, we’ve started to add some order to all that confusion we started out with:</p><div class="informalfigure"><a id="med_id00463a"></a><div class="mediaobject"><a id="med_id00463"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069622.png.jpg" alt="image with no caption" width="835" height="606"></div></div></div><div class="sect1" title="... but there’s still plenty left to do"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hellip_but_thereapostrophes_still_plenty">... but there’s still plenty left to do</h2></div></div></div><p>We’ve gotten Gary’s system down to three key features, but the big question remains: which one should you work on first?</p><div class="informalfigure"><a id="med_id00464a"></a><div class="mediaobject"><a id="med_id00464"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069624.png.jpg" alt="image with no caption" width="483" height="312"></div></div></div><div class="sect1" title="Cubicle Argument Conversation"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="cubicle_argument_conversation">Cubicle Argument <span class="strikethrough">Conversation</span></h2></div></div></div><div class="informalfigure"><a id="med_id00465a"></a><div class="mediaobject"><a id="med_id00465"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069626.png.jpg" alt="image with no caption" width="835" height="392"></div></div><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;<a id="iddle1131" class="indexterm"></a>What in the world are you guys thinking? What good is it starting with anything that isn’t the essence of the system?</p><p title="Joe:"><span class="title"><strong><span class="strong"><strong>Joe:</strong></span></strong></span>&nbsp;That’s ridiculous. Even if that’s the essence of the system, you’ve got to figure out what game-specific units are. That could take weeks to write if it’s harder than we think!</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Maybe... but we <span class="emphasis"><em>know</em></span> that coordinating movement will be tough, because we don’t have a clue how to do it! How can you possibly work on anything else when you <span class="emphasis"><em>know</em></span> the movement deal is going to be difficult?</p><p title="Joe:"><span class="title"><strong><span class="strong"><strong>Joe:</strong></span></strong></span>&nbsp;But the game-specific units might be difficult, too! We just don’t know, and that’s my point. We’ve got to figure out the parts of the system we don’t know anything about, or they could be real trouble!</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;You guys go on and write movement engines and deal with units. Me, I’m gonna write a board, because... well... something tells me Gary will want to see a <span class="emphasis"><em>board</em></span> for his <span class="emphasis"><em>board game system</em></span>. And I’m not about to leave the board for later... I’m taking it on first.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;You’re both nuts. While you’re putting off the hard tasks, I’m gonna make sure the things that I don’t have any real idea about are taken care of, right away.</p><div class="informalfigure"><a id="med_id00466a"></a><div class="mediaobject"><a id="med_id00466"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069628.png.jpg" alt="image with no caption" width="595" height="130"></div></div><div class="informalfigure"><a id="med_id00467a"></a><div class="mediaobject"><a id="med_id00467"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069630.png.jpg" alt="image with no caption" width="593" height="670"></div></div><p><a id="iddle1328" class="indexterm"></a><a id="iddle1569" class="indexterm"></a><span class="strong"><strong>The reason that these features are architecturally significant is that they all introduce <span class="underline">RISK</span> to your project. It doesn’t matter which one you start with—as long as you are working towards reducing the RISKS in succeeding.</strong></span></p><p><span class="strong"><strong>Take another look at our key features:</strong></span></p><div class="informalfigure"><a id="med_id00468a"></a><div class="mediaobject"><a id="med_id00468"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069632.png.jpg" alt="image with no caption" width="613" height="344"></div></div><p><span class="strong"><strong>The point here is to <span class="underline">REDUCE</span> <span class="underline">RISK</span>, not to argue over which key feature you should start with first. You can start with ANY of these, as long as you’re focused on building what you’re supposed to be building.</strong></span></p><div class="informalfigure"><a id="med_id00469a"></a><div class="mediaobject"><a id="med_id00469"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069634.png.jpg" alt="image with no caption" width="504" height="379"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00108"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1570" class="indexterm"></a><a id="iddle1664" class="indexterm"></a>Find the risk in your own project.</p><p>Think about the project you’re working on in your day job right now. Now write down the <span class="emphasis"><em>first</em></span> thing you started working on when you started the project:</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>Now think about the 3 Qs of architecture that we talked about back in <a class="xref" href="ch07.html#three_qs_of_architecture" title="The three Qs of architecture">The three Qs of architecture</a>. If you applied those to your project, write down a few features that you think would be architecturally significant:</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>If you look at those features closely, you’ll probably see that they all have a lot of <span class="strong"><strong>RISK</strong></span> connected to them. They’re the things that could cause you lots of problems, or delay you getting your project done. In the blanks below, write down which of those features you think you should have worked on first, and why. What risks did it create? What risks could you have reduced by working on it first?</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div><div class="sidebar"><a id="architecture_puzzle"></a><div class="sidebar-title">Architecture Puzzle</div><p><a id="iddle1036" class="indexterm"></a>For Gary’s game system, let’s start out by working on the board module. Your job is to write a <span class="strong"><strong><code class="literal">Board</code></strong></span> interface that game designers can then use and extend to build their own games.</p><p><span class="strong"><strong>The problem:</strong></span></p><p>You need a <span class="strong"><strong><code class="literal">Board</code></strong></span> base type that game designers can use to create new games. The board’s height and width are supplied by the game designers for their games. Additionally, the board can return the tile at a given position, add units to a tile, and return all the units at a given X-Y position.</p><div class="note" title="Note"><h3 class="title"><a id="ch07note07"></a>Note</h3><p>Here are some detailed requirements that we got from Gary and his design team.</p></div><p><span class="strong"><strong>Your task:</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create a new class called <span class="strong"><strong><code class="literal">Board.java</code></strong></span>.</p></li><li class="listitem"><p>Add a constructor to <span class="strong"><strong><code class="literal">Board</code></strong></span> that takes in a width and height, and creates a new board with that height and width. The constructor also needs to fill the board with square tiles, one at each X-Y position.</p></li><li class="listitem"><p>Write a method that will return the tile at a given position, given that tile’s X- and Y-position.</p></li><li class="listitem"><p>Write methods to add units to a tile based on that tile’s X- and Y-position.</p></li><li class="listitem"><p>Write a method to return all the units on a tile, given the X- and Y-position of the tile.</p></li></ol></div><div class="informalfigure"><a id="med_id00470a"></a><div class="mediaobject"><a id="med_id00470"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069636.png.jpg" alt="image with no caption" width="746" height="366"></div></div><p><span class="inlinemediaobject"><a id="inline_id00038"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068819.png.jpg" alt="" width="99" height="9"></span> <span class="strong"><strong>Answers in <a class="xref" href="ch07.html#architecture_puzzle_solution" title="Architecture Puzzle Solution">Architecture Puzzle Solution</a></strong></span></p></div><div class="sidebar"><a id="use_cases_exposed-id00109"></a><div class="sidebar-title">Use Cases Exposed</div><p><a id="iddle1143" class="indexterm"></a><a id="iddle1147" class="indexterm"></a><a id="iddle1494" class="indexterm"></a><a id="iddle1574" class="indexterm"></a><a id="iddle1878" class="indexterm"></a><span class="strong"><strong>This week’s interview: Scenarios help reduce risk</strong></span></p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Hi there, Scenario, we appreciate you taking the time to talk with us today.</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;I’m really happy to be here, especially in a chapter that isn’t just about use cases.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Well, yes, to tell the truth, I was rather surprised when I was told we’d be interviewing you. We’re really focusing on architecture here, and working on features that would reduce risk.</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Absolutely! Well, that sounds like a very good way to approach big problems.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Yes, well... ahem... then why are you here?</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Oh! I’m sorry, I just assumed you knew. I’m here to help reduce risk, also.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;But I thought you were just a particular path through a use case. We haven’t even written any use cases yet!</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;That’s no problem, I can still be a real help. I mean, look, let’s be honest, lots of developers just don’t ever really take the time to sit down and write out use cases. Good grief, it took you something like four pages in <a class="xref" href="ch06.html" title="Chapter&nbsp;6.&nbsp;Solving Really Big Problems: “My Name is Art Vandelay... I am an Architect”">Chapter&nbsp;6</a> to convince people to even use a use case <span class="emphasis"><em>diagram</em></span>, and that’s much easier to draw than it is to write a use case!</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Well, that’s true... there is a lot of resistance to writing out use cases. But they’re really helpful, I thought they saved the day with Todd and Gina’s dog door.</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Oh, I agree! But in cases where developers just don’t have the time, or a use case is too formal for what’s needed, I can really give you a lot of the advantages of a use case, without all the paperwork.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Hmmm, that is appealing. So tell me how that works.</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Well, take that board you’ve been writing. Suppose you wanted to reduce the risks of Gary seeing it, and thinking of something important you forgot to add to it...</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Ahh, yes, forgetting an important requirement is always a risk!</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Well, you could come up with a simple scenario for how the board would be used—that’s where I come in—and then make sure the board works with everything in your scenario.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;But there’s no use case... what steps do we pick in the scenario we make up?</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;It doesn’t have to be that formal. You might say, “The game designer creates a new board 8 squares wide by 10 squares high,” and “Player 1 kills Player 2’s troops at (4, 5) so the board removes Player 2’s troops from that tile.”</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Oh, so just little descriptions of how the board is used?</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;You’ve got it! Then you run through each description, and make sure your board handles those cases. It’s not quite as thorough as a use case, but I really can help you make sure you don’t forget any big requirements.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;This is fantastic! We’ll be right back with more from Scenario.</p></div><div class="sidebar"><a id="scenario_scramble"></a><div class="sidebar-title">Scenario Scramble</div><p><a id="iddle1305" class="indexterm"></a><a id="iddle1607" class="indexterm"></a>Write a scenario for the Board interface you just coded.</p><p>Reducing risk is the name of the game in this chapter. You’ve coded a Board interface based on a few requirements we gave you, but it’s your job to figure out if we forgot anything—before Gary sees your work and finds a mistake.</p><div class="note" title="Note"><h3 class="title"><a id="ch07note08"></a>Note</h3><p>This is the risk we’re trying to reduce or eliminate using a scenario.</p></div><p>Your job is to take the fragments of a scenario from the bottom of this page, and put them into an order that makes sense on the bulletin board. The scenario should run through a realistic portion of a game. When you’re done, see if you left out anything on the Board interface, and if you did, add the missing functionality into your code. You may not need all the scenario fragments; good luck!</p><div class="informalfigure"><a id="med_id00471a"></a><div class="mediaobject"><a id="med_id00471"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069638.png.jpg" alt="image with no caption" width="933" height="760"></div></div></div><div class="sidebar"><a id="use_cases_exposed-id00110"></a><div class="sidebar-title">Use Cases Exposed</div><p><a id="iddle1144" class="indexterm"></a><a id="iddle1148" class="indexterm"></a><a id="iddle1495" class="indexterm"></a><a id="iddle1518" class="indexterm"></a><a id="iddle1610" class="indexterm"></a><span class="strong"><strong>This week’s interview: Scenarios help reduce risk (cont.)</strong></span></p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;We’re back with Scenario, again. Scenario, we’re getting quite a few calls. Would you mind taking some of our listener’s questions?</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Sure, I’d be happy to.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Great. First, here’s one we’re getting a lot. This is from Impatient in Idaho: “So you’re saying I don’t need to write use cases, anymore, right? I can just use scenarios?”</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Oh, thanks, Impatient, I actually get that question often. I firmly believe you should still write use cases whenever possible. I’m helpful for quick problems, and to find the most common requirements, but remember, I’m only <span class="emphasis"><em>one</em></span> path through a use case. If there are lots of alternate paths, you might miss some important requirements if you used <span class="emphasis"><em>just</em></span> a scenario for your requirements.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;That’s right, we’ve actually had Happy Path and Alternate Path on our show before.</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Well, they’re really just specialized versions of me, if you want the truth. We try not to talk much about our family relationships, we all wanted to make it in this world on our own. But we’re really all part of the Scenario family. And you really need all of us to be sure you’ve got a system completely right. But if you’re just getting started, and a use case seems like it might be premature, just using me is a good way to get started.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;OK, here’s another question, from Nervous in Nebraska: “You said you would help me reduce risk, and I hate risk. Could you tell me exactly how you can help me avoid risk?”</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Another good question. Remember, when you’re figuring out requirements, whether you’re using a use case, a use case diagram, or a scenario, you’re trying to make sure you are building just what the customer wants. Without good requirements, the risk is letting down or upsetting the customer by building the wrong thing.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;So you’re reducing risk in the requirements phase?</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;A lot of the time, yes. That’s when you’re writing use cases, putting together a requirements list, and using lots of scenarios to chart out all the paths through a use case.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;But you also help out in big project architecture, right? That’s why we’re interviewing you now?</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;Exactly. Sometimes, you don’t have a complete requirements list and a bunch of use cases, but you still need to get some basic work done to see how a system is going to work. That’s what we’ve been doing here: using a scenario to get the basics of a module or piece of code down, so you can get the basic building blocks of your application in place.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;So you’re really a handy guy, aren’t you?</p><p title="Scenario:"><span class="title"><strong><span class="strong"><strong>Scenario:</strong></span></strong></span>&nbsp;I’d like to think so. I help in gathering requirements, in being sure your use cases are complete, but also in architecture, helping you reduce risk and reduce the chaos and confusion around what a particular module or piece of code does.</p></div><div class="sidebar"><a id="scenario_scramble_solution"></a><div class="sidebar-title">Scenario Scramble Solution</div><p><a id="iddle1608" class="indexterm"></a>Write a scenario for the Board interface you just coded.</p><p>Below is the scenario we came up with. Yours might be a bit different, but you should at least have the game designer creating the board, a battle occuring between Player 1 and Player 2, and units being both added to and removed from</p><div class="informalfigure"><a id="med_id00472a"></a><div class="mediaobject"><a id="med_id00472"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069640.png.jpg" alt="image with no caption" width="871" height="755"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00111"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2qe1"></a><a id="ch07qa2q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1037" class="indexterm"></a><a id="iddle1306" class="indexterm"></a><a id="iddle1813" class="indexterm"></a><span class="strong"><strong>Q: Where did those requirements for the Architecture Puzzle in <a class="xref" href="ch07.html#architecture_puzzle" title="Architecture Puzzle">Architecture Puzzle</a> come from?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> From Gary, with some common sense added in. If you think about what Gary’s asked for, a game system framework, and then read back over the customer conversation in <a class="xref" href="ch06.html" title="Chapter&nbsp;6.&nbsp;Solving Really Big Problems: “My Name is Art Vandelay... I am an Architect”">Chapter&nbsp;6</a>, you could probably come up with these requirements on your own. We did add a few specifics, like being able to add a unit to a specific tile, but that’s really just thinking through the problem.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2qe2"></a><a id="ch07qa2q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: But why didn’t we write a use case to figure out the requirements?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> We could have. But remember, we’re not trying to complete the Board module, as much as get the basic pieces in place. That’s all we need to reduce the risk of completing this piece of Gary’s system. In fact, if we got into too much detail, we might actually <span class="emphasis"><em>add</em></span> risk to the project, by working on details that really aren’t important at this stage of things.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2qe3"></a><a id="ch07qa2q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Now you’re telling me that use cases add risk? That can’t be right!</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> No, use cases don’t add risk when <span class="emphasis"><em>used at the right time</em></span>. Right now, we’ve come up with some key features that could cause us headaches if we don’t figure them out. But that doesn’t mean we need to perfect the Board interface; we just need to get an understanding of how it works, so if there are any potential problem spots, we can catch them and avoid problems down the line. So at this point, the details you’d need to write a good use case are a bit of overkill.</p><p>But once we’ve got the key features sketched out, and handled the major risks, we’ll go back to each module and really start to add detail in. At that point, a use case is very helpful.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2qe4"></a><a id="ch07qa2q4"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So that’s why we used a scenario, right? To avoid getting into lots of unnecessary detail?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa2q4a4"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Exactly. A scenario gives us lots of the advantages of a use case, without forcing us to get into lots of detail that we don’t need to worry about right now.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="architecture_puzzle_left_parenthesisrevi"></a><div class="sidebar-title">Architecture Puzzle (Revisited)</div><p>What’s missing in Board.java?</p><p>Look closely at the scenario on the previous page. Did the requirements we used in <a class="xref" href="ch07.html#architecture_puzzle" title="Architecture Puzzle">Architecture Puzzle</a> cover everything in the completed scenario? If you think something is missing, write it in the blank below, and then add code to Board.java to handle the missing functionality.</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div><div class="sidebar"><a id="architecture_puzzle_solution"></a><div class="sidebar-title">Architecture Puzzle Solution</div><p><a id="iddle1038" class="indexterm"></a><a id="iddle1069" class="indexterm"></a>For Gary’s game system, let’s start out by working on the Board module. Below is the interface we wrote to handle what we thought the basic tasks of a board would be. See how your solution compares with ours.</p><div class="informalfigure"><a id="med_id00473a"></a><div class="mediaobject"><a id="med_id00473"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069642.png.jpg" alt="image with no caption" width="787" height="774"></div></div><div class="informalfigure"><a id="med_id00474a"></a><div class="mediaobject"><a id="med_id00474"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069644.png.jpg" alt="image with no caption" width="810" height="584"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00112"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa3qe1"></a><a id="ch07qa3q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1039" class="indexterm"></a><a id="iddle1758" class="indexterm"></a><span class="strong"><strong>Q: Doesn’t using an array of arrays limit you to a square board?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa3q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> No, although it does limit you to a board that uses (x, y) coordinates. For example, you can use (x, y) coordinates in a board made up of hexagon-shaped tiles, if you structure the hexagon tiles correctly. But for the most part, an array of arrays is more ideally suited to a square-tiled, rectangular board.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa3qe2"></a><a id="ch07qa3q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So isn’t that limiting? Why not use a graph, or even a Coordinate class, so you’re not tied to (x, y) coordinates and a rectangular board?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa3q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> If you wanted maximum flexibility, that might be a good idea. For this situation, though, our requirements (back in <a class="xref" href="ch07.html#architecture_puzzle" title="Architecture Puzzle">Architecture Puzzle</a>) actually specified (x, y) coordinates. So we chose a solution that wasn’t quite as flexible, but certainly was simpler. Remember, at this stage, we’re trying to reduce risk, not increase it by going with a solution that is a lot more complex than we really need.</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="The Tile and Unit classes"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="tile_and_unit_classes">The Tile and Unit classes</h2></div></div></div><p><a id="iddle1070" class="indexterm"></a><a id="iddle1816" class="indexterm"></a><a id="iddle1817" class="indexterm"></a><a id="iddle1827" class="indexterm"></a><a id="iddle1828" class="indexterm"></a>To actually make <span class="strong"><strong><code class="literal">Board</code></strong></span> compile and work, we need to create a <span class="strong"><strong><code class="literal">Tile</code></strong></span> and <span class="strong"><strong><code class="literal">Unit</code></strong></span> class. Here’s how we wrote those classes:</p><div class="informalfigure"><a id="med_id00475a"></a><div class="mediaobject"><a id="med_id00475"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069646.png.jpg" alt="image with no caption" width="752" height="726"></div></div><div class="sect2" title="Keep the right focus"><div class="titlepage"><div><div><h3 class="title" id="keep_the_right_focus">Keep the right focus</h3></div></div></div><p>You don’t need to worry about everything that <span class="strong"><strong><code class="literal">Tile</code></strong></span> and <span class="strong"><strong><code class="literal">Unit</code></strong></span> will eventually need to do. Your focus is on making <span class="strong"><strong><code class="literal">Board</code></strong></span> and its key features work, not on completing <span class="strong"><strong><code class="literal">Tile</code></strong></span> or <span class="strong"><strong><code class="literal">Unit</code></strong></span>. That’s why we left <span class="strong"><strong><code class="literal">Unit</code></strong></span> so bare, and added only a few methods to <span class="strong"><strong><code class="literal">Tile</code></strong></span>.</p><div class="blockquote"><blockquote class="blockquote"><p><a id="iddle1071" class="indexterm"></a><a id="iddle1571" class="indexterm"></a><a id="iddle1806" class="indexterm"></a><a id="iddle1818" class="indexterm"></a><a id="iddle1829" class="indexterm"></a><span class="strong"><strong>Focus on one feature at a time to reduce risk in your project.</strong></span></p><p><span class="strong"><strong>Don’t get distracted with features that won’t help reduce risk.</strong></span></p></blockquote></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00113"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa4qe1"></a><a id="ch07qa4q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: If the Tile class handles adding and removing units, and you can get the tile at a coordinate from the Board using getTile(), why add those addUnit() and removeUnit() methods to Board. Couldn’t you just call getTile(), and then use the Tile to do those things?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa4q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You could take that approach, and let all the <span class="strong"><strong><code class="literal">Unit</code></strong></span>-related operations be handled directly through the <span class="strong"><strong><code class="literal">Tile</code></strong></span> object returned from <span class="strong"><strong><code class="literal">getTile()</code></strong></span>. We decided to add the <span class="strong"><strong><code class="literal">Unit</code></strong></span>-related methods to <span class="strong"><strong><code class="literal">Board</code></strong></span>, and have <span class="strong"><strong><code class="literal">Board</code></strong></span> be the entry point for game designers. In fact, you’ll see on the next page that we made <span class="strong"><strong><code class="literal">Tile</code></strong></span>’s methods protected, so that only classes in the same package as <span class="strong"><strong><code class="literal">Tile</code></strong></span>—like <span class="strong"><strong><code class="literal">Board</code></strong></span>—could call <span class="strong"><strong><code class="literal">addUnit()</code></strong></span> and <span class="strong"><strong><code class="literal">removeUnit()</code></strong></span> directly. So we’ve really ensured that <span class="strong"><strong><code class="literal">Board</code></strong></span> is the object used to work with tiles, units, and eventually terrain.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa4qe2"></a><a id="ch07qa4q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: I still think it would be easy to go ahead and add some more of the methods we know we’ll need to Unit and Tile. Why not spend a little time on those classes now?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa4q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You’re not trying to code the entire game system framework at this point; you’re just trying to tackle a few key features, and reduce the major risks to your project. Spending time writing the <span class="strong"><strong><code class="literal">Unit</code></strong></span> class, or fleshing out the <span class="strong"><strong><code class="literal">Tile</code></strong></span> class, really isn’t going to help you reduce risk. Instead, do just enough to get the <span class="strong"><strong><code class="literal">Board</code></strong></span> class working, because it’s the <span class="strong"><strong><code class="literal">Board</code></strong></span> class that we decided was part of the essence of the system, and where we had a risk of failing if we didn’t get that piece in place.</p><p>Once you’ve handled your key features, and reduced or eliminated the big risks to your project, then you’ll have plenty of time to work on other features, like the <span class="strong"><strong><code class="literal">Unit</code></strong></span> class. At this stage, though, you’re trying to avoid spending time on anything that doesn’t help you reduce the risks to your project succeeding.</p></td></tr></tbody></table></div></blockquote></div></div><div class="note" title="Get online"><h3 class="title"><a id="ch07note09"></a>Get online</h3><p>You can download these Board-related classes for Gary’s framework at <a class="ulink" href="http://www.headfirstlabs.com" target="_top">http://www.headfirstlabs.com</a>. Just look for Head First OOA&amp;D, and find “Gary’s Game System - Board classes.”</p></div></div></div><div class="sect1" title="More order, less chaos"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="more_ordercomma_less_chaos">More order, less chaos</h2></div></div></div><p><a id="iddle1325" class="indexterm"></a>Our architecture and key feature list has helped us get the basic <span class="strong"><strong><code class="literal">Board</code></strong></span> in place, and make sure we’re capturing the essence of the system for the customer. Let’s look back at our key feature list:</p><div class="informalfigure"><a id="med_id00476a"></a><div class="mediaobject"><a id="med_id00476"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069648.png.jpg" alt="image with no caption" width="671" height="187"></div></div><div class="sect2" title="We’ve got structure now, too..."><div class="titlepage"><div><div><h3 class="title" id="weapostropheve_got_structure_nowcomma_to">We’ve got structure now, too...</h3></div></div></div><p>Even better, we’ve got some basic classes in place, and we can start to think about our next key feature, and how it fits into this structure.</p><div class="informalfigure"><a id="med_id00477a"></a><div class="mediaobject"><a id="med_id00477"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069650.png.jpg" alt="image with no caption" width="727" height="455"></div></div></div></div><div class="sect1" title="Which feature should we work on next?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="which_feature_should_we_work_on_nextques">Which feature should we work on next?</h2></div></div></div><div class="informalfigure"><a id="med_id00478a"></a><div class="mediaobject"><a id="med_id00478"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069652.png.jpg" alt="image with no caption" width="520" height="547"></div></div><p><a id="iddle1034" class="indexterm"></a><a id="iddle1519" class="indexterm"></a><span class="strong"><strong>Build on what you’ve already got done whenever possible.</strong></span></p><p>When you’ve got nothing but requirements and diagrams, you’ve just got to pick a place to start. But now that we do have some code and classes, it’s easiest to pick another key feature that relates to what we’ve already built. And remember our definition for architecture?</p><div class="informalfigure"><a id="med_id00479a"></a><div class="mediaobject"><a id="med_id00479"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069654.png.jpg" alt="image with no caption" width="499" height="470"></div></div><p>You really can’t talk about the relationships between parts if you don’t have two parts that <span class="emphasis"><em>have</em></span> a relationship. We know <span class="strong"><strong><code class="literal">Board</code></strong></span> and <span class="strong"><strong><code class="literal">Unit</code></strong></span> are related, and that “game-specific units” are a key feature, so that’s the obvious thing to work on next.</p></div><div class="sect1" title="Game-specific units... what does that mean?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="game-specific_unitshellip_what_does_that">Game-specific units... what does that mean?</h2></div></div></div><p><a id="iddle1313" class="indexterm"></a><a id="iddle1839" class="indexterm"></a>The simplest way to understand a bit more about what “game-specific units” means is to talk to some of Gary’s customers, the game designers who will be using his framework. Let’s listen in on what they have to say:</p><div class="informalfigure"><a id="med_id00480a"></a><div class="mediaobject"><a id="med_id00480"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069656.png.jpg" alt="image with no caption" width="446" height="500"></div></div><div class="informalfigure"><a id="med_id00481a"></a><div class="mediaobject"><a id="med_id00481"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069658.png.jpg" alt="image with no caption" width="426" height="430"></div></div><div class="informalfigure"><a id="med_id00482a"></a><div class="mediaobject"><a id="med_id00482"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069660.png.jpg" alt="image with no caption" width="779" height="603"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00114"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1520" class="indexterm"></a><a id="iddle1638" class="indexterm"></a>What does “game-specific units” mean?</p><p>Now that you’ve heard from several of the game designers who want to use Gary’s game system framework, you should have a good idea of what our second key feature is all about. Write down in the blanks below your idea of what you need to do to support “game-specific units.”</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p><span class="strong"><strong>When you’re done, compare your answers with ours on the next page.</strong></span></p></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00115"></a><div class="sidebar-title">Sharpen your pencil answers</div><div class="informalfigure"><a id="med_id00483a"></a><div class="mediaobject"><a id="med_id00483"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068857.png.jpg" alt="image with no caption" width="84" height="72"></div></div><p><a id="iddle1639" class="indexterm"></a><span class="strong"><strong>Exercise Solutions</strong></span></p><p>What does “game-specific units” mean?</p><p>Now that you’ve heard from several of the game designers who want to use Gary’s game system framework, you should have a good idea of what our second key feature is all about. Write down in the blanks below your idea of what you need to do to support “game-specific units.”</p><p><span class="strong"><strong><span class="underline">Each game based on the framework has different types of units, with different attributes and capabilities. So we need to be able to have properties for a unit that are different for each game, and support multiple data types for those properties.</span></strong></span>___________</p><div class="informalfigure"><a id="med_id00484a"></a><div class="mediaobject"><a id="med_id00484"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069662.png.jpg" alt="image with no caption" width="710" height="493"></div></div></div></div><div class="sect1" title="Commonality revisited"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="commonality_revisited">Commonality revisited</h2></div></div></div><p><a id="iddle1111" class="indexterm"></a><a id="iddle1838" class="indexterm"></a>We’re starting to learn more about what “game-specific units” means, but we still need to figure out how to actually add support for this feature to our game system framework. Let’s start by taking a look at the different types of units the customers mentioned, and figure out what’s common between them.</p><div class="informalfigure"><a id="med_id00485a"></a><div class="mediaobject"><a id="med_id00485"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069664.png.jpg" alt="image with no caption" width="870" height="928"></div></div><div class="sidebar"><a id="design_puzzle-id00116"></a><div class="sidebar-title">Design Puzzle</div><p><a id="iddle1888" class="indexterm"></a>It’s your job to figure out what’s common, and should be a part of the basic Unit class, and what varies, and belongs in the game-specific subclasses of Unit. Write any properties and methods that you think belong in Unit in the class diagram for that class below, and then add properties and methods that you think belong in the game-specific subclasses to those diagrams.</p><div class="informalfigure"><a id="med_id00486a"></a><div class="mediaobject"><a id="med_id00486"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069666.png.jpg" alt="image with no caption" width="716" height="745"></div></div><div class="informalfigure"><a id="med_id00487a"></a><div class="mediaobject"><a id="med_id00487"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069668.png.jpg" alt="image with no caption" width="651" height="769"></div></div></div></div><div class="sect1" title="Solution #1: It’s all different!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="solution_hash1_itapostrophes_all_differe">Solution #1: It’s all different!</h2></div></div></div><p><a id="iddle1889" class="indexterm"></a>At first glance, you might have come up with a solution that looks something like this:</p><div class="informalfigure"><a id="med_id00488a"></a><div class="mediaobject"><a id="med_id00488"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069670.png.jpg" alt="image with no caption" width="861" height="806"></div></div><div class="informalfigure"><a id="med_id00489a"></a><div class="mediaobject"><a id="med_id00489"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069672.png.jpg" alt="image with no caption" width="554" height="512"></div></div><p><span class="strong"><strong>Commonality is about more than just the names of properties... you need to look a little bit deeper.</strong></span></p><p>It might seem like there’s not anything common across all the units used in different games, but let’s take a step back from focusing on the actual names of the properties for each unit. What’s really the same for each unit?</p><div class="informalfigure"><a id="med_id00490a"></a><div class="mediaobject"><a id="med_id00490"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069674.png.jpg" alt="image with no caption" width="741" height="451"></div></div></div><div class="sect1" title="Solution #2: It’s all the same!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="solution_hash2_itapostrophes_all_the_sam">Solution #2: It’s all the same!</h2></div></div></div><p><a id="iddle1890" class="indexterm"></a>At first glance, you might have come up with a solution that looks something like this:</p><div class="informalfigure"><a id="med_id00491a"></a><div class="mediaobject"><a id="med_id00491"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069676.png.jpg" alt="image with no caption" width="800" height="926"></div></div></div><div class="sect1" title="Commonality analysis: the path to flexible software"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="commonality_analysis_the_path_to_flexibl">Commonality analysis: the path to <span class="underline">flexible</span> <span class="underline">software</span></h2></div></div></div><p><a id="iddle1116" class="indexterm"></a>Wondering why we spent all that time on commonality analysis? Look back at the first solution in <a class="xref" href="ch07.html#which_feature_should_we_work_on_nextques" title="Which feature should we work on next?">Which feature should we work on next?</a>, and then again at the second solution, on the left, and then fill out the table below to see what commonality has really bought us in terms of our design:</p><div class="informalfigure"><a id="med_id00492a"></a><div class="mediaobject"><a id="med_id00492"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069678.png.jpg" alt="image with no caption" width="489" height="399"></div></div><div class="note" title="Note"><h3 class="title"><a id="ch07note09a"></a>Note</h3><p>This first row is what we’ve looked at so far: 3 different unit types.</p></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"><col class="c3"></colgroup><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Number of unit types</p></td><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Number of unit classes - Solution #1</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Number of unit classes - Solution #2</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>3</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>5</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>10</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>25</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>50</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>100</p></td><td style="border-right: 0.5pt solid ; ">&nbsp;</td><td>&nbsp;</td></tr></tbody></table></div><div class="note" title="Note"><h3 class="title"><a id="ch07note09b"></a>Note</h3><p>100 may seem like a lot, but in massive war games, it’s not so far-fetched.</p></div><p>Which solution do you think is better? _______________________________________</p><p>Why? _______________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><div class="informalfigure"><a id="med_id00493a"></a><div class="mediaobject"><a id="med_id00493"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069680.png.jpg" alt="image with no caption" width="803" height="331"></div></div><p><a id="iddle1572" class="indexterm"></a><a id="iddle1794" class="indexterm"></a><span class="strong"><strong>We identified what was <span class="underline">common</span>, and put it in the Unit base class. The result was that game designers now only have to keep up with <span class="underline">ONE</span> unit class, instead of 25, 50, or 100!</strong></span></p><div class="informalfigure"><a id="med_id00494a"></a><div class="mediaobject"><a id="med_id00494"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069682.png.jpg" alt="image with no caption" width="272" height="287"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00117"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa5qe1"></a><a id="ch07qa5q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: I can see how this would help me with my design, but what does any of this have to do with reducing risk?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa5q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Good design always reduces risk. By figuring out how best to design the <span class="strong"><strong><code class="literal">Unit</code></strong></span> class, we can get it right the first time... before we’re deep into working on the entire game system framework, and might have to make drastic changes to <span class="strong"><strong><code class="literal">Unit</code></strong></span> that affect lots of other code.</p><p>Not only have we figured out what “game-specific units” means, but we’ve defined the basic <span class="strong"><strong><code class="literal">Unit</code></strong></span> class, and now other classes like <span class="strong"><strong><code class="literal">Board</code></strong></span> can relate to it without worrying about its design drastically changing in the middle or near the end of the project’s development cycle.</p></td></tr></tbody></table></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Good design will <span class="underline">always</span> reduce risk.</strong></span></p></blockquote></div></div></div><div class="sect1" title="And still more order..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="and_still_more_orderhellip">And still more order...</h2></div></div></div><p><a id="iddle1326" class="indexterm"></a>We’ve figured out another key feature, reduced risk to our project even further, and only have one feature left to worry about.</p><div class="informalfigure"><a id="med_id00495a"></a><div class="mediaobject"><a id="med_id00495"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069684.png.jpg" alt="image with no caption" width="467" height="189"></div></div><div class="informalfigure"><a id="med_id00496a"></a><div class="mediaobject"><a id="med_id00496"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069686.png.jpg" alt="image with no caption" width="498" height="516"></div></div><p><span class="strong"><strong>We’re focusing on doing <span class="underline">just</span> the things that <span class="underline">reduce</span> <span class="underline">risk.</span></strong></span></p><p>Remember, the point of architecture is to <span class="strong"><strong>reduce risk</strong></span>, and to <span class="strong"><strong>create order</strong></span>. There are plenty of other things to work on in your application, but those are for after you’ve got a handle on how your application will be structured, and have the major risks reduced to the point where they are manageable.</p><p>We were trying to get a handle on the Unit class, and what “game-specific units” meant; at this point, we’ve done that:</p><div class="informalfigure"><a id="med_id00497a"></a><div class="mediaobject"><a id="med_id00497"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069688.png.jpg" alt="image with no caption" width="411" height="229"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00118"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6qe1"></a><a id="ch07qa6q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1072" class="indexterm"></a><a id="iddle1307" class="indexterm"></a><a id="iddle1783" class="indexterm"></a><span class="strong"><strong>Q: When we worked on the Board, we did code the Board class, but now you say we shouldn’t code the Unit class. What gives?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> The question you need to be always asking at this stage of a project is, “Will this reduce the risk to my project succeeding?” If the answer is yes, you should go ahead; if it’s no, you probably can leave the task for a later stage of the project.</p><p>In the case of the <span class="strong"><strong><code class="literal">Board</code></strong></span>, we needed to have a basic understanding of what the game board does, so we went ahead and coded a basic implementation. But for <span class="strong"><strong><code class="literal">Unit</code></strong></span>, a class diagram and understanding its basic functionality was all we really needed to do. In both cases, we were reducing risk to our project, rather than focusing on coding or not coding a certain class or package.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6qe2"></a><a id="ch07qa6q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: But couldn’t we have just done a class diagram for Board, like we did for Unit, and stopped there?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You probably could have just done a class diagram. It’s really a judgment call, and as long as you feel you’re focusing on reducing the risk in your project, it’s OK to stop with a class diagram, or take things a level or two deeper.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6qe3"></a><a id="ch07qa6q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Is it really good to ask the customer and users of a system about what it should do? Couldn’t they lead us astray, or distract us?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> It’s usually a good idea to ask the customer, because it is <span class="emphasis"><em>their</em></span> system that you’re building. And really, the customer is only going to confuse you, or get you working on the wrong thing, if you’re unsure of what you’re supposed to be working on. As long as you go into a conversation clear on what your goals are, and you’re listening for something specific, you should be able to filter out anything that might confuse or distract you.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6qe4"></a><a id="ch07qa6q4"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: I’m still not sure I would have ever come up with using a Map for storing properties in the Unit class on my own.</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6q4a4"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> That’s OK; that’s what tools like commonality and the three Qs of architecture are for. They help you get to solutions that you might not think of on your own, in a way that works on any type of project.</p><p>In the case of the <span class="strong"><strong><code class="literal">Unit</code></strong></span> class, the point isn’t that we used a <span class="strong"><strong><code class="literal">Map</code></strong></span> to store properties. It’s that we figured out that all units are basically just a unit type and a set of name/value pairs. Once we figured that out, the details about how we stored those name/value pairs were a piece of cake.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6qe5"></a><a id="ch07qa6q5"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So there’s really not a lot of code involved in OOA&amp;D, is there?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa6q5a5"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> OOA&amp;D is <span class="emphasis"><em>all</em></span> about code—it’s about writing great software, every time. But the way you get to good code isn’t always by sitting down and writing it right away. Sometimes the best way to write great code is to hold off on writing code as long as you can. Plan, organize, architect, understand requirements, reduce risks... all these make the job of actually writing your code very simple.</p></td></tr></tbody></table></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Sometimes the best way to write great code is to hold off on writing code as long as you can.</strong></span></p></blockquote></div></div><div class="sidebar"><a id="be_the_author"></a><div class="sidebar-title">BE the Author</div><p><a id="iddle1061" class="indexterm"></a><a id="iddle1318" class="indexterm"></a><span class="strong"><strong>All that’s left is to handle coordinating game movement. But what would you do next to figure that out? Your job is to outline the next few pages of Head First OOA&amp;D, and figure out how you’d take care of this last key feature.</strong></span></p><div class="informalfigure"><a id="med_id00498a"></a><div class="mediaobject"><a id="med_id00498"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069690.png" alt="image with no caption" width="547" height="592"></div></div><p>*Hint: check out what we did for the last key feature that we weren’t clear on how to get started.</p></div></div><div class="sect1" title="What does it mean? Ask the customer"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="what_does_it_meanquestion_mark_ask_the_c">What does it mean? Ask the customer</h2></div></div></div><div class="note" title="Note"><h3 class="title"><a id="ch07note10"></a>Note</h3><p><a id="iddle1132" class="indexterm"></a><a id="iddle1278" class="indexterm"></a>Want to see the answers to the BE the Author exercise? Read the next four pages and see how close your pages are to what we did.</p></div><p>When you’re not sure what a feature really means, one of the best things you can do is ask the customer. We did this with the game-specific units, so let’s try the same thing for figuring out what coordinating movement means.</p><div class="informalfigure"><a id="med_id00499a"></a><div class="mediaobject"><a id="med_id00499"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069692.png.jpg" alt="image with no caption" width="735" height="411"></div></div><div class="informalfigure"><a id="med_id00500a"></a><div class="mediaobject"><a id="med_id00500"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069694.png.jpg" alt="image with no caption" width="657" height="527"></div></div></div><div class="sect1" title="Do you know what “coordinating movement” means?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="do_you_know_what_quotation_markcoordinat">Do you know what “coordinating movement” means?</h2></div></div></div><p><a id="iddle1112" class="indexterm"></a><a id="iddle1117" class="indexterm"></a><a id="iddle1133" class="indexterm"></a>Listening to the customers should have given you a pretty good idea of what the third key feature of Gary’s game system framework is all about. Write what you think that feature really means in the blanks below:</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div><div class="sect1" title="Now do some commonality analysis"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="now_do_some_commonality_analysis">Now do some <span class="underline">commonality</span> <span class="underline">analysis</span></h2></div></div></div><p>Next you need to try and figure out what’s common about the different movement scenarios that the customers in <a class="xref" href="ch07.html#solution_hash2_itapostrophes_all_the_sam" title="Solution #2: It’s all the same!">Solution #2: It’s all the same!</a> have been talking about. Are there some basic things that apply to all the different types of movement? If you think that there are, write those common things in the blanks below:</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><div class="informalfigure"><a id="med_id00501a"></a><div class="mediaobject"><a id="med_id00501"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069696.png.jpg" alt="image with no caption" width="286" height="810"></div></div></div><div class="sect1" title="So now what would you do?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="so_now_what_would_you_doquestion_mark">So now what would <span class="underline">you</span> do?</h2></div></div></div><p>If you have an understanding of what “coordinating movement” means, and you know what things are common across all games, you should have an idea about what you need to do to the game framework to make this feature work. Write your ideas down in this final set of blanks:</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div><div class="sect1" title="Is there anything common here?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="is_there_anything_common_herequestion_ma">Is there <span class="underline">anything</span> common here?</h2></div></div></div><p>Here’s what we thought we needed to do based on what Gary’s customers were saying about movement:</p><p><span class="underline">Units should be able to move from one tile on the board to another. Movement is based on a calculation or algorithm specific to each game, and sometimes involves the game-specific properties of a unit.</span></p><p>So what exactly is common among all the different possible movement scenarios? Remember what the customers said?</p><div class="informalfigure"><a id="med_id00502a"></a><div class="mediaobject"><a id="med_id00502"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069698.png.jpg" alt="image with no caption" width="318" height="312"></div></div><div class="informalfigure"><a id="med_id00503a"></a><div class="mediaobject"><a id="med_id00503"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069700.png.jpg" alt="image with no caption" width="364" height="235"></div></div><div class="informalfigure"><a id="med_id00504a"></a><div class="mediaobject"><a id="med_id00504"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069702.png.jpg" alt="image with no caption" width="735" height="240"></div></div></div><div class="sect1" title="It’s “different for every game”"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="itapostrophes_quotation_markdifferent_fo">It’s “different for every game”</h2></div></div></div><p><a id="iddle1764" class="indexterm"></a>Did you see what kept showing up in our chart? Every time we found some commonality, the variability column had the same words: “different for every game.”</p><p><span class="strong"><strong>When you find more things that are <span class="underline">different</span> about a feature than things that are the <span class="underline">same</span>, there may not be a good, generic solution.</strong></span></p><div class="informalfigure"><a id="med_id00505a"></a><div class="mediaobject"><a id="med_id00505"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069704.png.jpg" alt="image with no caption" width="791" height="462"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00119"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa7qe1"></a><a id="ch07qa7q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: How is this really that different from game-specific units?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa7q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> With units, we did find some commonality: every unit had a type, and then name/value properties. With movement, every single game looked like it would handle things differently. So it made sense to leave movement to the game designers, rather than come up with a solution that was so generic that it was essentially useless.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch07qa7qe2"></a><a id="ch07qa7q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: But there is some commonality, isn’t there? A movement algorithm, and a check to see if a move is legal, right?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch07qa7q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You’re right. So, in theory, you could write a <span class="strong"><strong><code class="literal">Movement</code></strong></span> interface, with a method like <span class="strong"><strong><code class="literal">move()</code></strong></span> that took in a <span class="strong"><strong><code class="literal">MovementAlgorithm</code></strong></span> and a <span class="strong"><strong><code class="literal">LegalMoveCheck</code></strong></span>, or something similar. And then each game designer could extend <span class="strong"><strong><code class="literal">MovementAlgorithm</code></strong></span> and <span class="strong"><strong><code class="literal">LegalMoveCheck</code></strong></span>. If you thought of something like this, nice work! You’re really ahead of the game.</p><p>But then ask yourself: what does this really gain? Game designers are going to have to learn your interfaces, and if they don’t have a legality check, they might pass in <span class="strong"><strong><code class="literal">null</code></strong></span> for the <span class="strong"><strong><code class="literal">LegalMoveCheck</code></strong></span> parameter, and what would the interface for <span class="strong"><strong><code class="literal">MovementAlgorithm</code></strong></span> look like, and... well, you’re probably adding complexity, rather than really removing it.</p><p>Your job is to reduce risk and complexity, not increase it. We decided that it would be simpler to let game designers handle movement, and just change the position of units on the board (using methods on <span class="strong"><strong><code class="literal">Board</code></strong></span>, which we <span class="emphasis"><em>did</em></span> take care of for them).</p></td></tr></tbody></table></div></blockquote></div></div><div class="informalfigure"><a id="med_id00506a"></a><div class="mediaobject"><a id="med_id00506"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069706.png.jpg" alt="image with no caption" width="537" height="498"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Customers don’t pay you for great code, they pay you for great software.</strong></span></p></blockquote></div><p><span class="strong"><strong>Absolutely! Remember, great <span class="underline">software</span> is more than just great <span class="underline">code.</span></strong></span></p><p>Great code is well-designed, and generally functions like it’s supposed to. But great software not only is well-designed, it comes in on time and does what the customer really wants it to do.</p><p>That’s what architecture is about: reducing the risks of you delivering your software late, or having it not work like the customer wants it to. Our key feature list, class diagrams, and those partially done classes all help make sure we’re not just developing great <span class="emphasis"><em>code</em></span>, but that we’re developing great <span class="emphasis"><em>software</em></span>.</p></div><div class="sect1" title="Reducing risk helps you write great software"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="reducing_risk_helps_you_write_great_soft">Reducing risk helps you write great software</h2></div></div></div><p><a id="iddle1308" class="indexterm"></a><a id="iddle1327" class="indexterm"></a><a id="iddle1573" class="indexterm"></a>With all three key features figured out, we’ve got a handle on the major risks to our project succeeding. Look at how each step we’ve taken in this chapter has reduced the risks to our project:</p><div class="informalfigure"><a id="med_id00507a"></a><div class="mediaobject"><a id="med_id00507"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069708.png.jpg" alt="image with no caption" width="464" height="175"></div></div><div class="informalfigure"><a id="med_id00508a"></a><div class="mediaobject"><a id="med_id00508"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069710.png.jpg" alt="image with no caption" width="602" height="695"></div></div><div class="sidebar"><a id="bullet_points-id00120"></a><div class="sidebar-title">Bullet Points</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a id="iddle1078" class="indexterm"></a>Architecture helps you turn all your diagrams, plans, and feature lists into a well-ordered application.</p></li><li class="listitem"><p>The features in your system that are most important to the project are architecturally significant.</p></li><li class="listitem"><p>Focus on features that are the essence of your system, that you’re unsure about the meaning of, or unclear about how to implement first.</p></li><li class="listitem"><p>Everything you do in the architectural stages of a project should reduce the risks of your project failing.</p></li><li class="listitem"><p>If you don’t need all the detail of a use case, writing a scenario detailing how your software could be used can help you gather requirements quickly.</p></li><li class="listitem"><p>When you’re not sure what a feature is, you should ask the customer, and then try and generalize the answers you get into a good understanding of the feature.</p></li><li class="listitem"><p>Use commonality analysis to build software solutions that are flexible.</p></li><li class="listitem"><p>Customers are a lot more interested in software that does what they want, and comes in on time, than they are in code that you think is really cool.</p></li></ul></div></div><div class="sidebar"><a id="ooaampersandd_cross-id00121"></a><div class="sidebar-title">OOA&amp;D Cross</div><p><a id="iddle1467" class="indexterm"></a><code class="literal">The march of the crossword continues. Have you gotten every answer so far? Here’s another set of clues to help you store all this architectural info in your brain for good.</code></p><div class="informalfigure"><a id="med_id00509a"></a><div class="mediaobject"><a id="med_id00509"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069712.png.jpg" alt="image with no caption" width="552" height="396"></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Across</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Down</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>6. Focus on the things in your system that are architecturally ___________ first.</p>
<p>9. These are the features that you should focus on first.</p>
<p>11. Use cases add risk when used at this time.</p>
<p>12. The essence of a system is what the system is at its most ________.</p>
<p>13. Focusing on more than one feature at a time does this to the risk in your project.</p>
<p>15. Use this type of analysis when you’re not sure how to implement a confusing set of features.</p>
<p>16. Architecture highlights these parts of your application. (2 words)</p>
<p>17. Commonality analysis is one path to this type of software.</p></td><td style="vertical-align: top; "><p>1. Always start a project by focusing on this.</p>
<p>2. The second Q of architecture is about the ___________ of a feature.</p>
<p>3. The first Q of architecture is about this.</p>
<p>4. You focus on key features to reduce this in your project.</p>
<p>5. These are a way to get basic requirements without the detail of a use case.</p>
<p>7. This is not the same as great code.</p>
<p>8. You usually trade off flexibility for this in your project’s design.</p>
<p>10. You use architecture to turn a mess into this kind of application.</p>
<p>14. You write this type of software the same way, whether it’s a big system or a small one.</p></td></tr></tbody></table></div></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00122"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1309" class="indexterm"></a>What’s missing in Board.java?</p><p>Look closely at the scenario on the last page. Did the requirements we used in <a class="xref" href="ch07.html#architecture_puzzle" title="Architecture Puzzle">Architecture Puzzle</a> cover everything in the completed scenario? If you think something is missing, write it in the blank below, and then add code to Board.java to handle the missing functionality.</p><div class="note" title="Note"><h3 class="title"><a id="ch07note11"></a>Note</h3><p>We added a removeUnit() and removeUnits() method to Board.java to handle this requirement.</p></div><p><span class="underline"><span class="strong"><strong>The scenario talks about removing units, but there is no requirement to remove units in <a class="xref" href="ch07.html#architecture_puzzle" title="Architecture Puzzle">Architecture Puzzle</a>.</strong></span></span></p></div><div class="informalfigure"><a id="med_id00510a"></a><div class="mediaobject"><a id="med_id00510"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2069714.png.jpg" alt="image with no caption" width="592" height="421"></div></div></div></section></div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/core.css" crossorigin="anonymous"></div></div></section>
</div>


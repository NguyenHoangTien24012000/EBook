<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section class="appendix" title="Appendix&nbsp;A.&nbsp;Leftovers: The Top Ten Topics (we didn’t cover)" epub:type="appendix" id="leftovers_the_top_ten_topics_left_parent"><div class="titlepage"><div><div><h2 class="title">Appendix&nbsp;A.&nbsp;Leftovers: The Top Ten Topics (we didn’t cover)</h2></div></div></div><div class="informalfigure"><a id="med_id00802a"></a><div class="mediaobject"><a id="med_id00802"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070262.png.jpg" alt="image with no caption" width="340" height="430"></div></div><p><span class="strong"><strong>Believe it or not, there’s still more.</strong></span> Yes, with over 550 pages under your belt, there are still things we couldn’t cram in. Even though these last ten topics don’t deserve more than a mention, we didn’t want to let you out of Objectville without a little more information on each one of them. But hey, now you’ve got just a little bit more to talk about during commercials of CATASTROPHE... and who doesn’t love some stimulating OOA&amp;D talk every now and then?</p><p>Besides, once you’re done here, all that’s left is another appendix... and the index... and maybe some ads... and then you’re really done. We promise!</p><div class="sect1" title="#1. IS-A and HAS-A"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash1dot_is-a_and_has-a">#1. IS-A and HAS-A</h2></div></div></div><p><a id="iddle1013" class="indexterm"></a><a id="iddle1121" class="indexterm"></a><a id="iddle1352" class="indexterm"></a><a id="iddle1359" class="indexterm"></a><a id="iddle1400" class="indexterm"></a>Lots of times in OO programming circles, you’ll hear someone talk about the IS-A and HAS-A relationships.</p><div class="sect2" title="IS-A refers to inheritance"><div class="titlepage"><div><div><h3 class="title" id="is-a_refers_to_inheritance">IS-A refers to inheritance</h3></div></div></div><p>Usually, IS-A relates to inheritance, for example: “A Sword IS-A Weapon, so Sword should extend Weapon.”</p><div class="informalfigure"><a id="med_id00803a"></a><div class="mediaobject"><a id="med_id00803"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070264.png.jpg" alt="image with no caption" width="505" height="227"></div></div></div><div class="sect2" title="HAS-A refers to composition or aggregation"><div class="titlepage"><div><div><h3 class="title" id="has-a_refers_to_composition_or_aggregati">HAS-A refers to composition or aggregation</h3></div></div></div><p>HAS-A refers to composition and aggregation, so you might hear, “A Unit HAS-A Weapon, so a Unit can be composed with a Weapon object.”</p><div class="informalfigure"><a id="med_id00804a"></a><div class="mediaobject"><a id="med_id00804"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070266.png.jpg" alt="image with no caption" width="628" height="317"></div></div></div></div><div class="sect1" title="The problem with IS-A and HAS-A"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="problem_with_is-a_and_has-a">The problem with IS-A and HAS-A</h2></div></div></div><p>The reason we haven’t covered IS-A and HAS-A much is that they tend to break down in certain situations. For example, consider the situation where you’re modeling shapes, like <span class="strong"><strong><code class="literal">Circle</code></strong></span>, <span class="strong"><strong><code class="literal">Rectangle</code></strong></span>, and <span class="strong"><strong><code class="literal">Diamond</code></strong></span>.</p><p>If you think about a <span class="strong"><strong><code class="literal">Square</code></strong></span> object, you can apply the IS-A relationship: <span class="strong"><strong><code class="literal">Square</code></strong></span> IS-A <span class="strong"><strong><code class="literal">Rectangle</code></strong></span>. So you should make <span class="strong"><strong><code class="literal">Square</code></strong></span> extend <span class="strong"><strong><code class="literal">Rectangle</code></strong></span>, right?</p><div class="informalfigure"><a id="med_id00805a"></a><div class="mediaobject"><a id="med_id00805"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070268.png.jpg" alt="image with no caption" width="352" height="263"></div></div><p>But remember LSP, and that subtypes should be substitutable for their base types. So <span class="strong"><strong><code class="literal">Square</code></strong></span> should be a direct substitute for <span class="strong"><strong><code class="literal">Rectangle</code></strong></span>. But what happens with code like this:</p><div class="informalfigure"><a id="med_id00806a"></a><div class="mediaobject"><a id="med_id00806"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070270.png.jpg" alt="image with no caption" width="730" height="121"></div></div><p>The problem here is that when you set the width in <span class="strong"><strong><code class="literal">setWidth()</code></strong></span> on <span class="strong"><strong><code class="literal">Square</code></strong></span>, the square is going to have to set its height, too, since squares have equal width and height. So even though <span class="strong"><strong><code class="literal">Square</code></strong></span> IS-A <span class="strong"><strong><code class="literal">Rectangle</code></strong></span>, it doesn’t <span class="emphasis"><em>behave</em></span> like a rectangle. Calling <span class="strong"><strong><code class="literal">getHeight()</code></strong></span> above will return 5, not 10, which means that squares behave differently than rectangles, and aren’t substitutable for them—that’s a violation of the LSP.</p><p><span class="strong"><strong>Use inheritance when one object <span class="underline">behaves</span> like another, rather than just when the IS-A relationship applies.</strong></span></p></div><div class="sect1" title="#2. Use case formats"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash2dot_use_case_formats">#2. Use case formats</h2></div></div></div><p><a id="iddle1863" class="indexterm"></a>Even though there’s a pretty standard definition for <span class="emphasis"><em>what</em></span> a use case is, there’s <span class="emphasis"><em>not</em></span> a standard way for writing use cases. Here are just a few of the different ways you can write up your use cases:</p><div class="informalfigure"><a id="med_id00807a"></a><div class="mediaobject"><a id="med_id00807"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070272.png.jpg" alt="image with no caption" width="737" height="781"></div></div></div><div class="sect1" title="Focusing on interaction"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="focusing_on_interaction">Focusing on interaction</h2></div></div></div><p>This format is a little more focused on separating out what is in a system, and how the actors outside of the system interact with your software.</p><div class="informalfigure"><a id="med_id00808a"></a><div class="mediaobject"><a id="med_id00808"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070274.png.jpg" alt="image with no caption" width="749" height="793"></div></div></div><div class="sect1" title="A more formal use case"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="more_formal_use_case">A more formal use case</h2></div></div></div><div class="informalfigure"><a id="med_id00809a"></a><div class="mediaobject"><a id="med_id00809"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070276.png.jpg" alt="image with no caption" width="726" height="802"></div></div><p><span class="strong"><strong>All of these use cases say the <span class="underline">same</span> <span class="underline">thing</span>... it’s up to you (and probably your boss) to decide which format works best for you.</strong></span></p></div><div class="sect1" title="#3. Anti patterns"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash3dot_anti_patterns">#3. Anti patterns</h2></div></div></div><p><a id="iddle1031" class="indexterm"></a><a id="iddle1173" class="indexterm"></a>We’ve talked a lot in this book about design patterns, and described them this way:</p><div class="note" title="Note"><h3 class="title"><a id="app01note01"></a>Note</h3><p><span class="strong"><strong><span class="emphasis"><em>Design Patterns</em></span></strong></span></p><p><span class="emphasis"><em>Design patterns are proven solutions to particular types of problems, and help us structure our own applications in ways that are easier to understand, more maintainable, and more flexible.</em></span></p></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Design patterns help you recognize and implement <span class="underline">GOOD</span> <span class="underline">solutions</span> to common problems.</strong></span></p></blockquote></div><p>But there’s another type of pattern you should know about, called an anti-pattern:</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Anti patterns are about recognizing and avoiding <span class="underline">BAD</span> <span class="underline">solutions</span> to common problems.</strong></span></p></blockquote></div><div class="note" title="Note"><h3 class="title"><a id="app01note02"></a>Note</h3><p><span class="strong"><strong><span class="emphasis"><em>Anti Patterns</em></span></strong></span></p><p><span class="emphasis"><em>Anti-patterns are the reverse of design patterns: they are common BAD solutions to problems. These dangerous pitfalls should be recognized and avoided.</em></span></p></div><p>Anti patterns turn up when you see the same problem get solved the same way, but the solution turns out to be a BAD one. For example, one common anti pattern is called “Gas Factory”, and refers to designs that are overly complex, and therefore not very maintainable. So you want to work to avoid the Gas Factory in your own code.</p><div class="note" title="Note"><h3 class="title"><a id="app01note03"></a>Note</h3><p>We’re actually not making this up! At your next serious development meeting, be sure to mention trying to avoid the Gas Factory.</p></div></div><div class="sect1" title="#4. CRC cards"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash4dot_crc_cards">#4. CRC cards</h2></div></div></div><p><a id="iddle1134" class="indexterm"></a>CRC stands for Class, Responsibility, Collaborator. These cards are used to take a class and figure out what its responsibility should be, and what other classes it collaborates with.</p><p>CRC cards are typically just 3x5 index cards, with each individual card representing a class. The card has two columns: one for the responsibilities of the class, and another for other classes that are collaborators, and used to fulfill those responsibilities.</p><div class="informalfigure"><a id="med_id00810a"></a><div class="mediaobject"><a id="med_id00810"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070278.png.jpg" alt="image with no caption" width="794" height="693"></div></div></div><div class="sect1" title="CRC cards help implement the SRP"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="crc_cards_help_implement_the_srp">CRC cards help implement the SRP</h2></div></div></div><p><a id="iddle1708" class="indexterm"></a>You can use CRC cards to make sure your classes follow the Single Responsibility Principle. These go hand in hand with your SRP Analysis, as well:</p><div class="informalfigure"><a id="med_id00811a"></a><div class="mediaobject"><a id="med_id00811"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070280.png.jpg" alt="image with no caption" width="784" height="740"></div></div></div><div class="sect1" title="#5. Metrics"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash5dot_metrics">#5. Metrics</h2></div></div></div><p><a id="iddle1430" class="indexterm"></a>Sometimes it’s hard to tell how solid your design really is, because design is such a subjective thing. That’s where metrics can help out: while they don’t provide a complete picture of your system, they can be helpful in pointing out strengths, weaknesses, and potential problems. You usually use software tools to take as input your class’s source code, and those tools then generate metrics based on your code and its design.</p><p>These metrics are more than just numbers, though. For example, just counting the number of lines of code in your application is almost a total waste of time. It’s nothing but a number, and has no context (and also depends a lot on how you’re writing your code, something else we’ll talk about in this appendix). But if you count the number of defects per 1000 lines of code, then <span class="emphasis"><em>that</em></span> becomes a useful metric.</p><div class="informalfigure"><a id="med_id00812a"></a><div class="mediaobject"><a id="med_id00812"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070282.png.jpg" alt="image with no caption" width="628" height="82"></div></div><p>You can also use metric to measure things like how well you’re using abstraction in your code. Good design will use abstract classes and interfaces, so that other classes can program to those interfaces rather than specific implementation classes. So abstraction keeps one part of your code independent from changes to other parts of your code, at least to the degree that it’s possible in your system. You can use something called the <span class="strong"><strong>abstractness metric</strong></span> to measure this:</p><div class="informalfigure"><a id="med_id00813a"></a><div class="mediaobject"><a id="med_id00813"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070284.png.jpg" alt="image with no caption" width="665" height="167"></div></div><p>Packages that have lots of abstractions will have a higher value for A, and packages with less abstractions have a lower value for <span class="strong"><strong>A</strong></span>. In general, you want to have each package in your software only depend on packages with a higher value for <span class="strong"><strong>A</strong></span>. That means that your packages are always depending on packages that are more abstract; the result should be software that can easily respond to change.</p><div class="informalfigure"><a id="med_id00814a"></a><div class="mediaobject"><a id="med_id00814"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070286.png.jpg" alt="image with no caption" width="450" height="256"></div></div></div><div class="sect1" title="#6. Sequence diagrams"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash6dot_sequence_diagrams">#6. Sequence diagrams</h2></div></div></div><p><a id="iddle1619" class="indexterm"></a>When we were working on the dog door for Todd and Gina, we developed several alternate paths (and one alternate path actually had an alternate path itself). To really get a feel for how your system handles these different paths, it’s helpful to use a UML <span class="strong"><strong>sequence diagram</strong></span>. A sequence diagram is just what it sounds like: a visual way to show the things that happen in a particular interaction between an actor and your system.</p><div class="informalfigure"><a id="med_id00815a"></a><div class="mediaobject"><a id="med_id00815"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070288.png.jpg" alt="image with no caption" width="830" height="723"></div></div></div><div class="sect1" title="#7. State diagrams"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash7dot_state_diagrams">#7. State diagrams</h2></div></div></div><p><a id="iddle1713" class="indexterm"></a><a id="iddle1714" class="indexterm"></a>You’ve already seen class diagrams and sequence diagrams. UML also contains a diagram called a <span class="strong"><strong>state machine diagram</strong></span> or <span class="strong"><strong>statechart diagram</strong></span>, which is usually just referred to as a <span class="strong"><strong>state diagram</strong></span>. This diagram describes a part of your system by showing its various states, and the actions that cause that state to change. These diagrams are great for describing complex behaviors visually.</p><p>State diagrams really come into play when you have multiple actions and events that are all going on at the same time. On the right page, we’ve taken just such a situation, and drawn a state diagram for how a game designer might use Gary’s Game System Framework. If game designers were going to use the framework, they might write a game that behaves a lot like this state diagram demonstrates.</p><div class="informalfigure"><a id="med_id00816a"></a><div class="mediaobject"><a id="med_id00816"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070290.png.jpg" alt="image with no caption" width="766" height="503"></div></div><div class="informalfigure"><a id="med_id00817a"></a><div class="mediaobject"><a id="med_id00817"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070292.png.jpg" alt="image with no caption" width="784" height="901"></div></div></div><div class="sect1" title="#8. Unit testing"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash8dot_unit_testing">#8. Unit testing</h2></div></div></div><p><a id="iddle1809" class="indexterm"></a><a id="iddle1841" class="indexterm"></a>In each chapter that we’re worked on an application, we’ve built “driver” programs to test the code, like <span class="strong"><strong><code class="literal">SubwayTester</code></strong></span> and <span class="strong"><strong><code class="literal">DogDoorSimulator</code></strong></span>. These are all a form of <span class="strong"><strong><span class="emphasis"><em>unit testing</em></span></strong></span>. We test each class with a certain set of input data, or with a particular sequence of method calls.</p><p>While this is a great way to get a sense of how your application works when used by the customer, it does have some drawbacks:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>You have to write a complete program for each usage of the software.</p></li><li class="listitem"><p>You need to produce some kind of output, either to the console or a file, to verify the software is working correctly.</p></li><li class="listitem"><p>You have to manually look over the output of the test, each time its run, to make sure things are working correctly.</p></li><li class="listitem"><p>Your tests will eventually test such large pieces of functionality that you’re no longer testing all the smaller features of your app.</p></li></ol></div><p>Fortunately, there are testing frameworks that will not only allow you to test very small pieces of functionality, but will also automate much of that testing for you. In Java, the most popular framework is called JUnit (<a class="ulink" href="http://www.junit.org" target="_top">http://www.junit.org</a>), and integrates with lots of the popular Java development environments, like Eclipse.</p><div class="sidebar"><a id="there_are_no_dumb_questions-id00185"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="app01qa8qe1"></a><a id="app01qa8q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: If the tests we wrote in the main part of the book made sure our software worked at a high level, why do we need more tests? Aren’t those enough to be sure our software works?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="app01qa8q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Most of the tests we wrote really tested a particular scenario, such as opening the door, letting a dog out, having another dog bark, and then letting the owner’s dog back in. Unit tests, and particular the tests we’re talking about here, are far more granular. They test each class’s functionality, one piece at a time.</p><p>The reason that you need both types of tests is because you’ll never be able to come up with scenarios that test every possible combination of features and functionality in your software. We’re all human, and we all tend to forget just one or two strange situations now and then.</p><p>With tests that exercise each individual piece of functionality in your classes, you can be sure that things will work in any scenario, even if you don’t specifically test that scenario. It’s a way to make sure each small piece works, and one that lets you assume pretty safely that combining those small pieces will then work, as well.</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="What a test case looks like"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="what_a_test_case_looks_like">What a test case looks like</h2></div></div></div><p><a id="iddle1740" class="indexterm"></a>A test case has a test method for each and every piece of functionality in the class that it’s testing. So for a class like <span class="strong"><strong><code class="literal">DogDoor</code></strong></span>, we’d test opening the door, and closing the door. JUnit would generate a test class that looked something like this:</p><div class="informalfigure"><a id="med_id00818a"></a><div class="mediaobject"><a id="med_id00818"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070294.png.jpg" alt="image with no caption" width="704" height="471"></div></div><div class="sect2" title="Test your code in context"><div class="titlepage"><div><div><h3 class="title" id="test_your_code_in_context">Test your code in context</h3></div></div></div><p>Notice that instead of directly testing the <span class="strong"><strong><code class="literal">DogDoor</code></strong></span>’s <span class="strong"><strong><code class="literal">open()</code></strong></span> and <span class="strong"><strong><code class="literal">close()</code></strong></span> methods, this test uses the <span class="strong"><strong><code class="literal">Remote</code></strong></span> class, which is how the door would work in the real world. That ensures that the tests are simulating real usage, even though they are testing just a single piece of functionality at a time.</p><p>The same thing is done in <span class="strong"><strong><code class="literal">testCloseDoor()</code></strong></span>. Instead of calling the <span class="strong"><strong><code class="literal">close()</code></strong></span> method, the test opens the door with the remote, waits beyond the time it should take for the door to close automatically, and then tests to see if the door is closed. That’s how the door will be used, so that’s what should be tested.</p></div></div><div class="sect1" title="#9. Coding standards and readable code"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash9dot_coding_standards_and_readable_c">#9. Coding standards and readable code</h2></div></div></div><p><a id="iddle1108" class="indexterm"></a><a id="iddle1514" class="indexterm"></a>Reading source code should be a lot like reading a book. You should be able to tell what’s going on, and even if you have a few questions, it shouldn’t be too hard to figure out the answers to those questions if you just keep reading. Good developers and designers should be willing to spend a little extra time writing readable code, because it improves the ability to maintain and reuse that code.</p><p>Here’s an example of a commented and readable version of the <span class="strong"><strong><code class="literal">DogDoor</code></strong></span> class we wrote back in <a class="xref" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Gathering Requirements: Give Them What They Want">Chapter&nbsp;2</a> and <a class="xref" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Requirements Change: I Love You, You’re Perfect... Now Change">Chapter&nbsp;3</a>.</p><div class="informalfigure"><a id="med_id00819a"></a><div class="mediaobject"><a id="med_id00819"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070296.png.jpg" alt="image with no caption" width="744" height="675"></div></div></div><div class="sect1" title="Great software is more than just working code"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="great_software_is_more_than_just_working">Great software is more than just working code</h2></div></div></div><p>Many developers will tell you that code standards and formatting are a big pain, but take a look at what happens when you don’t spend any time making your code readable:</p><div class="informalfigure"><a id="med_id00820a"></a><div class="mediaobject"><a id="med_id00820"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070298.png.jpg" alt="image with no caption" width="568" height="401"></div></div><p>From a purely functional point of view, this version of <span class="strong"><strong><code class="literal">DogDoor</code></strong></span> works just as well as the one on the last page. But by now you should know that great software is more than just working code—it’s code that is maintainable, and can be reused. And most developers will not want to maintain or reuse this second version of <span class="strong"><strong><code class="literal">DogDoor</code></strong></span>; it’s a pain to figure out what it does, or where things might go wrong—now imagine if there were <span class="emphasis"><em>10,000</em></span> lines of code like this, and not just 25 or so.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Writing readable code makes that code easier to maintain and reuse, for you and other developers.</strong></span></p></blockquote></div></div><div class="sect1" title="#10. Refactoring"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="hash10dot_refactoring">#10. Refactoring</h2></div></div></div><p><a id="iddle1515" class="indexterm"></a><span class="strong"><strong>Refactoring</strong></span> is the process of modifying the structure of your code without modifying its behavior. Refactoring is done to increase the cleanness, flexibility, and extensibility of your code, and usually is related to a specific improvement in your design.</p><p>Most refactorings are fairly simple, and focus on one specific design aspect of your code. For example:</p><a id="pro_id00007"></a><pre class="programlisting">public double getDisabilityAmount() {
  // Check for eligibility
  if (seniority &lt; 2)
    return 0;
  if (monthsDisabled &gt; 12)
    return 0;
  if (isPartTime)
    return 0;
  // Calculate disability amount and return it
}</pre><p>While there’s nothing particularly wrong with this code, it’s not as maintainable as it could be. The <span class="strong"><strong><code class="literal">getDisabilityAmount()</code></strong></span> method is really doing two things: checking the eligibility for disability, and then calculating the amount.</p><p>By now, you should know that violates the Single Responsibility Principle. We really should separate the code that handles eligibility requirements from the code that does disability calculations. So we can <span class="emphasis"><em>refactor</em></span> this code to look more like this:</p><div class="informalfigure"><a id="med_id00821a"></a><div class="mediaobject"><a id="med_id00821"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2070300.png.jpg" alt="image with no caption" width="642" height="132"></div></div><p>Now, if the eligibility requirements for disability change, only the <span class="strong"><strong><code class="literal">isEligibleForDisability()</code></strong></span> methods needs to change—and the method responsible for calculating the disability amount doesn’t.</p><p>Think of refactoring as a checkup for your code. It should be an ongoing process, as code that is left alone tends to become harder and harder to reuse. Go back to old code, and refactor it to take advantage of new design techniques you’ve learned. The programmers who have to maintain and reuse your code will thank you for it.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Refactoring changes the internal structure of your code <span class="underline">WITHOUT</span> affecting your code’s behavior.</strong></span></p></blockquote></div></div></section></div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/core.css" crossorigin="anonymous"></div></div></section>
</div>


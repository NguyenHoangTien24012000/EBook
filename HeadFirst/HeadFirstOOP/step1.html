<!-- http://examples.oreilly.com/9780596008673/. -->
<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section class="chapter" title="Chapter&nbsp;1.&nbsp;Well-Designed Apps Rock: Great Software Begins Here" epub:type="chapter" id="well-designed_apps_rock_great_software_b"><div class="titlepage"><div><div><h2 class="title">Chapter&nbsp;1.&nbsp;Well-Designed Apps Rock: Great Software Begins Here</h2></div></div></div><div class="informalfigure"><a id="med_id00026a"></a><div class="mediaobject"><a id="med_id00026"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068739.png.jpg" alt="image with no caption" width="478" height="488"></div></div><p><span class="strong"><strong>So how do you <span class="emphasis"><em>really</em></span> write great software?</strong></span> It’s never easy trying to figure out <span class="strong"><strong>where to start</strong></span>. Does the application actually <span class="strong"><strong>do what it’s supposed to</strong></span>? And what about things like duplicate code—that can’t be good, can it? It’s usually pretty hard to know <span class="strong"><strong>what you should work on first</strong></span>, and still make sure you don’t screw everything else up in the process. No worries here, though. By the time you’re done with this chapter, you’ll <span class="strong"><strong>know how to write great software</strong></span>, and be well on your way to improving the way you develop applications forever. Finally, you’ll understand why <span class="strong"><strong>OOA&amp;D</strong></span> is a four-letter word that your mother actually <span class="emphasis"><em>wants</em></span> you to know about.</p><div class="sect1" title="Rock and roll is forever!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="rock_and_roll_is_foreverexclamation_mark">Rock and roll is forever!</h2></div></div></div><p>There’s nothing better than the sound of a killer guitar in the hands of a great player, and Rick’s Guitars specializes in finding the perfect instrument for his discerning customers.</p><div class="informalfigure"><a id="med_id00027a"></a><div class="mediaobject"><a id="med_id00027"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068741.png.jpg" alt="image with no caption" width="285" height="450"></div></div><div class="informalfigure"><a id="med_id00028a"></a><div class="mediaobject"><a id="med_id00028"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068743.png.jpg" alt="image with no caption" width="371" height="596"></div></div><p>Just a few months ago, Rick decided to throw out his paper-based system for keeping track of guitars, and start using a computer-based system to store his inventory. He hired a popular programming firm, Down and Dirty Coding, and they’ve already built him an inventory management app. He’s even had the firm build him a new search tool to help him match up a customer to their dream instrument.</p></div><div class="sect1" title="Rick’s shiny new application..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="rickapostrophes_shiny_new_applicationhel">Rick’s shiny new application...</h2></div></div></div><p><a id="iddle1554" class="indexterm"></a>Here’s the application that the programming firm built for Rick... they’ve put together a system to completely replace all of Rick’s handwritten notes, and help him match his customers with the perfect guitar. Here’s the UML class diagram they gave Rick to show him what they did:</p><div class="informalfigure"><a id="med_id00029a"></a><div class="mediaobject"><a id="med_id00029"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068745.png.jpg" alt="image with no caption" width="770" height="518"></div></div><div class="sidebar"><a id="new_to_objectvillequestion_mark"></a><div class="sidebar-title">New to Objectville?</div><p>If you’re new to object oriented programming, haven’t heard of UML before, or aren’t sure about the diagram above, it’s OK! We’ve prepared a special <a class="xref" href="apb.html#welcome_to_objectville" title="Welcome to Objectville">Welcome to Objectville</a> care package for you to get you started. Flip to the back of the book, and read <a class="xref" href="apb.html" title="Appendix&nbsp;B.&nbsp;Welcome to Objectville: Speaking the Language of OO">Appendix&nbsp;B</a>—we promise you’ll be glad you did. Then come back here, and this will all make a lot more sense.</p><div class="informalfigure"><a id="med_id00030a"></a><div class="mediaobject"><a id="med_id00030"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068747.png.jpg" alt="image with no caption" width="202" height="227"></div></div></div></div><div class="sect1" title="Here what the code for Guitar.java looks like"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="here_what_the_code_for_guitardotjava_loo">Here what the code for Guitar.java looks like</h2></div></div></div><p>You’ve seen the class diagram for Rick’s application on the last page; now let’s look at what the actual code for <code class="literal">Guitar.java</code> and <code class="literal">Inventory.java</code> look like.</p><div class="informalfigure"><a id="med_id00031a"></a><div class="mediaobject"><a id="med_id00031"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068749.png.jpg" alt="image with no caption" width="628" height="784"></div></div></div><div class="sect1" title="And Inventory.java..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="and_inventorydotjavahellip">And Inventory.java...</h2></div></div></div><div class="informalfigure"><a id="med_id00032a"></a><div class="mediaobject"><a id="med_id00032"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068751.png.jpg" alt="image with no caption" width="727" height="823"></div></div></div><div class="sect1" title="But then Rick started losing customers..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="but_then_rick_started_losing_customershe">But then Rick started losing customers...</h2></div></div></div><p><a id="iddle1561" class="indexterm"></a>It seems like no matter who the customer is and what they like, Rick’s new search program almost always comes up empty when it looks for good guitar matches. But Rick knows he has guitars that these customers would like... so what’s going on?</p><div class="informalfigure"><a id="med_id00033a"></a><div class="mediaobject"><a id="med_id00033"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068753.png.jpg" alt="image with no caption" width="760" height="849"></div></div><div class="informalfigure"><a id="med_id00034a"></a><div class="mediaobject"><a id="med_id00034"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068755.png.jpg" alt="image with no caption" width="693" height="464"></div></div><div class="sidebar"><a id="sharpen_your_pencil"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1647" class="indexterm"></a>How would you redesign Rick’s app?</p><p>Look over the last three pages, showing the code for Rick’s app, and the results of running a search. What problems do you see? What would you change? Write down the <span class="strong"><strong>FIRST</strong></span> thing you’d do to improve Rick’s app in the blanks below.</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div></div><div class="sect1" title="What’s the FIRST thing you’d change?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="whatapostrophes_the_first_thing_youapost">What’s the FIRST thing you’d change?</h2></div></div></div><p><a id="iddle1163" class="indexterm"></a>It’s obvious that Rick’s app has problems, but it’s not so obvious what we should work on first. And it looks like there’s no shortage of opinion:</p><div class="informalfigure"><a id="med_id00035a"></a><div class="mediaobject"><a id="med_id00035"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068757.png.jpg" alt="image with no caption" width="753" height="820"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>What would you do <span class="underline">first?</span></strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00036a"></a><div class="mediaobject"><a id="med_id00036"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068759.png.jpg" alt="image with no caption" width="471" height="769"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>How do you write great software, <span class="underline">every time</span>?</strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00037a"></a><div class="mediaobject"><a id="med_id00037"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068761.png.jpg" alt="image with no caption" width="418" height="381"></div></div><p><a id="page_10"></a><a id="iddle1164" class="indexterm"></a><a id="iddle1338" class="indexterm"></a><span class="strong"><strong>Good question... and there are <span class="underline">lots</span> of different answers:</strong></span></p><div class="informalfigure"><a id="med_id00038a"></a><div class="mediaobject"><a id="med_id00038"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068763.png.jpg" alt="image with no caption" width="760" height="694"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00001"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1646" class="indexterm"></a>What do <span class="strong"><strong><span class="emphasis"><em>you</em></span></strong></span> think “great software” means?</p><p>You’ve seen what several different types of programmers think great software is... so who is right? Or do you have your own definition of what makes an application great? It’s your turn to write down what you think makes for great software:</p><div class="informalfigure"><a id="med_id00039a"></a><div class="mediaobject"><a id="med_id00039"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068765.png.jpg" alt="image with no caption" width="726" height="324"></div></div></div></div><div class="sect1" title="Great software is... more than just one thing"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="great_software_ishellip_more_than_just_o">Great software is... more than just <span class="underline">one</span> thing</h2></div></div></div><p><a id="iddle1138" class="indexterm"></a><a id="iddle1336" class="indexterm"></a><a id="iddle1605" class="indexterm"></a>It’s going to take more than just a simple definition to figure out exactly what “great software” means. In fact, <span class="emphasis"><em>all</em></span> of the different programmers in <a class="xref" href="ch01.html#page_10">What’s the FIRST thing you’d change?</a> talked about a <span class="emphasis"><em>part</em></span> of what makes software great.</p><p><span class="strong"><strong>First, great software must satisfy the customer. The software must <span class="underline">do what the customer wants it to do.</span></strong></span></p><div class="note" title="Win your customers over"><h3 class="title"><a id="ch01note01"></a>Win your customers over</h3><p><span class="emphasis"><em>Customers will think your software is great when it does what it’s supposed to do.</em></span></p><div class="informalfigure"><a id="med_id00040a"></a><div class="mediaobject"><a id="med_id00040"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068767.png.jpg" alt="image with no caption" width="130" height="220"></div></div></div><p>Building software that works right is great, but what about when it’s time to add to your code, or reuse it in another application? It’s not enough to just have software that works like the customer wants it to; your software better be able to stand the test of time.</p><p><span class="strong"><strong>Second, great software is <span class="underline">well-designed</span>, <span class="underline">well-coded</span>, and easy to <span class="underline">maintain</span>, <span class="underline">reuse</span>, and <span class="underline">extend</span>.</strong></span></p><div class="note" title="Make your code as smart as you are"><h3 class="title"><a id="ch01note02"></a>Make your code as smart as you are</h3><p><span class="emphasis"><em>You (and your co-workers) will think your software is great when it’s easy to maintain, reuse, and extend.</em></span></p><div class="informalfigure"><a id="med_id00041a"></a><div class="mediaobject"><a id="med_id00041"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068769.png.jpg" alt="image with no caption" width="93" height="110"></div></div></div><div class="informalfigure"><a id="med_id00042a"></a><div class="mediaobject"><a id="med_id00042"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068771.png.jpg" alt="image with no caption" width="319" height="358"></div></div></div><div class="sect1" title="Great software in 3 easy steps"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="great_software_in_3_easy_steps"><span class="underline">Great</span> software in <span class="underline">3</span> <span class="underline">easy</span> <span class="underline">steps</span></h2></div></div></div><div class="note" title="Note"><h3 class="title"><a id="ch01note03"></a>Note</h3><p><a id="iddle1337" class="indexterm"></a>It may not seem easy now, but we’ll show you how OOA&amp;D and some basic principles can change your software forever.</p></div><div class="informalfigure"><a id="med_id00043a"></a><div class="mediaobject"><a id="med_id00043"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068773.png.jpg" alt="image with no caption" width="655" height="652"></div></div></div><div class="sect1" title="Remember Rick? Remember his lost customers?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="remember_rickquestion_mark_remember_his">Remember Rick? Remember his lost customers?</h2></div></div></div><p><a id="iddle1562" class="indexterm"></a>Let’s put our ideas about how to write great software to the test and see if they hold up in the real world. Rick’s got a search tool that isn’t working, and it’s your job to fix the application, and turn it into something great. Let’s look back at the app and see what’s going on:</p><div class="informalfigure"><a id="med_id00044a"></a><div class="mediaobject"><a id="med_id00044"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068775.png.jpg" alt="image with no caption" width="776" height="319"></div></div></div><div class="sect1" title="So let’s apply our 3 steps"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="so_letapostrophes_apply_our_3_steps">So let’s apply our 3 steps</h2></div></div></div><div class="informalfigure"><a id="med_id00045a"></a><div class="mediaobject"><a id="med_id00045"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068777.png.jpg" alt="image with no caption" width="735" height="368"></div></div><div class="informalfigure"><a id="med_id00046a"></a><div class="mediaobject"><a id="med_id00046"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068779.png.jpg" alt="image with no caption" width="576" height="537"></div></div><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Sure, that would fix the problem Rick’s having now, but I think there’s probably a better way to make this work than just calling toLowerCase() on a bunch of strings all over the place.</p><p title="Joe:"><span class="title"><strong><span class="strong"><strong>Joe:</strong></span></strong></span>&nbsp;Yeah, I was thinking the same thing. I mean, all that string comparison seems like a bad idea. Couldn’t we use constants or maybe some enumerated types for the builders and woods?</p><p title="Jill:"><span class="title"><strong><span class="strong"><strong>Jill:</strong></span></strong></span>&nbsp;You guys are thinking <span class="emphasis"><em>way</em></span> too far ahead. Step 1 was supposed to be fixing the app so it does what the customer wants it to do. I thought we weren’t supposed to worry about design yet.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Well, yeah, I get that we’re supposed to focus on the customer. But we can at least be smart about <span class="emphasis"><em>how</em></span> we fix things, right? I mean, why create problems we’ll have to come back and fix later on if we can avoid them from the start?</p><p title="Jill:"><span class="title"><strong><span class="strong"><strong>Jill:</strong></span></strong></span>&nbsp;Hmmm... I guess that does make sense. We don’t want our solution to this problem creating new design problems for us down the road. But we’re still not going to mess with the other parts of the application, right?</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Right. We can just remove all those strings, and the string comparisons, to avoid this whole case-matching thing.</p><p title="Joe:"><span class="title"><strong><span class="strong"><strong>Joe:</strong></span></strong></span>&nbsp;Exactly. If we go with enumerated types, we can ensure that only valid values for the builder, woods, and type of guitar are accepted. That’ll make sure that Rick’s clients actually get to look at guitars that match their preferences.</p><p title="Jill:"><span class="title"><strong><span class="strong"><strong>Jill:</strong></span></strong></span>&nbsp;And we’ve actually done a little bit of design at the same time... very cool! Let’s put this into action.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Don’t <span class="underline">create</span> problems to <span class="underline">solve</span> problems.</strong></span></p></blockquote></div></div><div class="sect1" title="Ditching String comparisons"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="ditching_string_comparisons">Ditching String comparisons</h2></div></div></div><p><a id="iddle1251" class="indexterm"></a><a id="iddle1252" class="indexterm"></a><a id="iddle1563" class="indexterm"></a><a id="iddle1717" class="indexterm"></a><a id="iddle1775" class="indexterm"></a>The first improvement we can make to Rick’s guitar search tool is getting rid of all those annoying <span class="strong"><strong><code class="literal">String</code></strong></span> comparisons. And even though you could use a function like <span class="strong"><strong><code class="literal">toLowerCase()</code></strong></span> to avoid problems with uppercase and lowercase letters, let’s avoid <span class="strong"><strong><code class="literal">String</code></strong></span> comparisons altogether:</p><div class="informalfigure"><a id="med_id00047a"></a><div class="mediaobject"><a id="med_id00047"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068781.png.jpg" alt="image with no caption" width="743" height="599"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa1qe1"></a><a id="ch01qa1q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: I’ve never seen an enum before. What is that, exactly?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa1q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Enums are <span class="emphasis"><em>enumerated types</em></span>. They’re available in C, C++, Java version 5.0 and up, and will even be a part of Perl 6.</p><p>Enumerated types let you define a type name, like <span class="strong"><strong><code class="literal">Wood</code></strong></span>, and then a set of values that are allowed for that type (like <span class="strong"><strong><code class="literal">COCOBOLO</code></strong></span>, <span class="strong"><strong><code class="literal">SITKA</code></strong></span>, and <span class="strong"><strong><code class="literal">MAHOGANY</code></strong></span>). Then, you refer to a specific value like this: <span class="strong"><strong><code class="literal">Wood.COCOBOLO</code></strong></span>.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa1qe2"></a><a id="ch01qa1q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: And why are enumerated types so helpful here?</strong></span></p><div class="informalfigure"><a id="med_id00048a"></a><div class="mediaobject"><a id="med_id00048"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068783.png.jpg" alt="image with no caption" width="776" height="708"></div></div></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa1q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> <a id="iddle1354" class="indexterm"></a>The cool thing about enums is that methods or classes that use them are protected from any values not defined in the enum. So you can’t misspell or mistype an enum without getting a compiler error. It’s a great way to get not only type safety, but value safety; you can avoid getting bad data for anything that has a standard range or set of legal values.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa1qe3"></a><a id="ch01qa1q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: I’m using an older version of Java. Am I stuck?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa1q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> No, not at all. Visit the Head First Labs web site at <span class="strong"><strong><code class="literal">http://www.headfirstlabs.com</code></strong></span>, where we’ve posted a version of Rick’s Guitars that doesn’t use enums, and will work with older JDKs.</p></td></tr></tbody></table></div></blockquote></div></div><p><a id="iddle1107" class="indexterm"></a><a id="iddle1298" class="indexterm"></a><a id="iddle1575" class="indexterm"></a><span class="strong"><strong>Let’s take a look at the big picture:</strong></span></p><div class="informalfigure"><a id="med_id00049a"></a><div class="mediaobject"><a id="med_id00049"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068785.png.jpg" alt="image with no caption" width="805" height="513"></div></div><p><span class="strong"><strong>So what have we really done here?</strong></span></p><p>We’ve gotten a lot closer to completing step 1 in building great software. Rick’s problem with searches coming up empty when he’s got a matching guitar in his inventory is a thing of the past.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>1. Make sure your software does what the customer wants it to do.</strong></span></p></blockquote></div><p>Even better, we’ve made Rick’s application <span class="strong"><strong><span class="emphasis"><em>less fragile</em></span></strong></span> along the way. It’s not going to break so easily now, because we’ve added both type safety and value safety with these enums. That means less problems for Rick, and less maintenance for us.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note04"></a>Note</h3><p>Code that is not fragile is generally referred to as <span class="underline">robust code</span>.</p></div><div class="sidebar"><a id="sharpen_your_pencil-id00002"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1088" class="indexterm"></a><a id="iddle1648" class="indexterm"></a><a id="iddle1760" class="indexterm"></a>Apply Step 1 to your own project.</p><p>It’s time to see how you can satisfy your own customers. In the blank below, write a short description of the current project you’re working on (you can also use a project you finished recently):</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>Now, write down the first thing you did when you started working on this project. Did it have anything to do with making sure your code did what the customer wanted it to?</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>If you started out focusing on something other than the customer, think about how you might have approached things differently if you knew about the 3 steps to building great software. What would have been different? Do you think your application would be any better or worse than it is right now?</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00003"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa2qe1"></a><a id="ch01qa2q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So it’s OK to do a <span class="emphasis"><em>little</em></span> design when I’m working on Step 1, right?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa2q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Yeah, as long as your focus is still on the customer’s needs. You want the basic features of your application in place <span class="emphasis"><em>before</em></span> you start making big design changes. But while you’re working on functionality, you can certainly use good OO principles and techniques to make sure your application is well designed from the start.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa2qe2"></a><a id="ch01qa2q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: That diagram over in <a class="xref" href="ch01.html#ch01note04" title="Note">Note</a> is a class diagram right? Or is it class diagram<span class="emphasis"><em>s</em></span>, since it’s more than one class?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa2q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> It is a class diagram, and a single diagram can have multiple classes in it. In fact, class diagrams can show a lot more detail than you’ve seen so far, and we’ll be adding to them in the next several chapters.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa2qe3"></a><a id="ch01qa2q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So we’re ready to move on to Step 2, and start applying OO principles, right?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa2q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Not quite... there’s one more thing Rick would like us to help him with before we’re ready to start analyzing our code for places we might be able to improve it. Remember, our first job is to please the customer, and <span class="emphasis"><em>then</em></span> we really focus on improving our OO design.</p></td></tr></tbody></table></div></blockquote></div></div><div class="informalfigure"><a id="med_id00050a"></a><div class="mediaobject"><a id="med_id00050"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068787.png.jpg" alt="image with no caption" width="745" height="812"></div></div></div><div class="sect1" title="Rick’s customers want choices!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="rickapostrophes_customers_want_choicesex">Rick’s customers want choices!</h2></div></div></div><p><a id="iddle1564" class="indexterm"></a><a id="iddle1612" class="indexterm"></a>Rick’s come up with a new requirement for his app: he wants his search tool to return <span class="emphasis"><em>all</em></span> the guitars that match his client’s specs, not just the first one in his inventory.</p><div class="informalfigure"><a id="med_id00051a"></a><div class="mediaobject"><a id="med_id00051"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068789.png.jpg" alt="image with no caption" width="490" height="155"></div></div><div class="sidebar"><a id="code_magnets"></a><div class="sidebar-title">Code Magnets</div><p>Let’s continue with Step 1, and make sure we’ve got the app working right. Below is the code for the search() method in Rick’s inventory tool, but it’s up to you to fill in the missing pieces. Use the code magnets at the bottom of the page to return all the matching guitars from Rick’s inventory.</p><div class="informalfigure"><a id="med_id00052a"></a><div class="mediaobject"><a id="med_id00052"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068791.png.jpg" alt="image with no caption" width="716" height="499"></div></div></div><div class="sidebar"><a id="code_magnets-id00004"></a><div class="sidebar-title">Code Magnets</div><p><a id="iddle1165" class="indexterm"></a><a id="iddle1565" class="indexterm"></a><a id="iddle1613" class="indexterm"></a><a id="iddle1801" class="indexterm"></a>Let’s keep on with Step 1, and make sure we’ve got the app working right. Below is the code for the search() method in Rick’s inventory tool, but it’s up to you to fill in the missing pieces. Use the code magnets at the bottom of the page to return all the matching guitars from Rick’s inventory.</p><div class="informalfigure"><a id="med_id00053a"></a><div class="mediaobject"><a id="med_id00053"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068793.png.jpg" alt="image with no caption" width="764" height="440"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00005"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa3qe1"></a><a id="ch01qa3q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: So I’m not done with the first step until the application works like my customer wants it to?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa3q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Exactly. You want to make sure that the application works like it should before you dive into applying design patterns or trying to do any real restructuring of how the application is put together.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa3qe2"></a><a id="ch01qa3q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: And why is it so important to finish Step 1 before going on to Step 2?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa3q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> You’re going to make lots of changes to your software when you’re getting it to work right. Trying to do too much design before you’ve at least got the basic functionality down can end up being a waste, because a lot of the design will change as you’re adding new pieces of functionality to your classes and methods.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa3qe3"></a><a id="ch01qa3q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: You seem sort of hung up on this “Step 1” and “Step 2” business. What if I don’t code my apps that way?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa3q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> There’s nothing that says you have to follow these steps exactly, but they do provide an easy path to follow to make sure your software does what it’s supposed to, and is well-designed and easy to reuse. If you’ve got something similar that accomplishes the same goals, that’s great!</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="Test drive"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="test_drive">Test drive</h2></div></div></div><p><a id="iddle1401" class="indexterm"></a><a id="iddle1557" class="indexterm"></a><a id="iddle1567" class="indexterm"></a>We’ve talked a lot about getting the right requirements from the customer, but now we need to make sure we’ve actually got those requirements handled by our code. Let’s test things out, and see if our app is working like Rick wants it to:</p><div class="informalfigure"><a id="med_id00054a"></a><div class="mediaobject"><a id="med_id00054"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068795.png.jpg" alt="image with no caption" width="788" height="755"></div></div></div><div class="sect1" title="Back to our steps"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="back_to_our_steps">Back to our steps</h2></div></div></div><p>Now that Rick’s all set with our software, we can begin to use some OO principles and make sure the app is flexible and well-designed.</p><div class="informalfigure"><a id="med_id00055a"></a><div class="mediaobject"><a id="med_id00055"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068797.png.jpg" alt="image with no caption" width="531" height="578"></div></div><div class="informalfigure"><a id="med_id00056a"></a><div class="mediaobject"><a id="med_id00056"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068799.png.jpg" alt="image with no caption" width="348" height="462"></div></div></div><div class="sect1" title="Looking for problems"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="looking_for_problems">Looking for problems</h2></div></div></div><p><a id="iddle1558" class="indexterm"></a>Let’s dig a little deeper into our search tool, and see if we can find any problems that some simple OO principles might help improve. Let’s start by taking a closer look at how the <span class="strong"><strong><code class="literal">search()</code></strong></span> method in <span class="strong"><strong><code class="literal">Inventory</code></strong></span> works:</p><div class="informalfigure"><a id="med_id00057a"></a><div class="mediaobject"><a id="med_id00057"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068801.png.jpg" alt="image with no caption" width="713" height="732"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch01note05"></a>Brain Power</h3><p>Is anything wrong here? What problems might there be with Rick’s search tool?</p><p><span class="emphasis"><em>Hint: Think about what each object is named, and compare that to its function. Anything seem odd?</em></span></p></div></div><div class="sect1" title="Analyze the search() method"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="analyze_the_searchleft_parenthesisright">Analyze the search() method</h2></div></div></div><p><a id="iddle1566" class="indexterm"></a><a id="iddle1614" class="indexterm"></a>Let’s spend a little time analyzing exactly what goes on in the <span class="strong"><strong><code class="literal">search()</code></strong></span> method of <span class="strong"><strong><code class="literal">Inventory.java</code></strong></span>. Before we look at the code, though, let’s think about what this method <span class="emphasis"><em>should</em></span> do.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span class="strong"><strong>The client provides their guitar preferences.</strong></span></p><div class="note" title="Note"><h3 class="title"><a id="ch01note06"></a>Note</h3><p>The client can specify only <span class="underline">general</span> properties of an instrument. So they never supply a serial number or a price.</p></div><p>Each of Rick’s clients has some properties that they’re interested in finding in their ideal guitar: the woods used, or the type of guitar, or a particular builder or model. They provide these preferences to Rick, who feeds them into his inventory search tool.</p></li><li class="listitem"><p><span class="strong"><strong>The search tool looks through Rick’s inventory.</strong></span></p><p>Once the search tool knows what Rick’s client wants, it starts to loop through each guitar in Rick’s inventory.</p></li><li class="listitem"><p><span class="strong"><strong>Each guitar is compared to the client’s preferences.</strong></span></p><p>For each guitar in Rick’s inventory, the search tool sees if that guitar matches the client’s preferences. If there’s a match, the matching guitar is added to the list of choices for the client.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note07"></a>Note</h3><p>All the general properties, like the top wood and guitar builder, are compared to the client’s preferences.</p></div></li><li class="listitem"><p><span class="strong"><strong>Rick’s client is given a list of matching guitars.</strong></span></p><p>Finally, the list of matching guitars is returned to Rick and his client. The client can make a choice, and Rick can make a sale.</p></li></ol></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Use a textual description of the problem you’re trying to solve to make sure that your design lines up with the intended functionality of your application.</strong></span></p></blockquote></div><div class="sidebar"><a id="mystery_of_the_mismatched_object_type"></a><div class="sidebar-title">The Mystery of the Mismatched Object Type</div><p><a id="iddle1431" class="indexterm"></a><a id="iddle1445" class="indexterm"></a><a id="iddle1447" class="indexterm"></a><a id="iddle1512" class="indexterm"></a><a id="iddle1560" class="indexterm"></a>In the better-designed areas of Objectville, objects are very particular about their jobs. Each object is interested in doing its job, and only its job, to the best of its ability. There’s nothing a well-designed object hates more than being used to do something that really isn’t its true purpose.</p><p>Unfortunately, it’s come to our attention that this is exactly what is happening in Rick’s inventory search tool: somewhere, an object is being used to do something that it really shouldn’t be doing. It’s your job to solve this mystery and figure out how we can get Rick’s application back in line.</p><p>To help you figure out what’s gone amiss, here are some helpful tips to start you on your search for the mismatched object type:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p><span class="strong"><strong>Objects should do what their names indicate.</strong></span> If an object is named Jet, it should probably takeOff() and land(), but it shouldn’t takeTicket()—that’s the job of another object, and doesn’t belong in Jet.</p></li><li class="listitem"><p><span class="strong"><strong>Each object should represent a single concept.</strong></span> You don’t want objects serving double or triple duty. Avoid a Duck object that represents a real quacking duck, a yellow plastic duck, and someone dropping their head down to avoid getting hit by a baseball.</p></li><li class="listitem"><p><span class="strong"><strong>Unused properties are a dead giveaway.</strong></span> If you’ve got an object that is being used with no-value or null properties often, you’ve probably got an object doing more than one job. If you rarely have values for a certain property, why is that property part of the object? Would there be a better object to use with just a subset of those properties?</p></li></ol></div><div class="informalfigure"><a id="med_id00058a"></a><div class="mediaobject"><a id="med_id00058"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068803.png.jpg" alt="image with no caption" width="222" height="181"></div></div><p>What do you think the mismatched object type is? Write your answer in the blank below:</p><p>___________________________________</p><p>What do you think you should do to fix the problem? What changes would you make?</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p></div><div class="informalfigure"><a id="med_id00059a"></a><div class="mediaobject"><a id="med_id00059"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068805.png.jpg" alt="image with no caption" width="490" height="392"></div></div><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;<a id="iddle1234" class="indexterm"></a><a id="iddle1556" class="indexterm"></a>Hey, that’s right, Joe. I hadn’t thought about that before.</p><p title="Jill:"><span class="title"><strong><span class="strong"><strong>Jill:</strong></span></strong></span>&nbsp;So what? Using a Guitar object makes it really easy to do comparisons in the search() method.</p><p title="Joe:"><span class="title"><strong><span class="strong"><strong>Joe:</strong></span></strong></span>&nbsp;Not any more than some other object would. Look:</p><div class="informalfigure"><a id="med_id00060a"></a><div class="mediaobject"><a id="med_id00060"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068807.png.jpg" alt="image with no caption" width="409" height="113"></div></div><p title="Joe:"><span class="title"><strong><span class="strong"><strong>Joe:</strong></span></strong></span>&nbsp;It really doesn’t matter what type of object we’re using there, as long as we can figure out what specific things Rick’s clients are looking for.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Yeah, I think we should have a new object that stores just the specs that clients want to send to the search() method. Then they’re not sending an entire Guitar object, which never seemed to make much sense to me.</p><p title="Jill:"><span class="title"><strong><span class="strong"><strong>Jill:</strong></span></strong></span>&nbsp;But isn’t that going to create some duplicate code? If there’s an object for all the client’s specs, and then the Guitar has all its properties, we’ve got two getBuilder() methods, two getBackWood() methods... that’s not good.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;So why don’t we just encapsulate those properties away from Guitar into a new object?</p><p title="Joe:"><span class="title"><strong><span class="strong"><strong>Joe:</strong></span></strong></span>&nbsp;Whoa... I was with you until you said “encapsulate.” I thought that was when you made all your variables private, so nobody could use them incorrectly. What’s that got to do with a guitar’s properties?</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Encapsulation is also about breaking your app into logical parts, and then keeping those parts separate. So just like you keep the data in your classes separate from the rest of your app’s behavior, we can keep the generic properties of a guitar separate from the actual Guitar object itself.</p><p title="Jill:"><span class="title"><strong><span class="strong"><strong>Jill:</strong></span></strong></span>&nbsp;And then Guitar just has a variable pointing to a new object type that stores all its properties?</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Exactly! So we’ve really encapsulated the guitar properties out of Guitar, and put them in their own separate object. Look, we could do something like this...</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Encapsulation allows you to hide the inner workings of your application’s parts, but yet make it clear what each part does.</strong></span></p></blockquote></div><div class="note" title="Note"><h3 class="title"><a id="ch01note08"></a>Note</h3><p>New to <span class="strong"><strong>encapsulation?</strong></span> Flip ahead to <a class="xref" href="apb.html" title="Appendix&nbsp;B.&nbsp;Welcome to Objectville: Speaking the Language of OO">Appendix&nbsp;B</a>, read that short introduction to Objectville, and then come back here and keep reading.</p></div><div class="sidebar"><a id="sharpen_your_pencil-id00006"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1093" class="indexterm"></a><a id="iddle1341" class="indexterm"></a><a id="iddle1347" class="indexterm"></a><a id="iddle1649" class="indexterm"></a>Create the GuitarSpec object.</p><p>Below, you’ll see the class diagram for Guitar, and the new GuitarSpec object that Frank, Jill, and Joe have been discussing. It’s your job to add all the properties and methods that you think you’ll need to GuitarSpec. Then, cross out anything you don’t need anymore in the Guitar class. Finally, we’ve left you some space in the Guitar class diagram in case you think you need to add any new properties or methods. Good luck!</p><div class="informalfigure"><a id="med_id00061a"></a><div class="mediaobject"><a id="med_id00061"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068809.png.jpg" alt="image with no caption" width="620" height="568"></div></div><p>* If you get stuck, think about the things that are common between the Guitar object and what a client would supply to the search() method.</p></div><div class="sidebar"><a id="sharpen_your_pencil_answers"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1650" class="indexterm"></a>Create the GuitarSpec object.</p><p>Below you’ll see the class diagram for Guitar, and the new GuitarSpec object that Frank, Jill, and Joe have been discussing. It’s your job to add all the properties and methods that you think you’ll need to GuitarSpec. See if you made the same changes that we did.</p><div class="informalfigure"><a id="med_id00062a"></a><div class="mediaobject"><a id="med_id00062"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068811.png.jpg" alt="image with no caption" width="715" height="494"></div></div></div></div><div class="sect1" title="Now update your own code"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="now_update_your_own_code">Now update your own code</h2></div></div></div><p>With this class diagram, you should be able to add the <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> class to your application, and update the <span class="strong"><strong><code class="literal">Guitar</code></strong></span> class as well. Go ahead and make any changes you need to <span class="strong"><strong><code class="literal">Inventory.java</code></strong></span> so that the search tool compiles, as well.</p><div class="sidebar"><a id="there_are_no_dumb_questions-id00007"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa4qe1"></a><a id="ch01qa4q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1250" class="indexterm"></a><a id="iddle1351" class="indexterm"></a><a id="iddle1772" class="indexterm"></a><span class="strong"><strong>Q: I understand why we need an object for the client to send specs to search()... but why are we using that object to hold properties for Guitar, too?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa4q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Suppose you just used <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> to hold client specs for sending to the <span class="strong"><strong><code class="literal">search()</code></strong></span> method, and you kept the <span class="strong"><strong><code class="literal">Guitar</code></strong></span> class just the same as it was. If Rick started carrying 12-string guitars, and wanted a <span class="strong"><strong><code class="literal">numStrings</code></strong></span> property, you’d have to add that property—and code for a <span class="strong"><strong><code class="literal">getNumStrings()</code></strong></span> method—to both the <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> and <span class="strong"><strong><code class="literal">Guitar</code></strong></span> classes. Can you see how this would lead to duplicate code?</p><p>Instead, we can put all that (potentially) duplicate code into the <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> class, and then have <span class="strong"><strong><code class="literal">Guitar</code></strong></span> objects reference an instance of it to avoid any duplication.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Anytime you see <span class="underline">duplicate code</span>, look for a place to <span class="underline">encapsulate</span>!</strong></span></p></blockquote></div></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa4qe2"></a><a id="ch01qa4q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: I still am confused about how this is a form of encapsulation. Can you explain that again?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa4q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> The idea behind encapsulation is to protect information in one part of your application from the other parts of your application. In its simplest form, you can protect the data in your class from the rest of your app by making that data private. But sometimes the information might be an entire set of properties—like the details about a guitar—or even behavior—like how a particular type of duck flies.</p><p>When you break that behavior out from a class, you can change the behavior without the class having to change as well. So if you changed how properties were stored, you wouldn’t have to change your <span class="strong"><strong><code class="literal">Guitar</code></strong></span> class at all, because the properties are encapsulated away from <span class="strong"><strong><code class="literal">Guitar</code></strong></span>.</p><p>That’s the power of encapsulation: by breaking up the different parts of your app, you can change one part without having to change all the other parts. In general, you should encapsulate the parts of your app that might vary away from the parts that will stay the same.</p></td></tr></tbody></table></div></blockquote></div></div><div class="informalfigure"><a id="med_id00063a"></a><div class="mediaobject"><a id="med_id00063"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068813.png.jpg" alt="image with no caption" width="377" height="870"></div></div></div><div class="sect1" title="Update the Inventory class"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="update_the_inventory_class">Update the Inventory class</h2></div></div></div><p><a id="iddle1394" class="indexterm"></a>Now that we’ve encapsulated away the specifications of a guitar, we’ll need to make a few other changes to our code.</p><div class="informalfigure"><a id="med_id00064a"></a><div class="mediaobject"><a id="med_id00064"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068815.png.jpg" alt="image with no caption" width="715" height="711"></div></div></div><div class="sect1" title="Getting ready for another test drive"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="getting_ready_for_another_test_drive">Getting ready for another test drive</h2></div></div></div><p><a id="iddle1286" class="indexterm"></a><a id="iddle1555" class="indexterm"></a>You’ll need to update the <span class="strong"><strong><code class="literal">FindGuitarTester</code></strong></span> class to test out all these new changes:</p><div class="informalfigure"><a id="med_id00065a"></a><div class="mediaobject"><a id="med_id00065"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068817.png.jpg" alt="image with no caption" width="715" height="604"></div></div><div class="note" title="Get online"><h3 class="title"><a id="ch01note09"></a>Get online</h3><p>You can download the current version of Rick’s search tool at <a class="ulink" href="http://www.headfirstlabs.com" target="_top">http://www.headfirstlabs.com</a>. Just look for Head First OOA&amp;D, and find “Rick’s Guitars (with encapsulation)”.</p></div><div class="sidebar"><a id="why_do_i_matterquestion_mark"></a><div class="sidebar-title">Why DO I Matter?</div><p><a id="iddle1166" class="indexterm"></a><a id="iddle1235" class="indexterm"></a><a id="iddle1292" class="indexterm"></a><a id="iddle1300" class="indexterm"></a><a id="iddle1773" class="indexterm"></a>You’ve learned a lot about writing great software, and there’s still more to go! Take a deep breath and think about some of the terms and principles we’ve covered. Connect the words on the left to the purposes of those techniques and principles on the right.</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Flexibility</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Without me, you’ll never actually make the customer happy. No matter how well-designed your application is, I’m the thing that puts a smile on the customer’s face.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Encapsulation</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>I’m all about reuse and making sure you’re not trying to solve a problem that someone else has already figured out.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Functionality</strong></span></p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>You use me to keep the parts of your code that stay the same separate from the parts that change; then it’s really easy to make changes to your code without breaking everything.</p></td></tr><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p><span class="strong"><strong>Design Pattern</strong></span></p></td><td style="vertical-align: top; "><p>Use me so that your software can change and grow without constant rework. I keep your application from being fragile.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><a id="inline_id00002"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068819.png.jpg" alt="" width="99" height="9"></span> <span class="strong"><strong>Answers in <a class="xref" href="ch01.html#why_do_i_matterquestion_mark-id00013" title="Why DO I Matter?">Why DO I Matter?</a>.</strong></span></p></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00008"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa5qe1"></a><a id="ch01qa5q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: Encapsulation isn’t the only OO principle I can use at this stage, is it?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa5q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Nope. Other good OO principles that you might want to think about at this stage are inheritance and polymorphism. Both of these relate to duplicate code and encapsulation though, so starting out by looking for places where you could use encapsulation to better your design is always a good idea.</p><p>We’ll talk about a lot more OO programming principles throughout this book (and even see a few sing in <a class="xref" href="ch08.html" title="Chapter&nbsp;8.&nbsp;Design Principles: Originality is Overrated">Chapter&nbsp;8</a>), so don’t worry if you are still getting a handle on things at this point. You’ll learn a lot more about encapsulation, class design, and more before we’re done.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa5qe2"></a><a id="ch01qa5q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: But I don’t really see how this encapsulation makes my code more flexible. Can you explain that again?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa5q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Once you’ve gotten your software to work like it’s supposed to, flexibility becomes a big deal. What if the customer wants to add new properties or features to the app? If you’ve got tons of duplicate code or confusing inheritance structures in your app, making changes is going to be a pain.</p><p>By introducing principles like encapsulation and good class design into your code, it’s easier to make these changes, and your application becomes a lot more flexible.</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="Getting back to Rick’s app..."><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="getting_back_to_rickapostrophes_apphelli">Getting back to Rick’s app...</h2></div></div></div><p>Let’s make sure all our changes haven’t messed up the way Rick’s tool works. Compile your classes, and run the <span class="strong"><strong><code class="literal">FindGuitarTester</code></strong></span> program again:</p><div class="informalfigure"><a id="med_id00066a"></a><div class="mediaobject"><a id="med_id00066"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068821.png.jpg" alt="image with no caption" width="605" height="208"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch01note10"></a>Brain Power</h3><p>Can you think of three specific ways that well-designed software is easier to change than software that has duplicate code?</p></div></div><div class="sect1" title="Design once, design twice"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="design_oncecomma_design_twice">Design once, design twice</h2></div></div></div><p><a id="iddle1553" class="indexterm"></a>Once you’ve taken a first pass over your software and applied some basic OO principles, you’re ready to take another look, and this time make sure your software is not only flexible, but easily reused and extended.</p><div class="informalfigure"><a id="med_id00067a"></a><div class="mediaobject"><a id="med_id00067"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068823.png.jpg" alt="image with no caption" width="472" height="609"></div></div><div class="informalfigure"><a id="med_id00068a"></a><div class="mediaobject"><a id="med_id00068"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068825.png.jpg" alt="image with no caption" width="438" height="561"></div></div></div><div class="sect1" title="Let’s make sure Inventory.java is (really) well-designed"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="letapostrophes_make_sure_inventorydotjav">Let’s make sure Inventory.java is (really) well-designed</h2></div></div></div><p><a id="iddle1389" class="indexterm"></a><a id="iddle1390" class="indexterm"></a><a id="iddle1615" class="indexterm"></a><a id="iddle1653" class="indexterm"></a>We’ve already used encapsulation to improve the design of Rick’s search tool, but there are still some places in our code where we could get rid of potential problems. This will make our code easier to extend when Rick comes up with that <span class="emphasis"><em>next</em></span> new feature he wants in his inventory search tool, and easier to reuse if we want to take just a few parts of the app and use them in other contexts.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note11"></a>Note</h3><p>Now that you’ve made Rick a working search tool, you <span class="underline">know</span> he’s gonna call you back when he wants changes made to the tool.</p><div class="informalfigure"><a id="med_id00069a"></a><div class="mediaobject"><a id="med_id00069"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068827.png.jpg" alt="image with no caption" width="699" height="447"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00009"></a><div class="sidebar-title">Sharpen your pencil</div><p>What would you change about this code?</p><p>There’s a big problem with the code shown above, and it’s up to you to figure it out. In the blanks below, write down what you think the problem is, and how you would fix it.</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p><span class="inlinemediaobject"><a id="inline_id00003"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068819.png.jpg" alt="" width="99" height="9"></span> <span class="strong"><strong>See what we said in <a class="xref" href="ch01.html#sharpen_your_pencil_answers-id00014" title="Sharpen your pencil answers">Sharpen your pencil answers</a>.</strong></span></p></div><div class="informalfigure"><a id="med_id00070a"></a><div class="mediaobject"><a id="med_id00070"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068829.png.jpg" alt="image with no caption" width="452" height="506"></div></div><p><span class="strong"><strong>How easy is it to make this change to Rick’s application?</strong></span></p><p>Take a look at the class diagram for Rick’s application, and think about what you would need to do to add support for 12-string guitars. What properties and methods would you need to add, and to what classes? And what code would you need to change to allow Rick’s clients to search for 12-strings?</p><p>How many classes did you have to modify to make this change? Do you think Rick’s application is well designed right now?</p><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"></colgroup><thead><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Guitar</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>serialNumber: String</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>price: double</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>spec: GuitarSpec</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>getSerialNumber(): String</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>getPrice(): double</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>setPrice(float)</p></td></tr><tr><td style="vertical-align: top; "><p>getSpec(): GuitarSpec</p></td></tr></tbody></table></div><div class="sidebar"><a id="sharpen_your_pencil-id00010"></a><div class="sidebar-title">Sharpen your pencil</div><p><a id="iddle1073" class="indexterm"></a><a id="iddle1091" class="indexterm"></a><a id="iddle1442" class="indexterm"></a><a id="iddle1624" class="indexterm"></a>Annotate Rick’s class diagram.</p><p>Rick wants to be able to sell 12-string guitars. Get out your pencil, and add notes to the class diagram showing the following things:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Where you’d add a new property, called numStrings, to store the number of strings a guitar has.</p></li><li class="listitem"><p>Where you’d add a new method, called getNumStrings(), to return the number of strings a guitar has.</p></li><li class="listitem"><p>What other code you think you’d need to change so that Rick’s clients can specify that they want to try out 12-string guitars.</p></li></ol></div><p>Finally, in the blanks below, write down any problems with this design that you found when adding support for 12-string guitars.</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><p>_____________________________________________________________________</p><div class="note" title="Note"><h3 class="title"><a id="ch01note12"></a>Note</h3><p>Here’s a hint: you should get an answer here related to what you wrote down in the blanks back in <a class="xref" href="ch01.html#letapostrophes_make_sure_inventorydotjav" title="Let’s make sure Inventory.java is (really) well-designed">Let’s make sure Inventory.java is (really) well-designed</a>.</p></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"></colgroup><thead><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>GuitarSpec</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>builder: Builder</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>model: String</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>type: Type</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>backWood: Wood</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>topWood: Wood</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>getBuilder(): Builder</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>getModel(): String</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>getType(): Type</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>getBackWood(): Wood</p></td></tr><tr><td style="vertical-align: top; "><p>getTopWood(): Wood</p></td></tr></tbody></table></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"></colgroup><thead><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Inventory</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>guitars: List</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>addGuitar(String, double, Builder, String, Type, Wood, Wood)</p></td></tr><tr><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>getGuitar(String): Guitar</p></td></tr><tr><td style="vertical-align: top; "><p>search(GuitarSpec): List</p></td></tr></tbody></table></div><div class="informalfigure"><a id="med_id00071a"></a><div class="mediaobject"><a id="med_id00071"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068831.png.jpg" alt="image with no caption" width="347" height="149"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch01note13"></a>Brain Power</h3><p>What’s the advantage of using a numStrings property instead of just adding a boolean property to indicate if a guitar is a 12-string?</p></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00011"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1349" class="indexterm"></a><a id="iddle1625" class="indexterm"></a>Annotate Rick’s class diagram.</p><p>Rick wants to be able to sell 12-string guitars. Get out your pencil, and add notes to the class diagram showing the following things:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Where you’d add a new property, called numStrings, to store the number of strings a guitar has.</p></li><li class="listitem"><p>Where you’d add a new method, called getNumStrings(), to return the number of strings a guitar has.</p></li><li class="listitem"><p>What other code you think you’d need to change so that Rick’s clients can specify that they want to try out 12-string guitars.</p></li></ol></div><p>Finally, in the blanks below, write down any problems with this design that you found when adding support for 12-string guitars.</p><div class="informalfigure"><a id="med_id00072a"></a><div class="mediaobject"><a id="med_id00072"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068833.png.jpg" alt="image with no caption" width="793" height="609"></div></div></div><div class="informalfigure"><a id="med_id00073a"></a><div class="mediaobject"><a id="med_id00073"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068835.png.jpg" alt="image with no caption" width="457" height="416"></div></div><p><a id="iddle1248" class="indexterm"></a><span class="strong"><strong>That’s right—we need to <span class="underline">encapsulate</span> the guitar specifications and <span class="underline">isolate them</span> from the rest of Rick’s guitar search tool.</strong></span></p><p>Even though you’re adding a property only to the <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> class, there are two other classes that have to be modified: <span class="strong"><strong><code class="literal">Guitar</code></strong></span> and <span class="strong"><strong><code class="literal">Inventory</code></strong></span>. The constructor of <span class="strong"><strong><code class="literal">Guitar</code></strong></span> has to take an additional property now, and the <span class="strong"><strong><code class="literal">search()</code></strong></span> method of <span class="strong"><strong><code class="literal">Inventory</code></strong></span> has to do an extra property comparison.</p><div class="informalfigure"><a id="med_id00074a"></a><div class="mediaobject"><a id="med_id00074"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068837.png.jpg" alt="image with no caption" width="773" height="428"></div></div><div class="sidebar"><a id="design_puzzle"></a><div class="sidebar-title">Design Puzzle</div><p><a id="iddle1285" class="indexterm"></a><a id="iddle1329" class="indexterm"></a><a id="iddle1343" class="indexterm"></a><a id="iddle1345" class="indexterm"></a><a id="iddle1391" class="indexterm"></a><a id="iddle1440" class="indexterm"></a><a id="iddle1616" class="indexterm"></a>It’s not enough to know what’s wrong with Rick’s app, or even to figure out that we need some more encapsulation. Now <span class="inlinemediaobject"><a id="inline_id00004"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068839.png.jpg" alt="" width="20" height="17"></span> <span class="underline">you</span> need to actually figure out how to fix his app so it’s easier to reuse and extend.</p><p><span class="strong"><strong>The problem:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p>Adding a new property to <span class="strong"><strong><code class="literal">GuitarSpec.java</code></strong></span> results in changes to the code in <span class="strong"><strong><code class="literal">Guitar.java</code></strong></span> and <span class="strong"><strong><code class="literal">Inventory.java</code></strong></span>. The application should be restructured so that adding properties to <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> doesn’t affect the code in the rest of the application.</p></li></ul></div><p><span class="strong"><strong>Your task:</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Add a <span class="strong"><strong><code class="literal">numStrings</code></strong></span> property and <span class="strong"><strong><code class="literal">getNumStrings()</code></strong></span> method to <span class="strong"><strong><code class="literal">GuitarSpec.java</code></strong></span>.</p></li><li class="listitem"><p>Modify <span class="strong"><strong><code class="literal">Guitar.java</code></strong></span> so that the properties of <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> are encapsulated away from the constructor of the class.</p></li><li class="listitem"><p>Change the <span class="strong"><strong><code class="literal">search()</code></strong></span> method in <span class="strong"><strong><code class="literal">Inventory.java</code></strong></span> to delegate comparing the two <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> objects to the <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> class, instead of handling the comparison directly.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note14"></a>Note</h3><p>Not sure what delegation is? Check this out...</p></div></li><li class="listitem"><p>Update <span class="strong"><strong><code class="literal">FindGuitarTester.java</code></strong></span> to work with your new classes, and make sure everything still works.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note15"></a>Note</h3><p>All you should have to do here is update your code that creates a sample inventory to use the new Guitar constructor.</p></div></li><li class="listitem"><p>Compare your answers with ours in <a class="xref" href="ch01.html#design_puzzle_solution" title="Design Puzzle Solution">Design Puzzle Solution</a>, and then get ready for another test drive to see if we’ve finally got this application finished.</p></li></ol></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00012"></a><div class="sidebar-title">There are no Dumb Questions</div><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table style="border: 0; width: 100%; "><colgroup><col style="text-align: left; width: 1%; "><col></colgroup><tbody><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6qe1"></a><a id="ch01qa6q1"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><a id="iddle1150" class="indexterm"></a><a id="iddle1446" class="indexterm"></a><a id="iddle1768" class="indexterm"></a><span class="strong"><strong>Q: You said I should “delegate” comparisons to GuitarSpec. What’s delegation?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6q1a1"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Delegation is when an object needs to perform a certain task, and instead of doing that task directly, it asks <span class="emphasis"><em>another</em></span> object to handle the task (or sometimes just a part of the task).</p><p>So in the design puzzle, you want the <span class="strong"><strong><code class="literal">search()</code></strong></span> method in <span class="strong"><strong><code class="literal">Inventory</code></strong></span> to ask <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> to tell it if two specs are equal, instead of comparing the two <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> objects directly within the <span class="strong"><strong><code class="literal">search()</code></strong></span> method itself. <span class="strong"><strong><code class="literal">search()</code></strong></span> <span class="emphasis"><em>delegates</em></span> the comparison to <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span>.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6qe2"></a><a id="ch01qa6q2"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: What’s the point of that?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6q2a2"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Delegation makes your code more reusable. It also lets each object worry about its own functionality, rather than spreading the code that handles a single object’s behavior all throughout your application</p><p>One of the most common examples of delegation in Java is the <span class="strong"><strong><code class="literal">equals()</code></strong></span> method. Instead of a method trying to figure out if two objects are equal, it calls <span class="strong"><strong><code class="literal">equals()</code></strong></span> on one of the objects and passes in the second object. Then it just gets back a true or false response from the <span class="strong"><strong><code class="literal">equals()</code></strong></span> method.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6qe3"></a><a id="ch01qa6q3"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: And what does delegation have to do with code being more reusable?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6q3a3"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Delegation lets each object worry about equality (or some other task) on its own. This means your objects are more independent of each other, or more <span class="emphasis"><em>loosely coupled</em></span>. Loosely coupled objects can be taken from one app and easily reused in another, because they’re not tightly tied to other objects’ code.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6qe4"></a><a id="ch01qa6q4"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: And what does loosely coupled mean again?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6q4a4"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Loosely coupled is when the objects in your application each have a specific job to do, and they do only that job. So the functionality of your app is spread out over lots of well-defined objects, which each do a single task really well.</p></td></tr><tr class="question" title="Q:"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6qe5"></a><a id="ch01qa6q5"></a><p><strong>Q:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>Q: And why is that good?</strong></span></p></td></tr><tr class="answer"><td style="text-align: left; vertical-align: top; "><a id="ch01qa6q5a5"></a><p><strong>A:</strong></p></td><td style="text-align: left; vertical-align: top; "><p><span class="strong"><strong>A:</strong></span> Loosely coupled applications are usually more flexible, and easy to change. Since each object is pretty independent of the other objects, you can make a change to one object’s behavior without having to change all the rest of your objects. So adding new features or functionality becomes a <span class="emphasis"><em>lot</em></span> easier.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="scholarapostrophes_corner"></a><div class="sidebar-title">The Scholar’s Corner</div><p><span class="strong"><strong>delegation.</strong></span> The act of one object forwarding an operation to another object, to be performed on behalf of the first object.</p></div><div class="sidebar"><a id="design_puzzle_solution"></a><div class="sidebar-title">Design Puzzle Solution</div><p><a id="iddle1330" class="indexterm"></a><a id="iddle1342" class="indexterm"></a><a id="iddle1344" class="indexterm"></a><a id="iddle1346" class="indexterm"></a><a id="iddle1441" class="indexterm"></a>It’s not enough to know what’s wrong with Rick’s app, or even to figure out that <span class="inlinemediaobject"><a id="inline_id00005"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068839.png.jpg" alt="" width="20" height="17"></span> <span class="underline">you</span> need some more encapsulation. Now we need to actually figure out how to fix his app so we can test it out.</p><p><span class="strong"><strong>The problem:</strong></span></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: none"><p>Adding a new property to <span class="strong"><strong><code class="literal">GuitarSpec.java</code></strong></span> results in changes to the code in <span class="strong"><strong><code class="literal">Guitar.java</code></strong></span> and <span class="strong"><strong><code class="literal">Inventory.java</code></strong></span>. The application should be refactored so that adding properties to <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> doesn’t affect the code in the rest of the application.</p></li></ul></div><p><span class="strong"><strong>Your task:</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Add a <span class="strong"><strong><code class="literal">numStrings</code></strong></span> property and <span class="strong"><strong><code class="literal">getNumStrings()</code></strong></span> method to <span class="strong"><strong><code class="literal">GuitarSpec.java</code></strong></span>.</p><div class="informalfigure"><a id="med_id00075a"></a><div class="mediaobject"><a id="med_id00075"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068841.png.jpg" alt="image with no caption" width="722" height="462"></div></div></li><li class="listitem"><p><a id="iddle1151" class="indexterm"></a><a id="iddle1340" class="indexterm"></a><a id="iddle1350" class="indexterm"></a><a id="iddle1392" class="indexterm"></a><a id="iddle1617" class="indexterm"></a>Modify <span class="strong"><strong><code class="literal">Guitar.java</code></strong></span> so that the properties of <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> are encapsulated away from the constructor of the class.</p><div class="informalfigure"><a id="med_id00076a"></a><div class="mediaobject"><a id="med_id00076"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068843.png.jpg" alt="image with no caption" width="629" height="192"></div></div></li><li class="listitem"><p>Change the <span class="strong"><strong><code class="literal">search()</code></strong></span> method in <span class="strong"><strong><code class="literal">Inventory.java</code></strong></span> to delegate comparing the two <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> objects to the <span class="strong"><strong><code class="literal">GuitarSpec</code></strong></span> class, instead of handling the comparison directly.</p><div class="informalfigure"><a id="med_id00077a"></a><div class="mediaobject"><a id="med_id00077"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068845.png.jpg" alt="image with no caption" width="743" height="547"></div></div></li></ol></div></div></div><div class="sect1" title="One last test drive (and an app ready for reuse)"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="one_last_test_drive_left_parenthesisand">One last test drive (and an app ready for reuse)</h2></div></div></div><p><a id="iddle1568" class="indexterm"></a>Wow, we’ve done a lot of work since Rick showed us that first version of his guitar app. Let’s see if the latest version still works for Rick and his clients, and manages to satisfy our own goal of having a well-designed, easily maintainable application that we can reuse.</p><div class="informalfigure"><a id="med_id00078a"></a><div class="mediaobject"><a id="med_id00078"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068847.png.jpg" alt="image with no caption" width="676" height="308"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Congratulations! You’ve turned Rick’s broken inventory search tool into a well-designed piece of <span class="underline">great software</span>.</strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00079a"></a><div class="mediaobject"><a id="med_id00079"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068767.png.jpg" alt="image with no caption" width="130" height="220"></div></div></div><div class="sect1" title="What we did"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="what_we_did">What we did</h2></div></div></div><p>Let’s take a quick look back at how we got Rick’s search tool working so well:</p><div class="informalfigure"><a id="med_id00080a"></a><div class="mediaobject"><a id="med_id00080"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068849.png.jpg" alt="image with no caption" width="595" height="816"></div></div></div><div class="sect1" title="Remember this poor guy?"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="remember_this_poor_guyquestion_mark">Remember this poor guy?</h2></div></div></div><div class="informalfigure"><a id="med_id00081a"></a><div class="mediaobject"><a id="med_id00081"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068851.png.jpg" alt="image with no caption" width="352" height="400"></div></div><p><a id="iddle1335" class="indexterm"></a><a id="iddle1443" class="indexterm"></a><a id="iddle1456" class="indexterm"></a><span class="strong"><strong>He just wanted to write great software. So what’s the answer? How do you write great software <span class="underline">consistently</span>?</strong></span></p><p>You just need a set of steps to follow that makes sure your software works and is well designed. It can be as simple as the three steps we used in working on Rick’s app; you just need something that works, and that you can use on all of your software projects.</p><p><span class="strong"><strong><span class="underline">Object</span>-<span class="underline">Oriented Analysis</span> &amp; <span class="underline">Design</span> helps you write great software, every time</strong></span></p><div class="note" title="Note"><h3 class="title"><a id="ch01note17"></a>Note</h3><p>We call this OOA&amp;D for short.</p></div><p>All this time that we’ve been talking about the three steps you can follow to write great software, we’ve really been talking about OOA&amp;D.</p><p>OOA&amp;D is really just an approach to writing software that focuses on making sure your code does what it’s supposed to, and that it’s well designed. That means your code is flexible, it’s easy to make changes to it, and it’s maintainable and reusable.</p></div><div class="sect1" title="OOA&amp;D is about writing great software, not doing a bunch of paperwork!"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="ooaampersandd_is_about_writing_great_sof">OOA&amp;D is about writing great software, not doing a bunch of paperwork!</h2></div></div></div><p><a id="iddle1293" class="indexterm"></a><a id="iddle1450" class="indexterm"></a><a id="iddle1457" class="indexterm"></a><a id="iddle1483" class="indexterm"></a><a id="iddle1552" class="indexterm"></a><a id="iddle1703" class="indexterm"></a><a id="iddle1842" class="indexterm"></a><span class="strong"><strong>Customers are satisfied when their apps WORK.</strong></span> We can get requirements from the customer to make sure that we build them what they ask for. Use cases and diagrams are helpful ways to do that, but it’s all about figuring out what the customer wants the app to do.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note18"></a>Note</h3><p>We’ll talk all about requirements in <a class="xref" href="ch02.html" title="Chapter&nbsp;2.&nbsp;Gathering Requirements: Give Them What They Want">Chapter&nbsp;2</a>.</p></div><p><span class="strong"><strong>Customers are satisfied when their apps KEEP WORKING.</strong></span> Nobody is happy when an application that worked yesterday is crashing today. If we design our apps well, then they’re going to be robust, and not break every time a customer uses them in unusual ways. Class and sequence diagrams can help show us design problems, but the point is to write well-designed and robust code.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note19"></a>Note</h3><p>You’ve learned a bit about fragile apps already.</p></div><p><span class="strong"><strong>Customers are satisfied when their apps can be UPGRADED.</strong></span> There’s nothing worse than a customer asking for a simple new feature, and being told it’s going to take two weeks and $25,000 to make it happen. Using OO techniques like encapsulation, composition, and delegation will make your applications maintainable and extensible.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note20"></a>Note</h3><p>Want more on delegation, composition, and aggregation? We’ll talk about all of these in detail in <a class="xref" href="ch05.html" title="Chapter&nbsp;5.&nbsp;(Part 1) Good Design = Flexible Software: Nothing Ever Stays the Same">Chapter&nbsp;5</a>, and then again in <a class="xref" href="ch08.html" title="Chapter&nbsp;8.&nbsp;Design Principles: Originality is Overrated">Chapter&nbsp;8</a>.</p></div><p><span class="strong"><strong>Programmers are satisfied when their apps can be REUSED.</strong></span> Ever built something for one customer, and realized you could use something almost exactly the same for another customer? If you do just a little bit of analysis on your apps, you can make sure they’re easily reused, by avoiding all sorts of nasty dependencies and associations that you don’t really need. Concepts like the Open-Closed Principle (OCP) and the Single Responsibility Principle (SRP) are big time in helping here.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note21"></a>Note</h3><p>You’ll get to see these principles really strut their stuff in <a class="xref" href="ch08.html" title="Chapter&nbsp;8.&nbsp;Design Principles: Originality is Overrated">Chapter&nbsp;8</a>.</p></div><p><span class="strong"><strong>Programmers are satisfied when their apps are FLEXIBLE.</strong></span> Sometimes just a little refactoring can take a good app and turn it into a nice framework that can be used for all sorts of different things. This is where you can begin to move from being a head-down coder and start thinking like a real architect (oh yeah, those guys make a lot more money, too). Big-picture thinking is where it’s at.</p><div class="note" title="Note"><h3 class="title"><a id="ch01note22"></a>Note</h3><p><a class="xref" href="ch06.html" title="Chapter&nbsp;6.&nbsp;Solving Really Big Problems: “My Name is Art Vandelay... I am an Architect”">Chapter&nbsp;6</a> and <a class="xref" href="ch07.html" title="Chapter&nbsp;7.&nbsp;Architecture: Bringing Order to Chaos">Chapter&nbsp;7</a> are all about looking at the big picture, and really developing a good architecture for your applications.</p></div><div class="note" title="Note"><h3 class="title"><a id="ch01note23"></a>Note</h3><p>This is <span class="underline">ALL</span> OOA&amp;D! It’s not about doing silly diagrams... it’s about writing killer applications that leave your customer happy, and you feeling like you’ve kicked major ass.</p></div><div class="informalfigure"><a id="med_id00082a"></a><div class="mediaobject"><a id="med_id00082"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068853.png.jpg" alt="image with no caption" width="497" height="561"></div></div><div class="sidebar"><a id="bullet_points"></a><div class="sidebar-title">Bullet Points</div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><a id="iddle1167" class="indexterm"></a><a id="iddle1245" class="indexterm"></a><a id="iddle1458" class="indexterm"></a>It takes very little for something to go wrong with an application that is fragile.</p></li><li class="listitem"><p>You can use OO principles like encapsulation and delegation to build applications that are flexible.</p></li><li class="listitem"><p>Encapsulation is breaking your application into logical parts that have a clear boundary that allows an object to hide its data and methods from other objects.</p></li><li class="listitem"><p>Delegation is giving another object the responsibility of handling a particular task.</p></li><li class="listitem"><p>Always begin a project by figuring out what the customer wants.</p></li><li class="listitem"><p>Once you’ve got the basic functionality of an app in place, work on refining the design so it’s flexible.</p></li><li class="listitem"><p>With a functional and flexible design, you can employ design patterns to improve your design further, and make your app easier to reuse.</p></li><li class="listitem"><p>Find the parts of your application that change often, and try and separate them from the parts of your application that don’t change.</p></li><li class="listitem"><p>Building an application that works well but is poorly designed satisfies the customer but will leave you with pain, suffering, and lots of late nights fixing problems.</p></li><li class="listitem"><p>Object oriented analysis and design (OOA&amp;D) provides a way to produce well-designed applications that satisfy both the customer and the programmer.</p></li></ul></div></div><div class="sidebar"><a id="ooaampersandd_cross"></a><div class="sidebar-title">OOA&amp;D Cross</div><p><a id="iddle1461" class="indexterm"></a>Let’s put what you’ve learned to use, and stetch out your left brain a bit. All of the words to answer the puzzle below are somewhere in this chapter. Good luck!</p><div class="informalfigure"><a id="med_id00083a"></a><div class="mediaobject"><a id="med_id00083"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068855.png.jpg" alt="image with no caption" width="579" height="394"></div></div><div class="informaltable"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="c1"><col class="c2"></colgroup><thead><tr><td style="vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Across</p></td><td style="vertical-align: top; border-bottom: 0.5pt solid ; "><p>Down</p></td></tr></thead><tbody><tr><td style="vertical-align: top; border-right: 0.5pt solid ; "><p>4. These help you avoid solving problems sameone else has already solved.</p>
<p>7. Customers focus on this port of your applications.</p>
<p>8. Objects in loosely coupled applications are more ___________ then tightly coupled ones.</p>
<p>9. Flexible applications are usually easy to ________.</p>
<p>10. This is one type of code you don’t want to write.</p>
<p>12. Your applications should be easy to __________.</p>
<p>13. You usually need some sort of process to write great Software __________.</p>
<p>14. Encapsulate what ________.</p>
<p>15. These types of applications satisfy programmers.</p></td><td style="vertical-align: top; "><p>1. Once your application works correctly, focus on this.</p>
<p>2. Grouping your application into logical parts.</p>
<p>3. The goal of OOA&amp;D is to help you write this type of Software.</p>
<p>5. Use this to let objects focus on more specific tasks.</p>
<p>6. A good way to avoid duplicate code</p>
<p>7. An application that things can go wrong in easily.</p>
<p>11. This is a four letter word your mom will be proud you know.</p></td></tr></tbody></table></div></div><div class="sidebar"><a id="why_do_i_matterquestion_mark-id00013"></a><div class="sidebar-title">Why DO I Matter?</div><p><a id="iddle1168" class="indexterm"></a><a id="iddle1236" class="indexterm"></a><a id="iddle1294" class="indexterm"></a><a id="iddle1301" class="indexterm"></a><span class="strong"><strong>Exercise Solutions</strong></span></p><div class="informalfigure"><a id="med_id00084a"></a><div class="mediaobject"><a id="med_id00084"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068857.png.jpg" alt="image with no caption" width="84" height="72"></div></div><p>You’ve learned a lot about writing great software, and there’s still more to go! Take a deep breath and think about some of the terms and principles we’ve covered. Connect the words on the left to the purpose of those techniques and principles on the right.</p><div class="informalfigure"><a id="med_id00085a"></a><div class="mediaobject"><a id="med_id00085"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068859.png.jpg" alt="image with no caption" width="537" height="282"></div></div><div class="informalfigure"><a id="med_id00086a"></a><div class="mediaobject"><a id="med_id00086"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068861.png.jpg" alt="image with no caption" width="472" height="324"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_answers-id00014"></a><div class="sidebar-title">Sharpen your pencil answers</div><p><a id="iddle1654" class="indexterm"></a>What would you change about this code?</p><p>There’s a big problem with the code shown above, and it’s up to you to figure it out. In the blanks below, write down what you think the problem is, and how you would fix it.</p><p><span class="underline"><span class="strong"><strong>Every time a new property is added to GuitarSpec.java, or the methods in GuitarSpec change, the search() method in Inventory.java will have to change, too. We should let GuitarSpec handle comparisons, and encapsulate these properties away from Inventory.</strong></span></span>______________</p><div class="informalfigure"><a id="med_id00087a"></a><div class="mediaobject"><a id="med_id00087"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/httpatomoreillycomsourceoreillyimages2068863.png.jpg" alt="image with no caption" width="751" height="592"></div></div></div></div></section></div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:0596008678/files/core.css" crossorigin="anonymous"></div></div></section>
</div>


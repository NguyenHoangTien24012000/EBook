<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><div class="chapter" title="Chapter&nbsp;9.&nbsp;Monitoring and Troubleshooting: Listen to Your Network’s Troubles"><div class="titlepage"><div><div><h1 class="title"><a id="monitoring_and_troubleshooting_listen_to"></a>Chapter&nbsp;9.&nbsp;Monitoring and Troubleshooting: Listen to Your Network’s Troubles</h1></div></div></div><div class="informalfigure"><a id="med_id00363a"></a><div class="mediaobject"><a id="med_id00363"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566796.png.jpg" alt="image with no caption" width="466" height="371"></div></div><p><a id="iddle1160" class="indexterm"></a><a id="iddle1177" class="indexterm"></a><a id="iddle1179" class="indexterm"></a><a id="iddle1591" class="indexterm"></a><span class="strong"><strong>Listening to your network can save you lots of heartache!</strong></span></p><p>Well, you have your network up and running. But like anything, it needs to be monitored and maintained. If it’s not, one day it will just stop working, and you will have no idea why. You will discover in this chapter various tools and techniques to help you listen to your network and understand what is going on with it, so you can deal with any problem before it becomes a bigger problem.</p><div class="sect1" title="Pajama Death are back on tour"><div class="titlepage"><div><div><h1 class="title"><a id="pajama_death_are_back_on_tour"></a>Pajama Death are back on tour</h1></div></div></div><p>Punk band Pajama Death have a large and dedicated fan base, and they’ve just announced their latest world tour. Tickets go on sale in just two hours, and fans are already lining up to buy prized tickets. The ticket agency expects it to be a sell-out, but there’s just one problem: can their network cope with the strain?</p><div class="informalfigure"><a id="med_id00364a"></a><div class="mediaobject"><a id="med_id00364"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566798.png.jpg" alt="image with no caption" width="560" height="506"></div></div><div class="sect2" title="So here’s your challenge..."><div class="titlepage"><div><div><h2 class="title"><a id="so_hereapostrophes_your_challengehellip"></a>So here’s your challenge...</h2></div></div></div><p>The ticket agency needs to be up and running in two hours time, which means that you need to troubleshoot the immediate problems. What’s more, you need to make sure that the network remains stable. You need to deal with network problems before they become bigger problems. Think you can do it?</p></div></div><div class="sect1" title="So where would you start troubleshooting a misfiring network?"><div class="titlepage"><div><div><h1 class="title"><a id="so_where_would_you_start_troubleshooting"></a>So where would you start troubleshooting a misfiring network?</h1></div></div></div><p><a id="iddle1760" class="indexterm"></a>Since you have made it this far in this book, you know there are many things that can go wrong on a network. Anything from bad or disconnected cables, switch and router issues, and even individual computer issues. Troubleshooting network issues requires a methodical approach. If you just start running around with your network analyzer, plugging and unplugging connections, you will find troubleshooting a very exhausting and frustrating endeavor.</p><p><span class="strong"><strong>Getting information from your network is the key to successful troubleshooting.</strong></span></p><div class="sidebar"><a id="sharpen_your_pencil-id00126"></a><p class="title">Sharpen your pencil</p><p>In the space below, write down a few things you would check in your network troubleshooting process.</p><div class="informalfigure"><a id="med_id00365a"></a><div class="mediaobject"><a id="med_id00365"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566800.png.jpg" alt="image with no caption" width="508" height="236"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00127"></a><p class="title">Sharpen your pencil Solution</p><p><a id="iddle1519" class="indexterm"></a>In the space below, write down a few things you would check in your network troubleshooting process.</p><p>Ask user to demonstrate the problem.</p><p>Check for loose or disconnected cables on the computer with the problems.</p><p>Ask around to other people. Is the problem just one person, one area, or the entire network?</p><p>Check the router and switches to make sure they are on and running properly.</p><p>See if you can ping various devices and clients on the network.</p><div class="informalfigure"><a id="med_id00366a"></a><div class="mediaobject"><a id="med_id00366"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566802.png.jpg" alt="image with no caption" width="508" height="235"></div></div></div></div><div class="sect1" title="Start troubleshooting your network problems by checking in with your network devices"><div class="titlepage"><div><div><h1 class="title"><a id="start_troubleshooting_your_network_probl"></a>Start troubleshooting your network problems by checking in with your network devices</h1></div></div></div><p><a id="iddle1363" class="indexterm"></a><a id="iddle1775" class="indexterm"></a>You want to start troubleshooting network problems by gathering information from your devices. In <a class="xref" href="ch05.html" title="Chapter&nbsp;5.&nbsp;Network Devices and Traffic: How Smart is Your Network?">Chapter&nbsp;5</a> and <a class="xref" href="ch06.html" title="Chapter&nbsp;6.&nbsp;Connecting Networks with Routers: Bringing Things Together">Chapter&nbsp;6</a>, you learned the ping command and how to communicate with a switch and a router. You can use those tools to troubleshoot your network.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><span class="strong"><strong>Start off by pinging the IP addresses of the computer’s default gateway.</strong></span></p><p>If you can do this without the ping timing out, then you know that the network is working minimally.</p><div class="note" title="Note"><h3 class="title"><a id="ch09note01"></a>Note</h3><p>As an example, ping 192.168.1.1</p></div></li><li class="listitem"><p><span class="strong"><strong>Connect a computer to the router with a serial cable or via SSH or telnet.</strong></span></p><p>SSH is the preferred way to access your devices, although sometimes devices only support telnet. That way, you do not have to run all over the place with a cable. Besides, SSH is more secure than telnet.</p><div class="note" title="Note"><h3 class="title"><a id="ch09note02"></a>Note</h3><p>You did this back in <a class="xref" href="ch06.html" title="Chapter&nbsp;6.&nbsp;Connecting Networks with Routers: Bringing Things Together">Chapter&nbsp;6</a>.</p></div></li><li class="listitem"><p><span class="strong"><strong>Use the appropriate commands (like <code class="literal">show</code></strong></span>) <span class="strong"><strong>to look at a device’s status and counters.</strong></span></p><p>Routers and switches can collect lots of information that is very valuable in troubleshooting your network. The most common command is the <span class="strong"><strong><code class="literal">show</code></strong></span> command. It shows you various counters and status information on your devices.</p></li><li class="listitem"><p><span class="strong"><strong>Interpret the statistics to gain some insight on how your network is behaving.</strong></span></p><p>This is the hardest part, how to interpret that data. You will want to start looking at the obvious things, like interfaces being down or ports with excessive errors. After that, you have to become more of a detective and look at traffic volume. Often you will have to look at information from multiple devices in order to form an opinion.</p></li></ol></div></div><div class="sect1" title="Troubleshoot network connectivity with the ping command"><div class="titlepage"><div><div><h1 class="title"><a id="troubleshoot_network_connectivity_with_t"></a>Troubleshoot network connectivity with the ping command</h1></div></div></div><p>The ping command is the best tool to get a quick read on the overall status of your network and individual devices on your network. It can tell you whether or not your network is functioning, or whether a particular device is on the network.</p><div class="sect2" title="If you can ping, you get timings"><div class="titlepage"><div><div><h2 class="title"><a id="if_you_can_pingcomma_you_get_timings"></a>If you can ping, you get timings</h2></div></div></div><p>Here’s what the output of a successful ping looks like. It tells you how long it takes your device to respond to the ping. Comparing these times with what you’d expect to get can give you some useful diagnostics.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>The ping command can be used to ping anything with an IP address, including other computers.</strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00367a"></a><div class="mediaobject"><a id="med_id00367"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566804.png" alt="image with no caption" width="752" height="264"></div></div></div><div class="sect2" title="But what if you can’t ping?"><div class="titlepage"><div><div><h2 class="title"><a id="but_what_if_you_canapostrophet_pingquest"></a>But what if you can’t ping?</h2></div></div></div><p>If a ping command fails, this means that you can’t get to the device at the specified IP address. If you can’t ping anything, you’ve got BIG problems. If you just can’t ping one device, that really narrows down what you have to look at.</p><div class="informalfigure"><a id="med_id00368a"></a><div class="mediaobject"><a id="med_id00368"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566806.png" alt="image with no caption" width="752" height="172"></div></div></div></div><div class="sect1" title="If the ping fails, check the cables"><div class="titlepage"><div><div><h1 class="title"><a id="if_the_ping_failscomma_check_the_cables"></a>If the ping fails, check the cables</h1></div></div></div><p><a id="iddle1151" class="indexterm"></a><a id="iddle1526" class="indexterm"></a><a id="iddle1681" class="indexterm"></a><a id="iddle1710" class="indexterm"></a><a id="iddle1716" class="indexterm"></a><a id="iddle1741" class="indexterm"></a><a id="iddle1781" class="indexterm"></a><a id="iddle1786" class="indexterm"></a><a id="iddle1791" class="indexterm"></a><a id="iddle1795" class="indexterm"></a><a id="iddle1796" class="indexterm"></a><a id="iddle1800" class="indexterm"></a>So what do you do if you can’t ping anything?</p><p>The first thing to do is check your computer’s network cables and network configuration. Try the ping command from another computer. If your computer’s stuff checks out and the ping command on the other computer fails as well, then you need to physically go to the network devices.</p><p>So what sorts of things do you need to look out for?</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Did the power go out?</strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Is the computer even connected to the network?</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Did a construction worker rip up a cable?</strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Did a critical network device fail?</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Did the janitor pull the plug?</strong></span></p></td><td style="" valign="top"><p><span class="strong"><strong>Did a circuit breaker blow?</strong></span></p></td></tr></tbody></table></div><p>These are all real things that happen to your network, so look out for them.</p><div class="note" title="Brain Power"><h3 class="title"><a id="ch09note03"></a>Brain Power</h3><p>What other tools on a computer could you use to help troubleshoot network problems (especially if the computer is connected to the network and still not working)?</p></div><div class="sidebar"><a id="long_exercise-id00128"></a><p class="title">Long Exercise</p><p>Look at the ping output below and circle the devices that are causing problems on the network.</p><div class="informalfigure"><a id="med_id00369a"></a><div class="mediaobject"><a id="med_id00369"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566808.png" alt="image with no caption" width="647" height="492"></div></div><div class="informalfigure"><a id="med_id00370a"></a><div class="mediaobject"><a id="med_id00370"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566810.png" alt="image with no caption" width="606" height="685"></div></div></div><div class="sidebar"><a id="long_exercise_solution-id00129"></a><p class="title">Long Exercise Solution</p><p>Look at the ping output below and circle the devices that are causing problems on the network.</p><div class="informalfigure"><a id="med_id00371a"></a><div class="mediaobject"><a id="med_id00371"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566812.png" alt="image with no caption" width="620" height="471"></div></div><div class="informalfigure"><a id="med_id00372a"></a><div class="mediaobject"><a id="med_id00372"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566814.png" alt="image with no caption" width="628" height="713"></div></div></div><div class="informalfigure"><a id="med_id00373a"></a><div class="mediaobject"><a id="med_id00373"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566816.png.jpg" alt="image with no caption" width="325" height="341"></div></div><p><span class="strong"><strong>Sometimes ping just doesn’t give you enough information to work with.</strong></span></p><p>The ping command is very effective in helping you with connectivity issues. But when it comes to network issues such as slowdowns or sporadic connectivity, ping does not help much. We need to pull out the big guns and talk to the switches and routers themselves.</p><div class="sidebar"><a id="there_are_no_dumb_questions-id00130"></a><p class="title">There are no Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa1qe1"></a><a id="ch09qa1q1"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: What kind of information can a switch give me?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa1q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> It can give you the number of frames going in and out of particular ports. It can give error rates on its various ports. It can tell you if a port has an active client or not.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa1qe2"></a><a id="ch09qa1q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: How about a router?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa1q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> A router is a whole other animal when it comes to information. Even a mid-range router will give you an incredible amount of information. This includes packet counts, error rates, and interface status, just like a switch. But it can also give you the status of routing and even the status of other routers.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa1qe3"></a><a id="ch09qa1q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Can computers give me this type of information?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa1q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes, they can. Most modern operating systems can collect information. Some of it is easily accessible from the command line or from logs that the OS keeps. It is similar information to what a switch collects.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa1qe4"></a><a id="ch09qa1q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Is the ping command available on all computer operating systems?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa1q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> The ping command is available on just about every computer and router operating system out there.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa1qe5"></a><a id="ch09qa1q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Is there any time the ping command will not work?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa1q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes, a router can be configured to block the ICMP packets. ICMP is the packet type that the ping command uses. If a router is blocking these, you will not see anything until the command times out, then you will get an error.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa1qe6"></a><a id="ch09qa1q6"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Can a computer block a ping?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa1q6a6"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes, pings can be blocked by computers as well. The firewall can be configured to just ignore ping requests and drop them without responding.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa1qe7"></a><a id="ch09qa1q7"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Why would you want to block pings?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa1q7a7"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> One of the techniques that hackers use is that of scanning a network for hosts. One of the tools they use is the ping command or software that acts like a ping command. If your computer or router responds to a ping, then the hacker knows that there is a device at a particular IP address and can start figuring out a way to get into the system.</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="Get started with the show interface command"><div class="titlepage"><div><div><h1 class="title"><a id="get_started_with_the_show_interface_comm"></a>Get started with the show interface command</h1></div></div></div><p>The <code class="literal">show interface</code> command is the best command to get started with. It will give you the most concentrated information on the status of your device’s network connection. It works on most network devices, including switches and routers.</p><div class="informalfigure"><a id="med_id00374a"></a><div class="mediaobject"><a id="med_id00374"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566818.png" alt="image with no caption" width="793" height="513"></div></div><div class="sect2" title="The interface’s network statistics are a gold mine of troubleshooting information"><div class="titlepage"><div><div><h2 class="title"><a id="interfaceapostrophes_network_statistics"></a>The interface’s network statistics are a gold mine of troubleshooting information</h2></div></div></div><p>You can tell how busy the network connected to a particular interface is by looking at the number of packets being input and output from that interface. After looking at this a couple of times, you will be able to judge whether the number is of the correct magnitude. You can also see any errors. Some errors are normal, but high error counts should lead you to investigate the portion of your network connected to that particular interface.</p><div class="sidebar"><a id="cisco_show_command_exposed"></a><p class="title">Cisco Show Command Exposed</p><p><a id="iddle1297" class="indexterm"></a><a id="iddle1420" class="indexterm"></a><a id="iddle1445" class="indexterm"></a><a id="iddle1459" class="indexterm"></a><a id="iddle1527" class="indexterm"></a><a id="iddle1624" class="indexterm"></a><a id="iddle1727" class="indexterm"></a><a id="iddle1787" class="indexterm"></a><a id="iddle1790" class="indexterm"></a><a id="iddle1798" class="indexterm"></a><span class="strong"><strong>This week’s interview: Can you tell us all you know about the hardware you are running on?</strong></span></p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;It is great to get a chance to talk with you. How are you doing today?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;What specific part of today are you asking about? I can tell you about many aspects of my day.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;OK, I was just trying to make some small talk. But to get started, what can you tell me about the network device you are running on?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;You need to be a little more specific than that. I can tell you things about the interfaces, the system itself, the software version, the IP statistics, the TCP statistics, the IP routing statistics, the processor’s information and statistics, the SNMP statistics, the startup and running configurations, the...</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Whoa, whoa! That is a lot of information. What would you recommend if I wanted to know how the devices’ interfaces are doing?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;That would be “show interfaces.” With that command I will show you whether the interface is connected to another device, whether it is configured or not, the interface’s IP address and subnet, and network statistics about the interface.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Will you tell me about all the interfaces?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;If you just ask me to show interfaces, I will give all that information I just mentioned all the interfaces that are on the device—even if they are not configured.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Great, is there anything else that you can tell me that might help troubleshoot network problems?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;I can tell you about IP statistics with the show ip traffic command. I’ll give you all sorts of information about the various IP protocols the device is running, including traffic amounts and various errors.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Now I noticed that you like to have commands issued in a very certain way. Can you tell me a little more about that?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;Sure, obviously you have to type “show” then follow it with what you are interested in. For example, “show interface,” which we already talked about. But, you can get more specific information by adding modifiers after that initial command.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Can you give me an example?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;OK, say you want to see the the EIGRP routes in the device route table. You would type “show ip route eigrp.” Then I would display all the EIGRP routes that are in the table.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;That’s cool! So what if I don’t know what command to type?</p><p title="Show Command:"><span class="title"><strong><span class="strong"><strong>Show Command:</strong></span></strong></span>&nbsp;Easy, type show. I will display a list of commands with descriptions. Then if you find a particular command, then you can type “show ip,” and I will display the commands available under the ip command.</p><p title="HeadFirst:"><span class="title"><strong><span class="strong"><strong>HeadFirst:</strong></span></strong></span>&nbsp;Thanks for the interview. You are indeed a valuable command to learn.</p></div><div class="sidebar"><a id="show_command_magnets"></a><p class="title">Show Command Magnets</p><p><a id="iddle1682" class="indexterm"></a><a id="iddle1685" class="indexterm"></a><a id="iddle1792" class="indexterm"></a><a id="iddle1793" class="indexterm"></a>The show command from the Cisco IOS is a hierarchy command. You build a show command by walking down a tree until you get to the information you need. Arrange the magnets into the proper structure.</p><div class="informalfigure"><a id="med_id00375a"></a><div class="mediaobject"><a id="med_id00375"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566820.png" alt="image with no caption" width="586" height="612"></div></div></div><div class="sidebar"><a id="show_command_magnets_solution"></a><p class="title">Show Command Magnets Solution</p><p><a id="iddle1082" class="indexterm"></a><a id="iddle1089" class="indexterm"></a><a id="iddle1683" class="indexterm"></a><a id="iddle1766" class="indexterm"></a>The show command from the Cisco IOS is a hierarchy command. You build a show command by walking down a tree until you get to the information you need. Arrange the magnets into the proper structure.</p><div class="informalfigure"><a id="med_id00376a"></a><div class="mediaobject"><a id="med_id00376"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566822.png" alt="image with no caption" width="657" height="343"></div></div></div></div></div><div class="sect1" title="The ticket network’s still not fixed"><div class="titlepage"><div><div><h1 class="title"><a id="ticket_networkapostrophes_still_not_fixe"></a>The ticket network’s still not fixed</h1></div></div></div><p>Time’s ticking on, and the ticket agency network still has problems. So what’s causing the hold up?</p><div class="informalfigure"><a id="med_id00377a"></a><div class="mediaobject"><a id="med_id00377"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566824.png" alt="image with no caption" width="471" height="506"></div></div><p><span class="strong"><strong>How can we quickly troubleshoot networks without SSH or telnet?</strong></span></p><p>The trouble with SSH and telnet is that they’re not always available. While we could visit each network device and connect a laptop to it to get diagnostics, this approach is time-consuming and inefficient. So is there a better way of troubleshooting the network?</p></div><div class="sect1" title="SNMP to the rescue!"><div class="titlepage"><div><div><h1 class="title"><a id="snmp_to_the_rescueexclamation_mark"></a>SNMP to the rescue!</h1></div></div></div><p>SNMP (Simple Network Management Protocol) is a way to talk to your network devices and get all kinds of information from them <span class="strong"><strong>without having to connect each device to a laptop.</strong></span> You can use a software program to automatically question any or all your network devices every so often. This allows you to check on their health and their workloads. The protocol uses simple commands to access a database of information on the target device.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>The information database of an SNMP managed device is called the MIB (Management Information Base).</strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00378a"></a><div class="mediaobject"><a id="med_id00378"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566826.png" alt="image with no caption" width="546" height="516"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>The object identifier of information stored in the MIB is called the OID.</strong></span></p></blockquote></div></div><div class="sect1" title="SNMP is a network admininistrator’s communication tool"><div class="titlepage"><div><div><h1 class="title"><a id="snmp_is_a_network_admininistratorapostro"></a>SNMP is a network admininistrator’s communication tool</h1></div></div></div><p>SNMP has been designed so simple software such as scripts can be used to query different information from a network device. It uses a simple set of commands to retrieve and set information. SNMP gets a bit complicated in the implementation of the MIBs. There are standardized sets of MIBs that are available to network equipment manufacturers to implement in their devices. As long as a manufacturer has implemented the MIB properly, there usually isn’t a problem retrieving information via SNMP. The problems occur when network devices have custom MIBs. Then in order to read this information, a network administrator has to include the modified SNMP template on the SNMP requester so it knows the correct OID to ask for from the SNMP agent.</p><div class="informalfigure"><a id="med_id00379a"></a><div class="mediaobject"><a id="med_id00379"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566828.png.jpg" alt="image with no caption" width="409" height="443"></div></div><p><span class="strong"><strong>Did you know that there are three versions of SNMP? SNMP v1, SNMP v2, and SNMP v3.</strong></span></p><p><span class="strong"><strong>SNMP v2 is just an expanded version of SNMP v1.</strong></span></p><p><span class="strong"><strong>SNMP v3 is a whole rewrite of the protocol. It has authentication built into the protocol.</strong></span></p><p><span class="strong"><strong>SNMP does allow some access control</strong></span></p><p>SNMP does have one feature allowing you to control access. When you setup SNMP on a network device, you can create a group name that can have read-only access and a group name that can have read-write access. The problem is that <span class="strong"><strong>the group name is the password.</strong></span> That’s not a very good scheme, so that’s why SNMP version 3 has an authentication system built into it.</p><p>Most devices default with public being the group to have read-only access.</p><p><span class="strong"><strong>So how do we set up SNMP?</strong></span></p></div><div class="sect1" title="How to configure SNMP on a Cisco device"><div class="titlepage"><div><div><h1 class="title"><a id="how_to_configure_snmp_on_a_cisco_device"></a>How to configure SNMP on a Cisco device</h1></div></div></div><p><a id="iddle1360" class="indexterm"></a><a id="iddle1473" class="indexterm"></a><a id="iddle1691" class="indexterm"></a><a id="iddle1774" class="indexterm"></a><a id="iddle1794" class="indexterm"></a>Let’s take a look at how to get a basic setup of SNMP on a Cisco device. You’ll need to type these commands at the device command line in config mode.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>A basic setup of SNMP is all you need to access lots of handy information.</strong></span></p></blockquote></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><span class="strong"><strong>Start SNMP service on router.</strong></span></p><p>Actually, there’s no specific command for this. The first snmp-server command you enter, regardless of the command, will enable the SNMP service on the device.</p></li><li class="listitem"><p><span class="strong"><strong>Create a community access control for SNMP.</strong></span></p><p>To do this, type the command:</p><a id="pro_id00005"></a><pre class="programlisting"><span class="strong"><strong>snmp-server community public ro</strong></span></pre><p>This will give public read-only access.</p></li><li class="listitem"><p><span class="strong"><strong>Set some basic system info.</strong></span></p><p>To set up your contact information, type the command:</p><a id="pro_id00006"></a><pre class="programlisting"><span class="strong"><strong>snmp-server contact yourname</strong></span></pre><p>To set up the location of the device, type the command:</p><a id="pro_id00007"></a><pre class="programlisting"><span class="strong"><strong>snmp-server location place</strong></span></pre></li><li class="listitem"><p><span class="strong"><strong>Save your setup.</strong></span></p><p>To save your config setup, type the commands:</p><a id="pro_id00008"></a><pre class="programlisting"><span class="strong"><strong>exit</strong></span>
<span class="strong"><strong>write memory</strong></span></pre></li></ol></div><div class="note" title="Relax"><h3 class="title"><a id="ch09note04"></a>Relax</h3><p><span class="strong"><strong>Setting up SNMP on a non-Cisco is really similar to this.</strong></span></p><p>Other network devices are configured in a similar fashion—just check your device documentation for the specifics.</p></div><div class="sidebar"><a id="whatapostrophes_my_purposequestion_mark"></a><p class="title">What’s My Purpose?</p><p>Match each SNMP command to what it does.</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>GET</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Retrieves some information from the SNMP managed device</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>SET</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Retrieves information from the SNMP managed device that is the value of the next OID in the tree.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>GET-NEXT</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>A command the managed device sends to the agent with some information.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>GET-RESPONSE</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>This is the information that the SNMP agent requested.</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p>TRAP</p></td><td style="" valign="top"><p>Allows the SNMP agent to change a value on the managed device.</p></td></tr></tbody></table></div></div><div class="sidebar"><a id="whatapostrophes_my_purposequesti-id00131"></a><p class="title">What’s My Purpose? Solution</p><p><a id="iddle1087" class="indexterm"></a><a id="iddle1692" class="indexterm"></a>Match each SNMP command to what it does.</p><div class="informalfigure"><a id="med_id00380a"></a><div class="mediaobject"><a id="med_id00380"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566830.png" alt="image with no caption" width="571" height="239"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00132"></a><p class="title">There are no Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa2qe1"></a><a id="ch09qa2q1"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Can I tell a device what type of information I want to receive from it via SNMP?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa2q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> No, the MIB is essentially coded and, in some cases, in the hardware. So you really can’t have a device collect different information from what the manufacturer decided to put into the MIB.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa2qe2"></a><a id="ch09qa2q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Why do the OIDs have such odd and complex names?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa2q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> The first thing that makes them complex is that no spaces are allowed in an OID. So they looked all crammed together. Second, there are so many types of information that people want to collect; that leads to some pretty complex names.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa2qe3"></a><a id="ch09qa2q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Is a OID the whole name of the information I want to get?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa2q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> No, the entire name is from the top of the tree down. And the name is actually a number like .1.3.6.1.2.1.2.2.1.2.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa2qe4"></a><a id="ch09qa2q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: How do I find anything? These numbers don’t tell me what I am looking at.</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa2q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Good question. Like we said, many of these OIDs and MIBs are standard. So you can look up the standards, RFC1213, and it will tell you all the OIDs that this MIB has.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa2qe5"></a><a id="ch09qa2q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Is there software to help me manage SNMP?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa2q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> There is open source software like Nagios and MRTG available to help monitor your network. There is also tons of commercial software available. Some of these have great network maps with traffic flows and colored network devices. The big network monitoring centers of ISPs use software like this to keep tabs on their networks via SNMP.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch09qa2qe6"></a><a id="ch09qa2q6"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: What’s a Trap?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch09qa2q6a6"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> A Trap is a message that a SNMP end device sends to the SNMP manager. It is just a message sent because the Agent has trapped an event and is configured to send that trapped event message to the SNMP manager.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00133"></a><p class="title">Sharpen your pencil</p><p>Circle the OIDs from the MIB tree below that could help you to troubleshoot a network problem?</p><div class="informalfigure"><a id="med_id00381a"></a><div class="mediaobject"><a id="med_id00381"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566832.png" alt="image with no caption" width="295" height="747"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00134"></a><p class="title">Sharpen your pencil Solution</p><p><a id="iddle1277" class="indexterm"></a><a id="iddle1278" class="indexterm"></a><a id="iddle1279" class="indexterm"></a><a id="iddle1369" class="indexterm"></a><a id="iddle1378" class="indexterm"></a><a id="iddle1439" class="indexterm"></a><a id="iddle1454" class="indexterm"></a><a id="iddle1458" class="indexterm"></a><a id="iddle1474" class="indexterm"></a><a id="iddle1680" class="indexterm"></a><a id="iddle1693" class="indexterm"></a><a id="iddle1694" class="indexterm"></a><a id="iddle1695" class="indexterm"></a><a id="iddle1696" class="indexterm"></a><a id="iddle1697" class="indexterm"></a><a id="iddle1698" class="indexterm"></a><a id="iddle1699" class="indexterm"></a><a id="iddle1757" class="indexterm"></a><a id="iddle1758" class="indexterm"></a>Circle the OIDs from the MIB tree below that could help you to troubleshoot a network problem?</p><div class="informalfigure"><a id="med_id00382a"></a><div class="mediaobject"><a id="med_id00382"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566834.png" alt="image with no caption" width="665" height="751"></div></div></div></div><div class="sect1" title="One hour to go..."><div class="titlepage"><div><div><h1 class="title"><a id="one_hour_to_gohellip"></a>One hour to go...</h1></div></div></div><p>There’s one hour to go before the Pajama Death tickets go on sale. Unfortunately, the ticket agency network still has problems...</p><div class="informalfigure"><a id="med_id00383a"></a><div class="mediaobject"><a id="med_id00383"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566836.png.jpg" alt="image with no caption" width="591" height="614"></div></div><p><span class="strong"><strong>SNMP gets most of the information, but not all of it.</strong></span></p><p>A lot of the time, network devices send errors to a console or to a log, and these errors are often not accessible via SNMP. So how can we gain access to this logged information?</p><p><span class="strong"><strong>Are we back to connecting to each device individually?</strong></span></p></div><div class="sect1" title="Get devices to send you their problems"><div class="titlepage"><div><div><h1 class="title"><a id="get_devices_to_send_you_their_problems"></a>Get devices to send you their problems</h1></div></div></div><p>There is a tool that devices can use to send their errors to a central server called a syslogd. The d stands for daemon, which is a little service program running on a server.</p><p>Instead of a network device sending error messages to a console screen, it can send them to the syslogd server. This means that instead of checking the local log files on each individual device, we can just check the syslogd server.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>A syslogd daemon allows you to have all sorts of network devices send information to that server. That information normally would have being written to a local log file on that device.</strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00384a"></a><div class="mediaobject"><a id="med_id00384"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566838.png" alt="image with no caption" width="559" height="507"></div></div><p><span class="strong"><strong>So how do we set up syslogd?</strong></span></p></div><div class="sect1" title="How to configure syslogd on a Cisco device"><div class="titlepage"><div><div><h1 class="title"><a id="how_to_configure_syslogd_on_a_cisco_devi"></a>How to configure syslogd on a Cisco device</h1></div></div></div><p>Let’s take a look at how to set up syslogd on a Cisco device. You’ll need to type these commands at the device command line in config mode.</p><div class="note" title="Relax"><h3 class="title"><a id="ch09note05"></a>Relax</h3><p><span class="strong"><strong>Setting up syslogd on a non-Cisco is very similar to this.</strong></span></p><p>Other network devices are configured in a similar fashion—just check your device documentation for the specifics.</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><span class="strong"><strong>Set up timestamping on the logs.</strong></span></p><p>To do this, type the command:</p><a id="pro_id00009"></a><pre class="programlisting"><span class="strong"><strong>snmp-server community public ro</strong></span></pre><p>This will put date and time stamps on each log entry in the format specified.</p></li><li class="listitem"><p><span class="strong"><strong>Stop the logging to the console and monitor.</strong></span></p><p>To turn off logging to the console window, type:</p><a id="pro_id00010"></a><pre class="programlisting"><span class="strong"><strong>no logging console</strong></span></pre><p>To turn off logging to the non-console windows, type:</p><a id="pro_id00011"></a><pre class="programlisting"><span class="strong"><strong>no logging monitor</strong></span></pre></li><li class="listitem"><p><span class="strong"><strong>Set up the router to send logging to the syslogd server.</strong></span></p><p>To replace the logging IP address with your syslogd server’s IP address, type:</p><a id="pro_id00012"></a><pre class="programlisting"><span class="strong"><strong>logging 192.168.100.1</strong></span></pre></li><li class="listitem"><p><span class="strong"><strong>Set the logging level.</strong></span></p><p>To set the router to send log messages that are just warnings, or worse, to the syslogd server, type:</p><div class="informalfigure"><a id="med_id00385a"></a><div class="mediaobject"><a id="med_id00385"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566840.png" alt="image with no caption" width="394" height="44"></div></div></li><li class="listitem"><p><span class="strong"><strong>Save your setup.</strong></span></p><p>To save your config setup, type the commands:</p><a id="pro_id00013"></a><pre class="programlisting"><span class="strong"><strong>exit</strong></span>
<span class="strong"><strong>write memory</strong></span></pre></li></ol></div><div class="note" title="Watch it!"><h3 class="title"><a id="ch09note06"></a>Watch it!</h3><p><span class="strong"><strong>Only use the debug level when you need to debug.</strong></span></p><p><span class="emphasis"><em>It can really tax a router’s memory and processor.</em></span></p></div><p><span class="strong"><strong>So now that syslogd has been configured, how do we access the logs?</strong></span></p></div><div class="sect1" title="How do you tell what’s in the logs?"><div class="titlepage"><div><div><h1 class="title"><a id="how_do_you_tell_whatapostrophes_in_the_l"></a>How do you tell what’s in the logs?</h1></div></div></div><p><a id="iddle1730" class="indexterm"></a><a id="iddle1799" class="indexterm"></a>One of the great things about syslogd is that you can get applications that watch the logs. Whenever an interesting logged event is received, it can fire off a message to the network admin.</p><div class="informalfigure"><a id="med_id00386a"></a><div class="mediaobject"><a id="med_id00386"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566842.png" alt="image with no caption" width="645" height="457"></div></div><div class="sect2" title="syslogd lets you fix problems before they’re problems"><div class="titlepage"><div><div><h2 class="title"><a id="syslogd_lets_you_fix_problems_before_the"></a>syslogd lets you fix problems before they’re problems</h2></div></div></div><p>The beauty of syslogd is that you can get devices to alert you to events that might lead to severe network difficulties in the future. This means that you can effectively deal with problems before they happen—making your network much more stable as a result. As an example, if a router tells you that its power supply voltage is fluctuating, you can replace it before it becomes a huge problem.</p><p>You can usually choose which messages are sent to the network admin via which devices. So how do you choose?</p><div class="sidebar"><a id="be_the_syslogd_messenger"></a><p class="title">BE the Syslogd Messenger</p><p><a id="iddle1088" class="indexterm"></a><a id="iddle1731" class="indexterm"></a><a id="iddle1828" class="indexterm"></a><span class="strong"><strong>Your job is to play the messenger program on the syslogd server and decide which messages get sent to the network admin. Next to each logged event choose whether it should be texted via cellphone or just an email. The cellphone is for higher priority issues.</strong></span></p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Text Message</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Email Message</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Ignore</strong></span></p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00092"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00093"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00094"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1649.12 EVENT: Router 3 has excessive TCP Errors on FE0/0</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00095"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00096"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00097"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1652.54 EVENT: Server 1 has low memory</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00098"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00099"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00100"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1653.22 EVENT: Router 1 has a low temperature alarm</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00101"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00102"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00103"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1655.84 EVENT: Port 3 on Switch 12 is Down</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00104"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00105"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00106"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1656.21 EVENT: Router 6 has power fluctuations</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00107"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00108"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00109"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1701.81 EVENT: Port 6 on Switch 12 is Down</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00110"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00111"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00112"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1701.96 EVENT: Router 3 has excessive TCP Errors on FE0/0</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00113"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00114"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00115"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1702.14 EVENT: Port 18 on Switch 12 is Down</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00116"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00117"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00118"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1702.19 EVENT: Router 3 has excessive TCP Errors on FE0/0</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00119"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00120"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00121"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><code class="literal">1704.50 EVENT: Router 4 rebooted</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00122"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00123"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00124"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566844.png.jpg" alt="" width="23" height="24"></span></p></td><td style="" valign="top"><p><code class="literal">1705.11 EVENT: Port 9 on Switch 12 is Down</code></p></td></tr></tbody></table></div></div><div class="sidebar"><a id="be_the_syslogd_messenger_solution"></a><p class="title">BE the Syslogd Messenger Solution</p><p><a id="iddle1732" class="indexterm"></a><span class="strong"><strong>Your job is to play the messenger program on the syslogd server and decide which messages get sent to the network admin. Next to each logged event choose whether it should be texted via cellphone or just an email. The cellphone is for higher priority issues.</strong></span></p><div class="informalfigure"><a id="med_id00387a"></a><div class="mediaobject"><a id="med_id00387"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566846.png" alt="image with no caption" width="809" height="562"></div></div></div></div></div><div class="sect1" title="Too much information can be just as bad as not enough"><div class="titlepage"><div><div><h1 class="title"><a id="too_much_information_can_be_just_as_bad"></a>Too much information can be just as bad as not enough</h1></div></div></div><p>Getting just the right information sent to you is the real challenge when it comes to syslogd. It takes some tuning to get just the right information flowing. So when you set up the different message systems, don’t just turn it all on; think it through carefully.</p><div class="informalfigure"><a id="med_id00388a"></a><div class="mediaobject"><a id="med_id00388"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566848.png.jpg" alt="image with no caption" width="501" height="546"></div></div><div class="sect2" title="What you need is relevant information"><div class="titlepage"><div><div><h2 class="title"><a id="what_you_need_is_relevant_information"></a>What you need is <span class="underline">relevant</span> information</h2></div></div></div><p>The thing that’s most important is that you get information that lets you know when there are real problems. And remember that low priority events can be emailed to you, rather than sent as a high priority text message to your cellphone or pager.</p><p><span class="strong"><strong>So how do you choose what’s relevant?</strong></span></p></div></div><div class="sect1" title="How do you know which events are important?"><div class="titlepage"><div><div><h1 class="title"><a id="how_do_you_know_which_events_are_importa"></a>How do you know which events are important?</h1></div></div></div><p>If your network devices are getting lots of network type errors, i.e., tcp or frame errors, something is going wrong on your network. Generally this means some hardware is failing. Other important errors include interfaces going down, routes flapping (going up and down), and hardware health issues such as power supply voltages, temperatures, and memory.</p><p>Once you know what events are normal on your network, you’ll be able to fine-tune the messages you receive so that only things that aren’t normal are messaged to you. In the meantime, here’s a quick guide:</p><div class="informalfigure"><a id="med_id00389a"></a><div class="mediaobject"><a id="med_id00389"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566850.png" alt="image with no caption" width="452" height="557"></div></div></div><div class="sect1" title="Pajama Death’s a sell-out!"><div class="titlepage"><div><div><h1 class="title"><a id="pajama_deathapostrophes_a_sell-outexclam"></a>Pajama Death’s a sell-out!</h1></div></div></div><p><a id="iddle1788" class="indexterm"></a>Thanks to your network troubleshooting, the Pajama Death tickets went on sale without a hitch. Ticket sales were so successful that the entire tour sold out in record time, and the syslogd messages helped the network guys react to high priority events before they became problems.</p><p>The CEO of the ticket agency is so impressed with the help you’ve given them that he’s given you front row tickets to opening night.</p><div class="informalfigure"><a id="med_id00390a"></a><div class="mediaobject"><a id="med_id00390"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566852.png.jpg" alt="image with no caption" width="290" height="350"></div></div></div></div></div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/core.css" crossorigin="anonymous"></div></div></section>
</div>


<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
    
</style>
<link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/epub.css" crossorigin="anonymous">
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content" class="noOutline" tabindex="-1"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><div class="appendix" title="Appendix&nbsp;A.&nbsp;Leftovers: The top ten topics (we didn’t cover)"><div class="titlepage"><div><div><h1 class="title"><a id="leftovers_the_top_ten_topics_left_parent"></a>Appendix&nbsp;A.&nbsp;Leftovers: The top ten topics (we didn’t cover)</h1></div></div></div><div class="informalfigure"><a id="med_id01019a"></a><div class="mediaobject"><a id="med_id01019"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114348.png.jpg" alt="image with no caption" width="367" height="467"></div></div><p><span class="strong"><strong>We’ve covered a lot of ground, and you’re almost finished with this book.</strong></span> We’ll miss you, but before we let you go, we wouldn’t feel right about sending you out into the world without a little more preparation. We can’t possibly fit everything you’ll need to know into this relatively small chapter. Actually, we <span class="emphasis"><em>did</em></span> originally include everything you need to know about JavaScript Programming (not already covered by the other chapters), by reducing the type point size to .00004. It all fit, but nobody could read it. So we threw most of it away, and kept the best bits for this Top Ten appendix. This really <span class="emphasis"><em>is</em></span> the end of the book. Except for the index, of course (a must-read!).</p><div class="sect1" title="#1 jQuery"><div class="titlepage"><div><div><h1 class="title"><a id="hash1_jquery"></a>#1 jQuery</h1></div></div></div><p><a id="iddle1302" class="indexterm"></a><a id="iddle1487" class="indexterm"></a><a id="iddle1503" class="indexterm"></a><a id="iddle1612" class="indexterm"></a><a id="iddle1703" class="indexterm"></a><a id="iddle2148" class="indexterm"></a><a id="iddle2163" class="indexterm"></a>jQuery is a JavaScript library that is aimed at reducing and simplifying much of the JavaScript code and syntax that is needed to work with the DOM and add visual effects to your pages. jQuery is an enormously popular library that is widely used and expandable through its plug-in model.</p><p>Now, there’s nothing you can do in jQuery that you can’t do with JavaScript (as we said, jQuery is just a JavaScript library); however, it does have the power to reduce the amount of code you need to write.</p><p>jQuery’s popularity speaks for itself, although it can take some getting used to if you are new to it. Let’s check out a few things you can do in jQuery and we encourage you to take a closer look if you think it might be for you.</p><div class="note" title="Note"><h3 class="title"><a id="app01note01"></a>Note</h3><p>A working knowledge of jQuery is a good skill these days on the job front and for understanding others’ code.</p></div><p>For starters, remember all the <code class="literal">window.onload</code> functions we wrote in this book? Like:</p><a id="pro_id00147"></a><pre class="programlisting"><span class="strong"><strong>window.onload = function() {</strong></span>
    <span class="strong"><strong>alert("the page is loaded!");</strong></span>
<span class="strong"><strong>}</strong></span></pre><p>Here’s the same thing using jQuery:</p><div class="informalfigure"><a id="med_id01020a"></a><div class="mediaobject"><a id="med_id01020"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114350.png.jpg" alt="image with no caption" width="580" height="71"></div></div><p>Or you can shorten this even more, to:</p><div class="informalfigure"><a id="med_id01021a"></a><div class="mediaobject"><a id="med_id01021"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114352.png.jpg" alt="image with no caption" width="531" height="85"></div></div><p>So what about getting elements from the DOM? That’s where jQuery shines. Let’s say you have an <code class="literal">&lt;a&gt;</code> element in your page with an id of “buynow” and you want to assign a click handler to the click event on that element (like we’ve done a few times in this book). Here’s how you do that:</p><div class="informalfigure"><a id="med_id01022a"></a><div class="mediaobject"><a id="med_id01022"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114354.png.jpg" alt="image with no caption" width="617" height="188"></div></div><p><a id="iddle2107" class="indexterm"></a><a id="iddle2164" class="indexterm"></a><a id="iddle2192" class="indexterm"></a><a id="iddle2621" class="indexterm"></a>That’s really just the beginning; we can just as easily set the click handler on every <code class="literal">&lt;a&gt;</code> element in the page:</p><div class="informalfigure"><a id="med_id01023a"></a><div class="mediaobject"><a id="med_id01023"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114356.png.jpg" alt="image with no caption" width="606" height="141"></div></div><p>Or, we can do things that are much more complex:</p><div class="informalfigure"><a id="med_id01024a"></a><div class="mediaobject"><a id="med_id01024"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114358.png.jpg" alt="image with no caption" width="664" height="196"></div></div><p>There’s a whole ’nother side of jQuery that allows you to do interesting interface transformations on your elements, like this:</p><div class="informalfigure"><a id="med_id01025a"></a><div class="mediaobject"><a id="med_id01025"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114360.png.jpg" alt="image with no caption" width="446" height="237"></div></div><p>As you can see, there’s a lot you can do with jQuery, and we haven’t even talked about how we can use jQuery to talk to web services, or all the plug-ins that work with jQuery. If you’re interested, the best thing you can do is point your browser to <a class="ulink" href="http://jquery.com/">http://jquery.com/</a> and check out the tutorials and documentation there.</p><div class="note" title="Note"><h3 class="title"><a id="app01note02"></a>Note</h3><p>And, check out Head First jQuery too!</p></div></div><div class="sect1" title="#2 Doing more with the DOM"><div class="titlepage"><div><div><h1 class="title"><a id="hash2_doing_more_with_the_dom"></a>#2 Doing more with the DOM</h1></div></div></div><p><a id="iddle1478" class="indexterm"></a><a id="iddle1479" class="indexterm"></a><a id="iddle1483" class="indexterm"></a><a id="iddle1496" class="indexterm"></a><a id="iddle1930" class="indexterm"></a><a id="iddle1931" class="indexterm"></a><a id="iddle2015" class="indexterm"></a><a id="iddle2480" class="indexterm"></a><a id="iddle2624" class="indexterm"></a><a id="iddle2742" class="indexterm"></a><a id="iddle2743" class="indexterm"></a>We’ve touched on some of the things you can do with the DOM in this book, but there’s a lot more to learn. The objects that represent the document in your page—that is, the <code class="literal">document</code> object, and the various element objects—are chock full of properties and methods you can use to interact with and manipulate your page.</p><p>You already know how to use <code class="literal">document.getElementById</code> and <code class="literal">document.getElementsByTagName</code> to get elements from the page. The <code class="literal">document</code> object has these other methods you can use to get elements, too:</p><div class="informalfigure"><a id="med_id01026a"></a><div class="mediaobject"><a id="med_id01026"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114362.png.jpg" alt="image with no caption" width="669" height="263"></div></div><p>Here’s how you’d use <code class="literal">document.querySelector</code> to match a list item element with the class “song” that’s nested in a <code class="literal">&lt;ul&gt;</code> element with the id “playlist”:</p><div class="informalfigure"><a id="med_id01027a"></a><div class="mediaobject"><a id="med_id01027"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114364.png.jpg" alt="image with no caption" width="654" height="101"></div></div><p>What if you want to add new elements to your page from your code? You can use a combination of <code class="literal">document</code> object methods and element methods to do that, like this:</p><div class="informalfigure"><a id="med_id01028a"></a><div class="mediaobject"><a id="med_id01028"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114366.png.jpg" alt="image with no caption" width="820" height="203"></div></div><p>There’s a lot more you can do with the DOM using JavaScript. For a good introduction, check out <span class="emphasis"><em>Head First HTML5 Programming</em></span>.</p></div><div class="sect1" title="#3 The Window Object"><div class="titlepage"><div><div><h1 class="title"><a id="hash3_the_window_object"></a>#3 The Window Object</h1></div></div></div><p><a id="iddle1221" class="indexterm"></a><a id="iddle1239" class="indexterm"></a><a id="iddle1261" class="indexterm"></a><a id="iddle1304" class="indexterm"></a><a id="iddle1367" class="indexterm"></a><a id="iddle1876" class="indexterm"></a><a id="iddle1881" class="indexterm"></a><a id="iddle2018" class="indexterm"></a><a id="iddle2092" class="indexterm"></a><a id="iddle2100" class="indexterm"></a><a id="iddle2226" class="indexterm"></a><a id="iddle2549" class="indexterm"></a><a id="iddle2550" class="indexterm"></a><a id="iddle2551" class="indexterm"></a><a id="iddle2552" class="indexterm"></a><a id="iddle2553" class="indexterm"></a><a id="iddle2557" class="indexterm"></a><a id="iddle2558" class="indexterm"></a><a id="iddle2560" class="indexterm"></a><a id="iddle2561" class="indexterm"></a><a id="iddle2583" class="indexterm"></a><a id="iddle2647" class="indexterm"></a><a id="iddle2792" class="indexterm"></a><a id="iddle2797" class="indexterm"></a><a id="iddle3046" class="indexterm"></a><a id="iddle3067" class="indexterm"></a><a id="iddle3075" class="indexterm"></a><a id="iddle3084" class="indexterm"></a><a id="iddle3088" class="indexterm"></a><a id="iddle3089" class="indexterm"></a><a id="iddle3090" class="indexterm"></a><a id="iddle3091" class="indexterm"></a><a id="iddle3092" class="indexterm"></a><a id="iddle3104" class="indexterm"></a><a id="iddle3107" class="indexterm"></a><a id="iddle3108" class="indexterm"></a><a id="iddle3110" class="indexterm"></a><a id="iddle3111" class="indexterm"></a>You’ve heard of the DOM, but you should know there’s also a BOM, or Browser Object Model. It’s not really an official standard, but all browsers support it through the <code class="literal">window</code> object. You’ve seen the <code class="literal">window</code> object in passing when we’ve used the <code class="literal">window.onload</code> property, and you’ll remember we can assign an event handler to this property that is triggered when the browser has fully loaded a page.</p><p>You’ve also seen the <code class="literal">window</code> object when we’ve used the <code class="literal">alert</code> and <code class="literal">prompt</code> methods, even though it might not have been obvious. The reason it wasn’t obvious is that <code class="literal">window</code> is the object that acts as the global namespace. When you declare any kind of global variable or define a global function, it is stored as a property in the <code class="literal">window</code> object. So for every call we made to <code class="literal">alert</code>, we could have instead called <code class="literal">window.alert</code>, because it’s the same thing.</p><p>Another place you’ve used the window object without knowing it is when you’ve used the <code class="literal">document</code> object to do things like get elements from the DOM with <code class="literal">document.getElementById</code>. The <code class="literal">document</code> object is a property of <code class="literal">window</code>, so we could write <code class="literal">window.document.getElementById</code>. But, just like with <code class="literal">alert</code>, we don’t have to, because <code class="literal">window</code> is the global object, and it is the default object for all the properties and methods we use from it.</p><p>In addition to being the global object, and supplying the <code class="literal">onload</code> property and the <code class="literal">alert</code> and <code class="literal">prompt</code> methods, the <code class="literal">window</code> object supplies other interesting browser-based properties and methods. For instance, it’s common to make use of the width and height of the browser window to tailor a web page experience to the size of the browser. You can access these values like this:</p><div class="informalfigure"><a id="med_id01029a"></a><div class="mediaobject"><a id="med_id01029"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114368.png.jpg" alt="image with no caption" width="642" height="63"></div></div><p>Check out the W3C documentation<sup>[<a id="app01fn01" href="#ftn.app01fn01" class="footnote">2</a>]</sup> for more on the <code class="literal">window</code> object. Here are a few common methods and properties:</p><div class="informalfigure"><a id="med_id01030a"></a><div class="mediaobject"><a id="med_id01030"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114370.png.jpg" alt="image with no caption" width="652" height="316"></div></div></div><div class="sect1" title="#4 Arguments"><div class="titlepage"><div><div><h1 class="title"><a id="hash4_arguments"></a>#4 Arguments</h1></div></div></div><p><a id="iddle1044" class="indexterm"></a><a id="iddle1736" class="indexterm"></a><a id="iddle2443" class="indexterm"></a>An object named <code class="literal">arguments</code> is available in every function when that function is called. You won’t ever see this object in the parameter list, but it is available nevertheless every time a function is called, in the variable <code class="literal">arguments</code>.</p><p>The <code class="literal">arguments</code> object contains every argument passed to your function, and it can be accessed in an array-like manner. You can use <code class="literal">arguments</code> to create a function that accepts a variable number of arguments, or create a function that does different things depending on the number of arguments passed to it. Let’s see how <code class="literal">arguments</code> works with this code:</p><div class="informalfigure"><a id="med_id01031a"></a><div class="mediaobject"><a id="med_id01031"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114372.png.jpg" alt="image with no caption" width="568" height="312"></div></div><div class="note" title="JavaScript console"><h3 class="title"><a id="app01note01a"></a>JavaScript console</h3><p><span class="strong"><strong><code class="literal">one</code></strong></span></p><p><span class="strong"><strong><code class="literal">2</code></strong></span></p><p><span class="strong"><strong><code class="literal">3</code></strong></span></p><p><span class="strong"><strong><code class="literal">four</code></strong></span></p></div><p>While <code class="literal">arguments</code> looks just like an array, it is not actually an array; it’s an object. It has a <code class="literal">length</code> property, and you can iterate over it and access items in it using bracket notation, but that’s where the similarity with an array ends. Also, note that you can use both parameters and the <code class="literal">arguments</code> object in the same function. Let’s write one more piece of code to see how a function with a variable number of arguments might be written:</p><div class="informalfigure"><a id="med_id01032a"></a><div class="mediaobject"><a id="med_id01032"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114374.png.jpg" alt="image with no caption" width="832" height="286"></div></div></div><div class="sect1" title="#5 Handling exceptions"><div class="titlepage"><div><div><h1 class="title"><a id="hash5_handling_exceptions"></a>#5 Handling exceptions</h1></div></div></div><div class="informalfigure"><a id="med_id01033a"></a><div class="mediaobject"><a id="med_id01033"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114376.png.jpg" alt="image with no caption" width="240" height="198"></div></div><p><a id="iddle1284" class="indexterm"></a><a id="iddle1565" class="indexterm"></a><a id="iddle1571" class="indexterm"></a><a id="iddle1652" class="indexterm"></a><a id="iddle2140" class="indexterm"></a><a id="iddle2890" class="indexterm"></a>JavaScript is a fairly forgiving language, but now and then things go wrong—wrong enough that the browser can’t continue executing your code. When that happens, your page stops working, and if you look in the console you’re likely to see an error. Let’s take a look at an example of some code that causes an error. Start by creating a simple HTML page with a single element in the body:</p><a id="pro_id00148"></a><pre class="programlisting"><span class="strong"><strong>&lt;div id="message"&gt;&lt;/div&gt;</strong></span></pre><p>Now, add the following JavaScript:</p><div class="informalfigure"><a id="med_id01034a"></a><div class="mediaobject"><a id="med_id01034"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114378.png.jpg" alt="image with no caption" width="761" height="89"></div></div><p>Load the page in your browser, make sure the console is open, and you’ll get an error. Can you see what went wrong? We mistyped the id of the <code class="literal">&lt;div&gt;</code> element, so when your code tries to retrieve that <code class="literal">&lt;div&gt;</code> element it fails, and the variable <code class="literal">message</code> is null. And you can’t access the <code class="literal">innerHTML</code> property of null.</p><div class="note" title="JavaScript console"><h3 class="title"><a id="app01note03"></a>JavaScript console</h3><p><span class="strong"><strong><code class="literal">Uncaught TypeError: Cannot set</code></strong></span></p><p><span class="strong"><strong><code class="literal">property 'innerHTML' of null</code></strong></span></p></div><p>When you get an error that causes your code to stop executing like this one does, it’s called an exception. JavaScript has a mechanism, called try/catch, that you can use to watch for exceptions and catch them when they happen. The idea is that if you can catch one of these exceptions, rather than your code just stopping, you can take an alternative action (try something else, offer the user a different experience, etc.).</p><div class="sect2" title="Try/catch"><div class="titlepage"><div><div><h2 class="title"><a id="trysoliduscatch"></a>Try/catch</h2></div></div></div><p>The way you use try/catch is like this: you put the code you want to try in the try block, and then you write a catch block that contains code that will be executed in case anything goes wrong with the code in the try block. The catch keyword is followed by parentheses that contain a variable name (that acts a lot like a function parameter). If something goes wrong and an exception is caught, the variable will be assigned to a value related to the exception, often an Error object. Here’s how you use a try/catch statement:</p><div class="informalfigure"><a id="med_id01035a"></a><div class="mediaobject"><a id="med_id01035"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114380.png.jpg" alt="image with no caption" width="800" height="259"></div></div></div></div><div class="sect1" title="#6 Adding event handlers with addEventListener"><div class="titlepage"><div><div><h1 class="title"><a id="hash6_adding_event_handlers_with_addeven"></a>#6 Adding event handlers with addEventListener</h1></div></div></div><p><a id="iddle1003" class="indexterm"></a><a id="iddle1102" class="indexterm"></a><a id="iddle1575" class="indexterm"></a><a id="iddle1975" class="indexterm"></a><a id="iddle2091" class="indexterm"></a><a id="iddle2565" class="indexterm"></a><a id="iddle2575" class="indexterm"></a><a id="iddle2767" class="indexterm"></a><a id="iddle3083" class="indexterm"></a><a id="iddle3096" class="indexterm"></a>In this book, we used object properties to assign event handlers to events. For instance, when we wanted to handle the load event, we assigned an event handler to the <code class="literal">window.onload</code> property. And when we wanted to handle a button click, we assigned an event handler to that button’s <code class="literal">onclick</code> property.</p><p>This is a convenient way of assigning event handlers. But sometimes, you might need a more general way of assigning event handlers. For instance, if you want to assign multiple handlers for one event type, you can’t do that if you use a property like <code class="literal">onload</code>. But you can with a method named <code class="literal">addEventListener</code>:</p><div class="informalfigure"><a id="med_id01036a"></a><div class="mediaobject"><a id="med_id01036"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114382.png.jpg" alt="image with no caption" width="719" height="201"></div></div><p>You can assign a second load event handler to window simply by calling <code class="literal">addEventListener</code> again, passing a different event handler function reference as the second argument. This is handy if you want to split your initialization code into two separate functions, but remember—you won’t know which handler will be called first, so keep that in mind as you’re designing your code.</p><p>The third argument to <code class="literal">addEventListener</code> determines if the event is “bubbled up” to parent elements. This doesn’t make a difference for the load event (because the window object is at the top level), but if you have, say, a <code class="literal">&lt;span&gt;</code> element nested inside a <code class="literal">&lt;div&gt;</code> element, and you click on the <code class="literal">&lt;span&gt;</code> but want the <code class="literal">&lt;div&gt;</code> to receive the event, then you can set bubble to true instead of false.</p><p>It’s totally fine to mix and match using the event properties, like <code class="literal">onload</code>, with <code class="literal">addEventListener</code>. Also, if you add an event handler with <code class="literal">addEventListener</code>, you can remove it later with <code class="literal">removeEventListener</code>, like this:</p><div class="informalfigure"><a id="med_id01037a"></a><div class="mediaobject"><a id="med_id01037"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114384.png.jpg" alt="image with no caption" width="807" height="237"></div></div><div class="sect2" title="Event handling in IE8 and older"><div class="titlepage"><div><div><h2 class="title"><a id="event_handling_in_ie8_and_older"></a>Event handling in IE8 and older</h2></div></div></div><p><a id="iddle1260" class="indexterm"></a><a id="iddle1605" class="indexterm"></a><a id="iddle1606" class="indexterm"></a><a id="iddle2053" class="indexterm"></a><a id="iddle2109" class="indexterm"></a><a id="iddle2492" class="indexterm"></a><a id="iddle3066" class="indexterm"></a>We’ve handled a few different kinds of events in this book—mouse clicks, load events, key presses, and more—and hopefully you’ve been using a modern browser and the code has worked for you. However, if you are writing a web page that handles events (and what web page doesn’t?) and you’re concerned that some of the people in your audience may be using versions of Internet Explorer (IE) that are version 8 or older, you need to be aware of an issue with event handling.</p><p>Unfortunately, IE handled events differently from other browsers until IE9. You could use properties like <code class="literal">onclick</code> and <code class="literal">onload</code> to set event handlers across all browsers, however, the way that older IE browsers handle the event object is different. In addition, if you happen to be using the standardized <code class="literal">addEventListener</code> method, IE didn’t support this method until IE9 and later. Here are the main issues to be aware of:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00157"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113016.png.jpg" alt="" width="16" height="16"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>IE8 and older browsers do support most of the “on” properties you can use to assign event handlers.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00158"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113016.png.jpg" alt="" width="16" height="16"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>IE8 and older browsers use a method named <code class="literal">attachEvent</code> instead of the <code class="literal">addEventListener</code> method.</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00159"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113016.png.jpg" alt="" width="16" height="16"></span></p></td><td style="" valign="top"><p>When an event is triggered and your event handler is called, instead of passing an event object to the handler, IE8 and older store the event object in the window object.</p></td></tr></tbody></table></div><p>So, if you want to be sure that your code works across all browsers, including IE8 and older browsers, then you can manage these differences like this:</p><div class="informalfigure"><a id="med_id01038a"></a><div class="mediaobject"><a id="med_id01038"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114386.png.jpg" alt="image with no caption" width="800" height="488"></div></div></div></div><div class="sect1" title="#7 Regular Expressions"><div class="titlepage"><div><div><h1 class="title"><a id="hash7_regular_expressions"></a>#7 Regular Expressions</h1></div></div></div><p><a id="iddle2524" class="indexterm"></a><a id="iddle2766" class="indexterm"></a>You’ve seen the RegExp object in passing in this book—“RegExp” stands for <span class="emphasis"><em>regular expression</em></span>, which is, formally, a grammar for describing patterns in text. For instance, using a regular expression, you could write an expression that matches all text that starts with “t” and ends with “e”, with at least one “a” and no more than two “u”s in between.</p><p>Regular expressions can get complex fast. In fact, regular expressions can almost seem like an alien language when you first try to read them. But you can get started with simple regular expressions fairly quickly, and if you like them, check out a good reference on the topic.</p><div class="sect2" title="The RegExp constructor"><div class="titlepage"><div><div><h2 class="title"><a id="regexp_constructor"></a>The RegExp constructor</h2></div></div></div><p>Let’s take a look at a couple of regular expressions. To create a regular expression, pass a search pattern to the RegExp constructor, between two slashes, like this: The key to understanding regular expressions is learning how to read the search patterns. These search patterns are the most complex part of regular expressions, so we’ll work through the two examples here, and you’ll have to explore the rest on your own.</p><div class="informalfigure"><a id="med_id01039a"></a><div class="mediaobject"><a id="med_id01039"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114388.png.jpg" alt="image with no caption" width="1000" height="497"></div></div><p>The key to understanding regular expressions is learning how to read the search patterns. These search patterns are the most complex part of regular expressions, so we’ll work through the two examples here, and you’ll have to explore the rest on your own.</p></div><div class="sect2" title="Using a RegExp object"><div class="titlepage"><div><div><h2 class="title"><a id="using_a_regexp_object"></a>Using a RegExp object</h2></div></div></div><p><a id="iddle2246" class="indexterm"></a>To use a regular expression, you first need a string to search:</p><a id="pro_id00149"></a><pre class="programlisting"><span class="strong"><strong>var amyHome = "555-1212";</strong></span></pre><p>Then, you match the regular expression to the string by calling the <code class="literal">match</code> method on the string, and passing the regular expression object as an argument:</p><div class="informalfigure"><a id="med_id01040a"></a><div class="mediaobject"><a id="med_id01040"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114390.png.jpg" alt="image with no caption" width="676" height="67"></div></div><p>The result is an array containing any parts of the string that matched. If the result is null, then nothing in the string matched the regular expression:</p><div class="informalfigure"><a id="med_id01041a"></a><div class="mediaobject"><a id="med_id01041"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114392.png.jpg" alt="image with no caption" width="608" height="72"></div></div><p>Once you’ve got a regular expression, like <code class="literal">phoneNumber</code>, you can just keep using it to match as many strings as you like.</p></div></div><div class="sect1" title="#8 Recursion"><div class="titlepage"><div><div><h1 class="title"><a id="hash8_recursion"></a>#8 Recursion</h1></div></div></div><p><a id="iddle1276" class="indexterm"></a><a id="iddle1765" class="indexterm"></a><a id="iddle2120" class="indexterm"></a><a id="iddle2751" class="indexterm"></a>When you give a function a name it allows you to do something quite interesting: call that function from within the function. We call this <span class="emphasis"><em>recursion</em></span>, or a recursive function call.</p><p>Now why would you need such a thing? Well, some problems are inherently recursive. Here’s one from mathematics: an algorithm to compute the Fibonacci number series. The Fibonacci number series is:</p><p>0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144... and so on.</p><p>To compute a Fibonacci number we start by assuming:</p><p>Fibonacci of 0 is 1</p><p>Fibonacci of 1 is 1</p><p>and then to compute any other number in the series we simply add together the two previous numbers in the series. So:</p><p>Fibonacci of 2 is Fibonacci of 1 + Fibonacci of 0 = 2</p><p>Fibonacci of 3 is Fibonacci of 2 + Fibonacci of 1 = 3</p><p>Fibonacci of 4 is Fibonacci of 3 + Fibonacci of 2 = 5</p><p>and so on... The algorithm to compute Fibonacci numbers is inherently recursive because you compute the next number using the results of the previous two Fibonacci numbers.</p><p>We can make a recursive function to compute Fibonacci numbers like this: to compute the Fibonacci of the number n, we call the Fibonacci function with the argument n-1 and call the Fibonacci function with the argument n-2, and then add the results together.</p><p>Let’s do that in code. We’ll start by handling the cases of 0 and 1:</p><div class="informalfigure"><a id="med_id01042a"></a><div class="mediaobject"><a id="med_id01042"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114394.png.jpg" alt="image with no caption" width="594" height="160"></div></div><p>These are the <span class="emphasis"><em>base cases</em></span>—that is, the cases that don’t rely on previous Fibonacci numbers to compute—and it is usually good to write them first. From there you can think like this: “To compute a Fibonacci number n, I return the result of adding the Fibonacci of n-1 and the Fibonacci of n-2.</p><p>Let’s do that...</p><div class="informalfigure"><a id="med_id01043a"></a><div class="mediaobject"><a id="med_id01043"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114396.png.jpg" alt="image with no caption" width="713" height="129"></div></div><p><a id="iddle1332" class="indexterm"></a>This looks a little like magic if you’ve never seen recursion before, but this does compute Fibonacci numbers. Let’s clean the code up a little, and test it:</p><div class="informalfigure"><a id="med_id01044a"></a><div class="mediaobject"><a id="med_id01044"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114398.png.jpg" alt="image with no caption" width="619" height="322"></div></div><div class="note" title="JavaScript console"><h3 class="title"><a id="app01note04"></a>JavaScript console</h3><p><span class="strong"><strong><code class="literal">The fibonacci of 0 is 1</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 1 is 1</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 2 is 2</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 3 is 3</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 4 is 5</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 5 is 8</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 6 is 13</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 7 is 21</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 8 is 34</code></strong></span></p><p><span class="strong"><strong><code class="literal">The fibonacci of 9 is 55</code></strong></span></p></div><div class="note" title="Watch it!"><h3 class="title"><a id="app01note05"></a>Watch it!</h3><p><span class="strong"><strong>Make sure you have a base case.</strong></span></p><p>If recursive code never reaches a base case where the computation ends, it will run forever, like an infinite loop. In other words, the function will continue calling itself over and over, consuming resources until your browser can’t take it anymore. So if you write recursive code and your page isn’t responding, figure out how to make sure you’re getting to the base case.</p></div></div><div class="sect1" title="#9 JSON"><div class="titlepage"><div><div><h1 class="title"><a id="hash9_json"></a>#9 JSON</h1></div></div></div><p><a id="iddle2167" class="indexterm"></a><a id="iddle2613" class="indexterm"></a>Not only is JavaScript the programming language of the Web, it’s becoming a common interchange format for storing and transmitting objects. JSON is an acronym for “JavaScript Object Notation” and is a format that allows you to represent a JavaScript object as a string—a string that can be stored and transmitted:</p><div class="informalfigure"><a id="med_id01045a"></a><div class="mediaobject"><a id="med_id01045"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114400.png.jpg" alt="image with no caption" width="815" height="208"></div></div><p>Now, the cool thing about JSON is we can take strings like this and turn them into objects. The way we do it is with a couple of methods supplied by JavaScript <code class="literal">JSON</code> object: <code class="literal">JSON.parse</code> and <code class="literal">JSON.stringify</code>. We’ll use the <code class="literal">parse</code> method to parse the <code class="literal">fidoString</code> above and turn it into a real dog (well, a JavaScript object anyway):</p><div class="note" title="Note"><h3 class="title"><a id="app01note05a"></a>Note</h3><p>Notice that we’re using the JSON object here. JSON is both the name of a string format and an object in JavaScript.</p></div><div class="informalfigure"><a id="med_id01046a"></a><div class="mediaobject"><a id="med_id01046"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114402.png.jpg" alt="image with no caption" width="638" height="242"></div></div><p>And you can go the other way, too. If you have an object, <code class="literal">fido</code>, and you want to turn it into a string, you just call the <code class="literal">JSON.stringify</code> method, like this:</p><div class="informalfigure"><a id="med_id01047a"></a><div class="mediaobject"><a id="med_id01047"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114404.png.jpg" alt="image with no caption" width="445" height="126"></div></div><p>Note that the JSON format doesn’t work with methods (so you can’t include, say, a <code class="literal">bark</code> method in your JSON string), but it does work with all the primitive types, as well as objects and arrays.</p></div><div class="sect1" title="#10 Server-side JavaScript"><div class="titlepage"><div><div><h1 class="title"><a id="hash10_server-side_javascript"></a>#10 Server-side JavaScript</h1></div></div></div><p><a id="iddle2150" class="indexterm"></a><a id="iddle2153" class="indexterm"></a><a id="iddle2328" class="indexterm"></a><a id="iddle2785" class="indexterm"></a>In this book we’ve focused on the browser and client-side programming, but there’s a whole world of server-side programming where you can now use your JavaScript skills. Server-side programming is typically required for the kinds of web and cloud services you use on the Internet. If you want to create Webville Taco’s new online order system, or you think the next big idea is the anti-social network, you’ll need to write code that lives and runs in the cloud (on a server on the Internet).</p><div class="informalfigure"><a id="med_id01048a"></a><div class="mediaobject"><a id="med_id01048"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114406.png.jpg" alt="image with no caption" width="332" height="329"></div></div><p>Node.js is the JavaScript server-side technology of choice these days, and it includes its own runtime environment and set of libraries (in the same way client-side JavaScript uses the browser’s libraries). And like the browser, Node.js runs JavaScript in a single-threaded model where only one thread of execution can happen at a time. This leads to a programing model similar to the browser that is based on asynchronous events and an event loop.</p><p>As an example, the method below starts up a web server listening for incoming web requests. It takes a handler that is responsible for handling those requests when they occur. Notice that the convention for setting up the event handler for incoming requests is to pass an anonymous function to the <code class="literal">createServer</code> method.</p><div class="informalfigure"><a id="med_id01049a"></a><div class="mediaobject"><a id="med_id01049"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2114408.png.jpg" alt="image with no caption" width="614" height="338"></div></div><p>Of course, there is much more to explain and to work through to understand how Node.js works. But, given your knowledge of objects and functions you are well positioned to take this on. Also, explaining Node.js requires at least an entire book of its own, but you’ll also find many online tutorials, articles and demonstrations at <a class="ulink" href="http://nodejs.org">http://nodejs.org</a>.</p></div><div class="footnotes"><br><hr><div class="footnote"><p><sup>[<a id="ftn.app01fn01" href="#app01fn01" class="para">2</a>] </sup><a class="ulink" href="http://www.w3.org/html/wg/drafts/html/CR/browsers.html#the-window-object">http://www.w3.org/html/wg/drafts/html/CR/browsers.html#the-window-object</a></p></div></div></div></div></div><link rel="stylesheet" href="/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="/api/v2/epubs/urn:orm:book:9781449340124/files/core.css" crossorigin="anonymous"></div></div></section>
</div>

https://learning.oreilly.com
<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
    
</style>
<link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/epub.css" crossorigin="anonymous">
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content" class="noOutline" tabindex="-1"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><div class="chapter" title="Chapter&nbsp;7.&nbsp;Serious types"><div class="titlepage"><div><div><h1 class="title"><a id="typescomma_equalitycomma_conversion_and"></a>Chapter&nbsp;7.&nbsp;Serious types</h1></div><div><h3 class="subtitle">Types, Equality, Conversion and All That Jazz</h3></div></div></div><div class="informalfigure"><a id="med_id00459a"></a><div class="mediaobject"><a id="med_id00459"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113230.png.jpg" alt="image with no caption" width="344" height="419"></div></div><p><span class="strong"><strong>It’s time to get serious about our types.</strong></span> One of the great things about JavaScript is you can get a long way without knowing a lot of details of the language. But to truly <span class="strong"><strong>master the language</strong></span>, get that promotion and get on to the things you really want to do in life, you have to rock at <span class="strong"><strong>types</strong></span>. Remember what we said way back about JavaScript? That it didn’t have the luxury of a silver-spoon, academic, peer-reviewed language definition? Well that’s true, but the academic life didn’t stop Steve Jobs and Bill Gates, and it didn’t stop JavaScript either. It does mean that JavaScript doesn’t have the... well, the most thought-out type system, and we’ll find a few <span class="strong"><strong>idiosyncrasies</strong></span> along the way. But, don’t worry, in this chapter we’re going to nail all that down, and soon you’ll be able to avoid all those embarrassing moments with types.</p><div class="sect1" title="The truth is out there..."><div class="titlepage"><div><div><h1 class="title"><a id="truth_is_out_therehellip"></a>The truth is out there...</h1></div></div></div><p><a id="iddle1236" class="indexterm"></a><a id="iddle2341" class="indexterm"></a><a id="iddle2642" class="indexterm"></a><a id="iddle2829" class="indexterm"></a><a id="iddle2960" class="indexterm"></a><a id="iddle2965" class="indexterm"></a>Now that you’ve had a lot of experience working with JavaScript types—there’s your primitives with numbers, strings, and booleans, and there’s all the objects, some supplied by JavaScript (like the Math object), some supplied by the browser (like the document object), and some you’ve written yourself—aren’t you just basking in the glow of JavaScript’s simple, powerful and consistent type system?</p><div class="informalfigure"><a id="med_id00460a"></a><div class="mediaobject"><a id="med_id00460"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113232.png.jpg" alt="image with no caption" width="656" height="384"></div></div><p>After all what else would you expect from the official language of Webville? In fact, if you were a mere scripter, you might think about sitting back, sipping on that Webville Martini, and taking a much needed break...</p><p>But you’re not a mere scripter, and something is amiss. You have that sinking feeling that behind Webville’s picket fences something bizarre is at work. You’ve heard the reports of sightings of strings that are acting like objects, you’ve read in the blogs about a (probably radioactive) null type, you’ve heard the rumors that the JavaScript interpreter as of late has been doing some weird type conversion. What does it all mean? We don’t know, but the truth is out there and we’re going to uncover it in this chapter, and when we do, we might just turn what you think of true and false upside down.</p><div class="informalfigure"><a id="med_id00461a"></a><div class="mediaobject"><a id="med_id00461"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113234.png.jpg" alt="image with no caption" width="186" height="160"></div></div><div class="sidebar"><a id="who_am_iquestion_mark-id00091"></a><p class="title">Who am I?</p><div class="informalfigure"><a id="med_id00462a"></a><div class="mediaobject"><a id="med_id00462"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2112762.png.jpg" alt="image with no caption" width="134" height="171"></div></div><p><a id="iddle2643" class="indexterm"></a><a id="iddle2918" class="indexterm"></a><a id="iddle2952" class="indexterm"></a>A bunch of JavaScript values and party crashers, in full costume, are playing a party game, “Who am I?” They give you a clue, and you try to guess who they are, based on what they say. Assume they always tell the truth about themselves. Draw an arrow from each sentence to the name of one attendee. We’ve already guessed one of them for you. Check your answers at the end of the chapter before you go on.</p><p>If you find this exercise difficult, it’s okay to cheat and look at the answers.</p><div class="informalfigure"><a id="med_id00463a"></a><div class="mediaobject"><a id="med_id00463"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113236.png.jpg" alt="image with no caption" width="598" height="440"></div></div></div></div><div class="sect1" title="Watch out, you might bump into undefined when you aren’t expecting it..."><div class="titlepage"><div><div><h1 class="title"><a id="watch_outcomma_you_might_bump_into_undef"></a>Watch out, you might bump into undefined when you aren’t expecting it...</h1></div></div></div><p><a id="iddle1091" class="indexterm"></a><a id="iddle2518" class="indexterm"></a><a id="iddle2535" class="indexterm"></a><a id="iddle2678" class="indexterm"></a><a id="iddle2971" class="indexterm"></a><a id="iddle3034" class="indexterm"></a>As you can see, whenever things get shaky—you need a variable that’s not been initialized yet, you want a property that doesn’t exist (or has been deleted), you go after an array item that isn’t there—you’re going to encounter <code class="literal">undefined</code>.</p><div class="informalfigure"><a id="med_id00464a"></a><div class="mediaobject"><a id="med_id00464"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113238.png.jpg" alt="image with no caption" width="233" height="300"></div></div><p>But what the heck is it? It’s not really that complicated. Think of <code class="literal">undefined</code> as the value assigned to things that don’t yet have a value (in other words they haven’t been initialized).</p><p>So what good is it? Well, <code class="literal">undefined</code> gives you a way to test to see if a variable (or property, or array item) has been given a value. Let’s look at a couple of examples, starting with an unassigned variable:</p><div class="informalfigure"><a id="med_id00465a"></a><div class="mediaobject"><a id="med_id00465"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113240.png.jpg" alt="image with no caption" width="714" height="154"></div></div><p>Or, how about an object property:</p><div class="informalfigure"><a id="med_id00466a"></a><div class="mediaobject"><a id="med_id00466"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113242.png.jpg" alt="image with no caption" width="455" height="179"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00092"></a><p class="title">There are No Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa1qe1"></a><a id="ch07qa1q1"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: When do I need to check if a variable (or property or array item) is undefined?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa1q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Your code design will dictate this. If you’ve written code so that a property or variable may not have a value when a certain block of code is executed, then checking for undefined gives you a way to handle that situation rather than computing with undefined values.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa1qe2"></a><a id="ch07qa1q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: If undefined is a value, does it have a type?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa1q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes, it does. The type of undefined is undefined. Why? Well our logic (work with us here) is this: it isn’t an object, or a number or a string or a boolean, or really anything that is defined. So why not make the type undefined, too? This is one of those weird twilight zones of JavaScript you just have to accept.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="in_the_laboratory"></a><p class="title">In The Laboratory</p><div class="informalfigure"><a id="med_id00467a"></a><div class="mediaobject"><a id="med_id00467"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113244.png.jpg" alt="image with no caption" width="155" height="313"></div></div><p><a id="iddle2891" class="indexterm"></a><a id="iddle2905" class="indexterm"></a>In the laboratory we like to take things apart, look under the hood, poke and prod, hook up our diagnostic tools and check out what is really going on. Today, we’re investigating JavaScript’s type system and we’ve found a little diagnostic tool called <span class="strong"><strong>typeof</strong></span> to examine variables. Put your lab coat and safety goggles on, and come on in and join us.</p><p>The <span class="strong"><strong>typeof</strong></span> operator is built into JavaScript. You can use it to probe the type of its operand (the thing you use it to operate on). Here’s an example:</p><div class="informalfigure"><a id="med_id00468a"></a><div class="mediaobject"><a id="med_id00468"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113246.png.jpg" alt="image with no caption" width="844" height="695"></div></div></div><div class="informalfigure"><a id="med_id00469a"></a><div class="mediaobject"><a id="med_id00469"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113248.png.jpg" alt="image with no caption" width="544" height="568"></div></div><p><a id="iddle1475" class="indexterm"></a><a id="iddle1927" class="indexterm"></a><a id="iddle2336" class="indexterm"></a><a id="iddle2538" class="indexterm"></a><a id="iddle2911" class="indexterm"></a><a id="iddle2923" class="indexterm"></a><a id="iddle2957" class="indexterm"></a><a id="iddle3031" class="indexterm"></a><a id="iddle3141" class="indexterm"></a><span class="strong"><strong>Ah yes, this causes a lot of confusion.</strong></span> There are many languages that have the concept of a value that means “no object.” And, it’s not a bad idea—take the <code class="literal">document.getElementById</code> method. It’s supposed to return an object right? So, what happens if it can’t? Then we want to return something that says “I would have been an object if there was one, but we don’t have one.” And that’s what <code class="literal">null</code> is.</p><p>You can also set a variable to <code class="literal">null</code> directly:</p><a id="pro_id00077"></a><pre class="programlisting"><span class="strong"><strong>var killerObjectSomeday = null;</strong></span></pre><p>What does it mean to assign the value <code class="literal">null</code> to a variable? How about “We intend to assign an object to this variable at some point, but we haven’t yet.”</p><p>Now, if you’re scratching your head and saying “Hmm, why didn’t they just use <code class="literal">undefined</code> for that?” then you’re in good company. The answer comes from the very beginnings of JavaScript. The idea was to have one value for variables that haven’t been initialized to anything yet, and another that means the lack of an object. It isn’t pretty, and it’s a little redundant, but it is what it is at this point. Just remember the intent of each (<code class="literal">undefined</code> and <code class="literal">null</code>), and know that it is most common to use <code class="literal">null</code> in places where an object should be but one can’t be created or found, and it is most common to find <code class="literal">undefined</code> when you have a variable that hasn’t been initialized, or an object with a missing property, or an array with a missing value.</p><div class="sidebar"><a id="back_in_the_laboratory"></a><p class="title">Back in the Laboratory</p><p>Oops, we forgot null in our test data. Here’s the missing test case:</p><a id="pro_id00078"></a><pre class="programlisting"><span class="strong"><strong>var test10 = null;</strong></span>
<span class="strong"><strong>console.log(typeof test10);</strong></span></pre><div class="informalfigure"><a id="med_id00470a"></a><div class="mediaobject"><a id="med_id00470"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113250.png.jpg" alt="image with no caption" width="498" height="165"></div></div></div></div><div class="sect1" title="How to use null"><div class="titlepage"><div><div><h1 class="title"><a id="how_to_use_null"></a>How to use null</h1></div></div></div><p>There are many functions and methods out there in the world that return objects, and you’ll often want to make sure what you’re getting back is a full-fledged object, and not <code class="literal">null</code>, just in case the function wasn’t able to find one or make one to return to you. You’ve already seen examples from the DOM where a test is needed:</p><div class="informalfigure"><a id="med_id00471a"></a><div class="mediaobject"><a id="med_id00471"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113252.png.jpg" alt="image with no caption" width="623" height="154"></div></div><p>Keep in mind that getting <code class="literal">null</code> doesn’t necessarily mean something is wrong. It may just mean something doesn’t exist yet and needs to be created, or something doesn’t exist and you can skip it. Let’s say users have the ability to open or close a weather widget on your site. If a user has it open there’s a <code class="literal">&lt;div&gt;</code> with the id of “weatherDiv”, and if not, there isn’t. All of a sudden <code class="literal">null</code> becomes quite useful:</p><div class="informalfigure"><a id="med_id00472a"></a><div class="mediaobject"><a id="med_id00472"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113254.png.jpg" alt="image with no caption" width="465" height="240"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Remember, null is intended to represent an object that isn’t there.</strong></span></p></blockquote></div><div class="note" title="Blaine, Missouri"><h3 class="title"><a id="ch06note04a"></a>Blaine, Missouri</h3><p>It is always 67 degrees with a 40% chance of rain.</p><div class="informalfigure"><a id="med_id00473a"></a><div class="mediaobject"><a id="med_id00473"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113256.png.jpg" alt="image with no caption" width="118" height="129"></div></div><div class="blockquote"><blockquote class="blockquote"><p>We can use null to check to see if an object exists yet or not.</p></blockquote></div></div><div class="informalfigure"><a id="med_id00474a"></a><div class="mediaobject"><a id="med_id00474"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113258.png.jpg" alt="image with no caption" width="847" height="1000"></div></div></div><div class="sect1" title="Dealing with NaN"><div class="titlepage"><div><div><h1 class="title"><a id="dealing_with_nan"></a>Dealing with NaN</h1></div></div></div><p><a id="iddle2157" class="indexterm"></a><a id="iddle2317" class="indexterm"></a><a id="iddle2914" class="indexterm"></a><a id="iddle2954" class="indexterm"></a><a id="iddle3176" class="indexterm"></a><a id="iddle1811" class="indexterm"></a><a id="iddle2125" class="indexterm"></a><a id="iddle2344" class="indexterm"></a>Now you might think that dealing with <code class="literal">NaN</code> is a rare event, but if you’re working with any kind of code that uses numbers, you’d be surprised how often it shows up. The most common thing you’ll need to do is test for <code class="literal">NaN</code>, and given everything you’ve learned about JavaScript, how to do this might seem obvious:</p><p><span class="strong"><strong>WRONG!</strong></span></p><div class="informalfigure"><a id="med_id00475a"></a><div class="mediaobject"><a id="med_id00475"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113260.png.jpg" alt="image with no caption" width="422" height="84"></div></div><p>Any sensible person would assume that’s how you test to see if a variable holds a <code class="literal">NaN</code> value, but it doesn’t work. Why? Well, <code class="literal">NaN</code> isn’t equal to anything, not even itself, so, any kind of test for equality with <code class="literal">NaN</code> is off the table. Instead you need to use a special function: <code class="literal">isNaN</code>. Like this:</p><p><span class="strong"><strong>RIGHT!</strong></span></p><div class="informalfigure"><a id="med_id00476a"></a><div class="mediaobject"><a id="med_id00476"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113262.png.jpg" alt="image with no caption" width="434" height="94"></div></div></div><div class="sect1" title="It gets even weirder"><div class="titlepage"><div><div><h1 class="title"><a id="it_gets_even_weirder"></a>It gets even weirder</h1></div></div></div><p>So, let’s think through this a bit more. If <code class="literal">NaN</code> stands for “Not a Number”, what is it? Wouldn’t it be easier if it were named for what it is rather than what it isn’t? What do you think it is? We can check its type for a hint:</p><a id="pro_id00079"></a><pre class="programlisting"><span class="strong"><strong>var test11 = 0 / 0;</strong></span>
<span class="strong"><strong>console.log(typeof test11);</strong></span></pre><div class="informalfigure"><a id="med_id00477a"></a><div class="mediaobject"><a id="med_id00477"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113264.png.jpg" alt="image with no caption" width="374" height="218"></div></div><p>What on earth? <code class="literal">NaN</code> is of type number? How can something that’s not a number have the type number? Okay, deep breath. Think of <code class="literal">NaN</code> as just a poorly named value. Someone should have called it something more like “Number that can’t be represented” (okay, we agree the acronym isn’t quite as nice) instead of “Not a Number”. If you think about it like that, then you can think of <code class="literal">NaN</code> as being a value that is a number but can’t be represented (at least, not by a computer).</p><p>Go ahead and add this one to your JavaScript twilight zone list.</p><div class="sidebar"><a id="there_are_no_dumb_questions-id00093"></a><p class="title">There are No Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa2qe1"></a><a id="ch07qa2q1"></a><p>Q:</p></td><td align="left" valign="top"><p><a id="iddle2076" class="indexterm"></a><a id="iddle2144" class="indexterm"></a><a id="iddle2337" class="indexterm"></a><a id="iddle2539" class="indexterm"></a><a id="iddle2912" class="indexterm"></a><a id="iddle3142" class="indexterm"></a><span class="strong"><strong>Q: If I pass isNaN a string, which isn’t a number, will it return true?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa2q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> It sure will, just as you’d expect. You can expect a variable holding the value NaN, or any other value that isn’t an actual number to result in isNaN returning true (and false otherwise). There are a few caveats to this that you’ll see when we talk about type conversion.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa2qe2"></a><a id="ch07qa2q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: But why isn’t NaN equal to itself?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa2q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> If you’re deeply interested in this topic you’ll want to seek out the IEEE floating point specification. However, the layman’s insight into this is that just because NaN represents an unrepresentable numeric value, does not mean that those unrepresentable numbers are equal. For instance, take the sqrt(-1) and sqrt(-2). They are definitely not the same, but they both produce NaN.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa2qe3"></a><a id="ch07qa2q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: When we divide 0/0 we get NaN, but I tried dividing 10/0 and got <code class="literal">Infinity</code>. Is that different from <code class="literal">NaN</code>?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa2q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Good find. The Infinity (or -Infinity) value in JavaScript represents all numbers (to get a little technical) that exceed the upper limit on computer floating point numbers, which is 1.7976931348623157E+10308 (or -1.7976931348623157E+10308 for -Infinity). The type of Infinity is number and you can test for it if you suspect one of your values is getting a little large:</p><a id="pro_id00080"></a><pre class="programlisting">if (tamale == Infinity) {
   alert("That's a big tamale!");
}</pre></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa2qe4"></a><a id="ch07qa2q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: You did blow my mind with that “NaN is a number” thing. Any other mind blowing details?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa2q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Funny you should ask. How about Infinity minus Infinity equals.... wait for it........ NaN. We’ll refer you to a good mathematician to understand that one.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa2qe5"></a><a id="ch07qa2q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Just to cover every detail, did we say what the type of null is?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa2q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> A quick way to find out is by using the typeof operator on null. If you do that you’ll get back the result “object”. And this makes sense from the perspective that null is used to represent an object that isn’t there. However, this point has been heavily debated, and the most recent spec defines the type of null as null. You’ll find this an area where your browser’s JavaScript implementation may not match the spec, but, in practice, you’ll rarely need to use the type of null in code.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="exercise-id00094"></a><p class="title">Exercise</p><p>We’ve been looking at some rather, um, interesting, values so far in this chapter. Now, let’s take a look at some interesting behavior. Try adding the code below to the &lt;script&gt; element in a basic web page and see what you get in the console when you load up the page. You won’t get why yet, but see if you can take a guess about what might be going on.</p><a id="pro_id00081"></a><pre class="programlisting"><span class="strong"><strong>if (99 == "99") {</strong></span>
    <span class="strong"><strong>console.log("A number equals a string!");</strong></span>
<span class="strong"><strong>} else {</strong></span>
    <span class="strong"><strong>console.log("No way a number equals a string");</strong></span>
<span class="strong"><strong>}</strong></span></pre><div class="informalfigure"><a id="med_id00478a"></a><div class="mediaobject"><a id="med_id00478"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113266.png.jpg" alt="image with no caption" width="413" height="182"></div></div></div></div><div class="sect1" title="We have a confession to make"><div class="titlepage"><div><div><h1 class="title"><a id="we_have_a_confession_to_make"></a>We have a confession to make</h1></div></div></div><div class="informalfigure"><a id="med_id00479a"></a><div class="mediaobject"><a id="med_id00479"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113268.png.jpg" alt="image with no caption" width="300" height="256"></div></div><p><a id="iddle1553" class="indexterm"></a><a id="iddle1556" class="indexterm"></a><a id="iddle2342" class="indexterm"></a><a id="iddle2830" class="indexterm"></a><a id="iddle2906" class="indexterm"></a><a id="iddle3123" class="indexterm"></a><a id="iddle3164" class="indexterm"></a><a id="iddle3167" class="indexterm"></a>There is an aspect of JavaScript we’ve deliberately been holding back on. We could have told you up front, but it wouldn’t have made as much sense as it will now.</p><p>It’s not so much that we’ve been pulling the wool over your eyes, it’s that there is more to the story than we’ve been telling you. And what is this topic? Here, let’s take a look:</p><div class="informalfigure"><a id="med_id00480a"></a><div class="mediaobject"><a id="med_id00480"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113270.png.jpg" alt="image with no caption" width="333" height="239"></div></div><p>Straightforward enough? Sure, what could be easier? However, one thing we’ve done at least once so far in this book, that you might not have noticed, is something like this:</p><div class="informalfigure"><a id="med_id00481a"></a><div class="mediaobject"><a id="med_id00481"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113272.png.jpg" alt="image with no caption" width="468" height="240"></div></div><p>So what happens when we compare a number to a string? Mass chaos? Computer meltdown? Rioting in the streets?</p><p>No, JavaScript is smart enough to determine that 99 and “99” are the same for all practical purposes. But what exactly is going on behind the scenes to make this work? Let’s take a look...</p><div class="sidebar"><a id="bullet_points-id00095"></a><p class="title">Bullet Points</p><p>Just a quick reminder about the difference between assignment and equality:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">var x = 99;</code></p><p>= is the assignment operator. It is used to assign a value to a variable.</p></li><li class="listitem"><p><code class="literal">x == 99</code></p><p>== is a comparison operator. It is used to compare one value with another to see if they’re equal.</p></li></ul></div></div></div><div class="sect1" title="Understanding the equality operator (otherwise known as ==)"><div class="titlepage"><div><div><h1 class="title"><a id="understanding_the_equality_operator_left"></a>Understanding the equality operator (otherwise known as ==)</h1></div></div></div><div class="informalfigure"><a id="med_id00482a"></a><div class="mediaobject"><a id="med_id00482"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113274.png.jpg" alt="image with no caption" width="214" height="312"></div></div><p><a id="iddle2934" class="indexterm"></a><a id="iddle2969" class="indexterm"></a>You’d think that understanding equality would be a simple topic. After all, 1 == 1, “guacamole” == “guacamole” and true == true. But, clearly there is more at work here if “99” == 99. What could be going on inside the equality operator to make that happen?</p><p>It turns out the == operator takes the types of its operands (that is, the two things you’re comparing) into account when it does a comparison. You can break this down into two cases:</p><div class="sect2" title="If the two values have the same type, just compare them"><div class="titlepage"><div><div><h2 class="title"><a id="if_the_two_values_have_the_same_typecomm"></a>If the two values have the <span class="underline">same</span> type, just compare them</h2></div></div></div><p>If the two values you are comparing have the same type, like two numbers or two strings, then the comparison works just like you would expect: the two values are compared against each other and the result is true if they are the same value. Easy enough.</p></div><div class="sect2" title="If the two values have different types, try to convert them into the same type and then compare them"><div class="titlepage"><div><div><h2 class="title"><a id="if_the_two_values_have_different_typesco"></a>If the two values have <span class="underline">different</span> types, try to <span class="underline">convert</span> them into the same type and then compare them</h2></div></div></div><p>This is the more interesting case. Say you have two values with different types that you want to compare, like a number and a string. What JavaScript does is convert the string into a number, and then compares the two values. Like this:</p><div class="note" title="Note"><h3 class="title"><a id="ch07note01"></a>Note</h3><p>Note that the conversion is only temporary, so that the comparison can happen.</p></div><div class="informalfigure"><a id="med_id00483a"></a><div class="mediaobject"><a id="med_id00483"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113276.png.jpg" alt="image with no caption" width="471" height="171"></div></div><p>Okay, that makes some intuitive sense, but what are the rules here? What if I compare a boolean to a number, or null to undefined, or some other combination of values? How do I know what’s going to get converted into what? And, why not convert the number into a string instead, or use some other scheme to test their equality? Well, this is defined by a fairly simple set of rules in the JavaScript specification that determine how the conversion happens when we compare two values with different types. This is one of those things you just need to internalize—once you’ve done that, you’ll be on top of how comparisons work the rest of your JavaScript career.</p><div class="note" title="Note"><h3 class="title"><a id="ch07note02"></a>Note</h3><p>This will also set you above your peers, and help you nail your next interview.</p></div></div></div><div class="sect1" title="How equality converts its operands (sounds more dangerous than it actually is)"><div class="titlepage"><div><div><h1 class="title"><a id="how_equality_converts_its_operands_left"></a>How equality converts its operands (sounds more dangerous than it actually is)</h1></div></div></div><p><a id="iddle1237" class="indexterm"></a><a id="iddle2897" class="indexterm"></a>So what we know is that when you compare two values that have different types, JavaScript will convert one type into another in order to compare them. If you’re coming from another language this might seem strange given this is typically something you’d have to code explicitly rather than have it happen automatically. But no worries, in general, it’s a useful thing in JavaScript <span class="emphasis"><em>so long as you understand when and how it happens</em></span>. And, that’s what we’ve got to figure out now: when it happens and how it happens.</p><p>Here we go (in four simple cases):</p><div class="sect2" title="CASE#1: Comparing a number and a string."><div class="titlepage"><div><div><h2 class="title"><a id="casehash1_comparing_a_number_and_a_strin"></a>CASE#1: Comparing a number and a string.</h2></div></div></div><p>If you’re comparing a string and a number the same thing happens every time: the string is converted into a number, and the two numbers are then compared. This doesn’t always go well, because not all strings can be converted to numbers. Let’s see what happens in that case:</p><div class="informalfigure"><a id="med_id00484a"></a><div class="mediaobject"><a id="med_id00484"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113278.png.jpg" alt="image with no caption" width="555" height="162"></div></div></div><div class="sect2" title="CASE#2: Comparing a boolean with any other type."><div class="titlepage"><div><div><h2 class="title"><a id="casehash2_comparing_a_boolean_with_any_o"></a>CASE#2: Comparing a boolean with any other type.</h2></div></div></div><p>In this case, we convert the boolean to a number, and compare. This might seem a little strange, but it’s easier to digest if you just remember that true converts to 1 and false converts to 0. You also need to understand that sometimes this case requires doing more than one type conversion. Let’s look at a few examples:</p><div class="informalfigure"><a id="med_id00485a"></a><div class="mediaobject"><a id="med_id00485"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113280.png.jpg" alt="image with no caption" width="517" height="161"></div></div><p><a id="iddle2338" class="indexterm"></a><a id="iddle2921" class="indexterm"></a><a id="iddle3143" class="indexterm"></a>Here’s another case; this time a boolean is compared to a string. Notice how more steps are needed.</p><div class="informalfigure"><a id="med_id00486a"></a><div class="mediaobject"><a id="med_id00486"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113282.png.jpg" alt="image with no caption" width="523" height="266"></div></div></div><div class="sect2" title="CASE#3: Comparing null and undefined."><div class="titlepage"><div><div><h2 class="title"><a id="casehash3_comparing_null_and_undefineddo"></a>CASE#3: Comparing null and undefined.</h2></div></div></div><p>Comparing these values evalutates to true. That might seem odd as well, but it’s the rule. For some insight, these values both essentially represent “no value” (that is, a variable with no value, or an object with no value), so they are considered to be equal.</p><div class="informalfigure"><a id="med_id00487a"></a><div class="mediaobject"><a id="med_id00487"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113284.png.jpg" alt="image with no caption" width="512" height="91"></div></div></div><div class="sect2" title="CASE#4: Oh, actually there is no case #4."><div class="titlepage"><div><div><h2 class="title"><a id="casehash4_ohcomma_actually_there_is_no_c"></a>CASE#4: Oh, actually there is no case #4.</h2></div></div></div><p>That’s it. You can pretty much determine the value of any equality with these rules. That said, there are a few edge cases and caveats. One caveat is that we still need to talk about comparing objects, which we’ll talk about in a bit. The other is around conversions that might catch you off guard. Here’s one example:</p><div class="informalfigure"><a id="med_id00488a"></a><div class="mediaobject"><a id="med_id00488"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113286.png.jpg" alt="image with no caption" width="498" height="180"></div></div><div class="informalfigure"><a id="med_id00489a"></a><div class="mediaobject"><a id="med_id00489"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113288.png.jpg" alt="image with no caption" width="672" height="623"></div></div></div></div><div class="sect1" title="How to get strict with equality"><div class="titlepage"><div><div><h1 class="title"><a id="how_to_get_strict_with_equality"></a>How to get strict with equality</h1></div></div></div><div class="informalfigure"><a id="med_id00490a"></a><div class="mediaobject"><a id="med_id00490"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113290.png.jpg" alt="image with no caption" width="425" height="415"></div></div><p><a id="iddle1561" class="indexterm"></a><a id="iddle2822" class="indexterm"></a><a id="iddle2966" class="indexterm"></a><a id="iddle3172" class="indexterm"></a>While we’re making confessions, here’s another one: there are not one, but <span class="emphasis"><em>two equality operators</em></span>. You’ve already been introduced to == (equality), and the other operator is === (strict equality).</p><p>That’s right, three equals. You can use === in place of == anytime you want, but before you start doing that, let’s make sure you understand how they differ.</p><p>With ==, you now know all the complex rules around how the operands are converted (if they’re different types) when they’re compared. With ===, the rules are even more complicated.</p><p>Just kidding, actually there is <span class="emphasis"><em>only one rule</em></span> with ===:</p><div class="sect2" title="Two values are strictly equal only if they have the same type and the same value."><div class="titlepage"><div><div><h2 class="title"><a id="two_values_are_strictly_equal_only_if_th"></a>Two values are strictly equal only if they have the same <span class="underline">type</span> and the same <span class="underline">value</span>.</h2></div></div></div><p>Read that again. What that means is, if two values have the same type we compare them. If they don’t, forget it, we’re calling it false no matter what—no conversion, no figuring out complex rules, none of that. All you need to remember is that === will find two values equal <span class="emphasis"><em>only if they are the same type and the same value</em></span>.</p><div class="sidebar"><a id="sharpen_your_pencil-id00096"></a><p class="title">Sharpen your pencil</p><p><span class="strong"><strong>For each comparison below write true or false below the operators == and === to represent the result of the comparison:</strong></span></p><div class="informalfigure"><a id="med_id00491a"></a><div class="mediaobject"><a id="med_id00491"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113292.png.jpg" alt="image with no caption" width="772" height="294"></div></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00097"></a><p class="title">There are No Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe1"></a><a id="ch07qa3q1"></a><p>Q:</p></td><td align="left" valign="top"><p><a id="iddle1238" class="indexterm"></a><a id="iddle2158" class="indexterm"></a><a id="iddle2318" class="indexterm"></a><a id="iddle2343" class="indexterm"></a><a id="iddle2345" class="indexterm"></a><a id="iddle2831" class="indexterm"></a><a id="iddle2915" class="indexterm"></a><a id="iddle2926" class="indexterm"></a><a id="iddle2955" class="indexterm"></a><a id="iddle3124" class="indexterm"></a><a id="iddle3177" class="indexterm"></a><span class="strong"><strong>Q: What happens if I compare a number, like 99, to a string, like “ninety-nine”, that can’t be converted to a number?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> JavaScript will try to convert “ninety-nine” to a number, and it will fail, resulting in NaN. So the two values won’t be equal, and the result will be false.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe2"></a><a id="ch07qa3q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: How does JavaScript convert strings to numbers?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> It uses an algorithm to parse the individual characters of a string and try to turn each one of them into a number. So if you write “34”, it will look at “3”, and see that can be a 3, and then it will look at “4” and see that can be a 4. You can also convert strings like “1.2” to floating point numbers—JavaScript is smart enough to recognize a string like this can still be a number.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe3"></a><a id="ch07qa3q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So, what if I try something like “true” == true?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> That is comparing a string and a boolean, so according to the rules, JavaScript will first convert true to 1, and then compare “true” and 1. It will then try to convert “true” to a number, and fail, so you’ll get false.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe4"></a><a id="ch07qa3q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So if there is both a == and a === operator, does that mean we have &lt;= and &lt;==, and &gt;= and &gt;==?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> No. There are no &lt;== and &gt;== operators. You can use only &lt;= and &gt;=. These operators only know how to compare strings and numbers (true &lt;= false doesn’t really make sense), so if you try to compare any values other than two strings or two numbers (or a string and a number), JavaScript will attempt to convert the types using the rules we’ve discussed.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe5"></a><a id="ch07qa3q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So if I write 99 &lt;= “100” what happens?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Use the rules: “100” is converted to a number, and then compared with 99. Because 99 is less than or equal to 100 (it’s less than), the result is true.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe6"></a><a id="ch07qa3q6"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Is there a !==?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q6a6"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes, and just like === is stricter than ==, !== is stricter than !=. You use the same rules for !== as you do for ===, except that you’re checking for inequality instead of equality.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe7"></a><a id="ch07qa3q7"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Do we use the same rules when we’re comparing say, a boolean and a number with &lt; and &gt;, like 0 &lt; true?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q7a7"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yup! And in that case, true gets converted to 1, so you’ll get true because 0 is less than 1.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa3qe8"></a><a id="ch07qa3q8"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: It makes sense for a string to be equal to another string, but how can a string be less than or greater than another string?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa3q8a8"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Good question. What does it mean to say “banana” &lt; “mango”? Well, with strings, you can use alphabetical order to know if one string is less than or greater than another. Because “banana” begins with a “b” and “mango” with an “m”, “banana” is less than “mango” because “b” comes before “m” in the alphabet. And “mango” is less than “melon” because, while the first letters are the same, when we compare the second letters, “a” comes before “e”.</p><p>This alphabetical comparison can trip you up, however; for instance, “Mango” &lt; “mango” is true, even though you might think that “M” is greater than “m” because its “M” is capitalized. The ordering of strings has to do with the ordering of the Unicode values that are used to represent each character in the computer (Unicode is a standard for representing characters digitally), and that ordering might not always be what you expect! For all the details, try googling “Unicode”. But most of the time, the basic alphabetical ordering is all you need to know if one string is less than or greater than another.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="fireside_chat-id00098"></a><p class="title"><code class="literal">Fireside Chat</code></p><div class="informalfigure"><a id="med_id00492a"></a><div class="mediaobject"><a id="med_id00492"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2112714.png.jpg" alt="image with no caption" width="204" height="87"></div></div><p>Tonight’s talk: <span class="strong"><strong>The equality and strict equality operators let us know who is boss.</strong></span></p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>==</p></th><th style="border-bottom: 0.5pt solid ; " valign="top"><p>===</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Ah look who it is, Mr. Uptight.</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Just keep in mind that several leading JavaScript gurus say that developers should use me, and only me. They think you should be taken out of the language altogether.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>I’m up for a count of == versus === across all JavaScript code out in the world. You’re going to come in way behind. It won’t even be close.</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>You know, you might be right, but folks are slowly starting to get it, and those numbers are changing.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>I don’t think so. I provide a valuable service. Who doesn’t want to, say, compare user input in the form of a string to a number every once in a while?</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>And with it come all the rules you have to keep in mind to even use ==. Keep life and code simple; use === and if you need to convert user input to a number there are methods for that.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>When you were in grade school did you have to walk to school in the snow, every day, uphill, in both directions? Do you always have to do things the hard way?</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Very funny. There’s nothing wrong with being strict and having clear-cut semantics around your comparisons. Bad, unexpected things can happen if you don’t keep all the rules in mind.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>The thing is, not only can I do the same comparisons you do, I add value on top of that by doing some nice conversions of types.</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Every time I look at your rules I throw up in my mouth a little. I mean comparing a boolean to anything means I convert the boolean to a number? That doesn’t seem very sensical to me.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>You’d rather just throw your hands up, call it false and go home?</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>No, but one can get a little too lax around your complex rules.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>It’s working so far. Look at all the code out there, a lot written by mere... well, scripters.</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>That’s fine but pages are getting more complex, more sophisticated. It’s time to take on some best practices.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>You mean like taking a shower after one of these conversations with you?</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>No, like sticking to ===. It makes your code clearer and removes the potential for weird edge cases in comparisons.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Hmm. Well, ever considered just buying me out? I’d be happy to go spend my days on the beach, kicking back with a margarita in hand.</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>I didn’t see that coming, I thought you’d defend your position as THE equality operator until the end. What gives?</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Arguing about == versus === gets old. I mean there are more interesting things to do in life.</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>I don’t even know how to respond.</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Look, here’s the thing you have to deal with: people aren’t going to just stop using ==. Sometimes it’s really convenient. And people can use it in an educated way, taking advantage of it when it makes sense. Like the user input example—why the heck not use ==?</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>Well like I said, you never know when something is going to happen.</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p>My new attitude is if people want to use you, great. I’m still here when they need me, and by the way, I still get a check every month no matter what they do! There’s enough legacy code with == in the world—I’m never going off payroll.</p></td><td style="">&nbsp;</td></tr></tbody></table></div></div><div class="informalfigure"><a id="med_id00493a"></a><div class="mediaobject"><a id="med_id00493"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113294.png.jpg" alt="image with no caption" width="402" height="518"></div></div><p><a id="iddle2051" class="indexterm"></a><span class="strong"><strong>Deep breath.</strong></span> There’s a lot of debate around this topic, and different experts will tell you different things. Here’s our take: traditionally, coders have used mostly == (equality) because, well, there wasn’t a great awareness of the two operators and their differences. Today, we’re more educated and for most purposes === (strict equality) works just fine and is in some ways the safer route because you know what you’re getting. With ==, of course, you also know what you’re getting, but with all the conversions it’s hard sometimes to think through all the possibilities.</p><p>Now, there are times when == provides some nice convenience (like when you’re comparing numbers to strings) and of course you should feel free to use == in those cases, especially now that, unlike many JavaScript coders, you know exactly what == does. Now that we’ve talked about ===, you’ll see us mostly shift gears in this book and predominantly use ===, but we won’t get dogmatic about it if there’s a case where == makes our life easier and doesn’t introduce issues.</p><div class="note" title="Note"><h3 class="title"><a id="ch07note03"></a>Note</h3><p>You’ll also hear developers refer to === (strict equality) as the “identity” operator.</p></div><div class="sidebar"><a id="who_does_what"></a><p class="title">Who Does What</p><p>We had our descriptions for these operators all figured out, and then they got all mixed up. Can you help us figure out who does what? Be careful, we’re not sure if each contender matches zero, one or more descriptions. We’ve already figured one out, which is marked below:</p><div class="informalfigure"><a id="med_id00494a"></a><div class="mediaobject"><a id="med_id00494"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113296.png.jpg" alt="image with no caption" width="508" height="331"></div></div></div></div></div><div class="sect1" title="Even more type conversions..."><div class="titlepage"><div><div><h1 class="title"><a id="even_more_type_conversionshellip"></a>Even more type conversions...</h1></div></div></div><p><a id="iddle1098" class="indexterm"></a><a id="iddle1354" class="indexterm"></a><a id="iddle1699" class="indexterm"></a><a id="iddle2283" class="indexterm"></a><a id="iddle2348" class="indexterm"></a><a id="iddle2625" class="indexterm"></a><a id="iddle2802" class="indexterm"></a><a id="iddle2835" class="indexterm"></a><a id="iddle2908" class="indexterm"></a><a id="iddle2961" class="indexterm"></a>Conditional statements aren’t the only place you’re going to see type conversion. There are a few other operators that like to convert types when they get the chance. While these conversions are meant to be a convenience for you, the coder, and often they are, it’s good to understand exactly where and when they might happen. Let’s take a look.</p><div class="sect2" title="Another look at concatenation, and addition"><div class="titlepage"><div><div><h2 class="title"><a id="another_look_at_concatenationcomma_and_a"></a>Another look at concatenation, and addition</h2></div></div></div><p>You’ve probably figured out that when you use the + operator with numbers you get <span class="emphasis"><em>addition</em></span>, and when you use it with strings you get <span class="emphasis"><em>concatenation</em></span>. But what happens when we mix the types of +’s operands? Let’s find out.</p><p>If you try to add a number and a string, JavaScript converts the number to a string and concatenates the two. Kind of the opposite of what it does with equality:</p><div class="informalfigure"><a id="med_id00495a"></a><div class="mediaobject"><a id="med_id00495"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113298.png.jpg" alt="image with no caption" width="518" height="137"></div></div><p>If you put the string first and then use the + operator with a number, the same thing happens: the number is converted to a string and the two are joined by concatenation.</p></div><div class="sect2" title="What about the other arithmetic operators?"><div class="titlepage"><div><div><h2 class="title"><a id="what_about_the_other_arithmetic_operator"></a>What about the other arithmetic operators?</h2></div></div></div><p>When it comes the other arithmetic operators—like multiplication, division and subtraction—JavaScript prefers to treat those as arithmetic operations, not string operations.</p><div class="informalfigure"><a id="med_id00496a"></a><div class="mediaobject"><a id="med_id00496"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113300.png.jpg" alt="image with no caption" width="529" height="238"></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00099"></a><p class="title">There are No Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa4qe1"></a><a id="ch07qa4q1"></a><p>Q:</p></td><td align="left" valign="top"><p><a id="iddle2282" class="indexterm"></a><span class="strong"><strong>Q: Is + always interpreted as string concatenation when one of the operands is a string?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa4q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes. However, because + has what is called left-to-right associativity, if you have a situation like this:</p><a id="pro_id00082"></a><pre class="programlisting">var order = 1 + 2 + " pizzas";</pre><p>you’ll get “3 pizzas”, not “12 pizzas” because, moving left to right, 1 is added to 2 first (and both are numbers), which results in 3. Next we add 3 and a string, so 3 is converted to a string and concatenated with “pizza”. To make sure you get the results you want, you can always use parentheses to force an operator to be evaluated first:</p><a id="pro_id00083"></a><pre class="programlisting">var order = (1 + 2) + " pizzas";</pre><p>ensures you’ll get 3 pizzas, and</p><a id="pro_id00084"></a><pre class="programlisting">var order = 1 + (2 + " pizzas");</pre><p>ensures you’ll get 12 pizzas.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa4qe2"></a><a id="ch07qa4q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Is that it? Or are there more conversions?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa4q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> There are some other places where conversion happens. For instance, the unary operator - (to make a negative number) will turn -true into -1. And concatenating a boolean with a string will create a string (like true + “love” is “true love”). These cases are fairly rare, and we’ve personally never needed these in practice, but now you know they exist.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa4qe3"></a><a id="ch07qa4q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So if I want JavaScript to convert a string into a number to add it to another number, how would I do that?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa4q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> There’s a function that does this named Number (yes, it has a uppercase N). Use it like this:</p><a id="pro_id00085"></a><pre class="programlisting">var num = 3 + Number("4");</pre><p>This statement results in num being assigned the value 7. The Number function takes an argument, and if possible, creates a number from it. If the argument can’t be converted to a number, Number returns.... wait for it..... NaN.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00100"></a><p class="title">Sharpen your pencil</p><p>Time to test that conversion knowledge. For each expression below, write the result in the blank next to it. We’ve done one for you. Check your answers at the end of the chapter before you go on.</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong><code class="literal">Infinity - "1"</code></strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>_____________________</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong><code class="literal">"42" + 42</code></strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="underline">“4242”</span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong><code class="literal">2 + "1 1"</code></strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>_____________________</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong><code class="literal">99 + 101</code></strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>___________________</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong><code class="literal">"1" - "1"</code></strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>__________________</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong><code class="literal">console.log("Result: " + 10/2)</code></strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>____________________</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong><code class="literal">3 + " bananas " + 2 + " apples"</code></strong></span></p></td><td style="" valign="top"><p>___________________</p></td></tr></tbody></table></div></div><div class="informalfigure"><a id="med_id00497a"></a><div class="mediaobject"><a id="med_id00497"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113302.png.jpg" alt="image with no caption" width="497" height="486"></div></div><p><a id="iddle2485" class="indexterm"></a><a id="iddle2898" class="indexterm"></a><span class="strong"><strong>We’re glad you’re thinking about it.</strong></span> When it comes to object equality there’s a simple answer and there’s a long, deep answer. The simple answer tackles the question: is this object equal to that object? That is, if I have two variables referencing objects, do they point to precisely the same object? We’ll walk through that on the next page. The complex question involves object types, and the question of how two objects might or might not be the same type. We’ve seen that we can create objects that look like the same type, say two cars, but how do we know they really are? It’s an important question, and one we’re going to tackle head on in a later chapter.</p></div></div><div class="sect1" title="How to determine if two objects are equal"><div class="titlepage"><div><div><h1 class="title"><a id="how_to_determine_if_two_objects_are_equa"></a>How to determine if two objects are equal</h1></div></div></div><p><a id="iddle1559" class="indexterm"></a><a id="iddle1563" class="indexterm"></a><a id="iddle2824" class="indexterm"></a><a id="iddle3170" class="indexterm"></a><a id="iddle3174" class="indexterm"></a>Your first question might be: are we talking about == or ===? Here’s the good news: <span class="emphasis"><em>if you’re comparing two objects, it doesn’t matter</em></span>! That is, if both operands are objects, then you can use either == or === because they work in exactly the same way. Here’s what happens when you test two objects for equality:</p><div class="sect2" title="When we test equality of two object variables, we compare the references to those objects"><div class="titlepage"><div><div><h2 class="title"><a id="when_we_test_equality_of_two_object_vari"></a>When we test equality of two object variables, we compare the <span class="underline">references</span> to those objects</h2></div></div></div><p>Remember, variables hold references to objects, and so whenever we compare two objects, we’re comparing object references.</p><div class="informalfigure"><a id="med_id00498a"></a><div class="mediaobject"><a id="med_id00498"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113304.png.jpg" alt="image with no caption" width="1000" height="475"></div></div></div><div class="sect2" title="Two references are equal only if they reference the same object"><div class="titlepage"><div><div><h2 class="title"><a id="two_references_are_equal_only_if_they_re"></a>Two references are equal only if they reference the <span class="underline">same</span> object</h2></div></div></div><p>The only way a test for equality between two variables containing object references returns true is when the two references point to the <span class="emphasis"><em>same</em></span> object.</p><div class="informalfigure"><a id="med_id00499a"></a><div class="mediaobject"><a id="med_id00499"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113306.png.jpg" alt="image with no caption" width="771" height="290"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00101"></a><p class="title">Sharpen your pencil</p><p>Here’s a little code that helps find cars in Earl’s Autos parking lot. Trace through this code and write the values of loc1 through loc4 below.</p><div class="informalfigure"><a id="med_id00500a"></a><div class="mediaobject"><a id="med_id00500"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113308.png.jpg" alt="image with no caption" width="720" height="731"></div></div></div></div></div><div class="sect1" title="The truthy is out there..."><div class="titlepage"><div><div><h1 class="title"><a id="truthy_is_out_therehellip"></a>The truthy is out there...</h1></div></div></div><div class="informalfigure"><a id="med_id00501a"></a><div class="mediaobject"><a id="med_id00501"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113310.png.jpg" alt="image with no caption" width="269" height="256"></div></div><p><a id="iddle1224" class="indexterm"></a><a id="iddle1665" class="indexterm"></a><a id="iddle2886" class="indexterm"></a><a id="iddle2888" class="indexterm"></a><a id="iddle2967" class="indexterm"></a><a id="iddle2968" class="indexterm"></a>That’s right, we said truthy not truth. We’ll say falsey too. What on earth are we talking about? Well, some languages are rather precise about true and false. JavaScript, not so much. In fact, JavaScript is kind of loose about true and false. How is it loose? Well, there are values in JavaScript that aren’t true or false, but that are nevertheless treated as true or false in a conditional. We call these values truthy and falsey precisely because they aren’t technically true or false, but they behave like they are (again, inside a conditional).</p><p>Now here’s the secret to understanding truthy and falsey: <span class="emphasis"><em>concentrate on knowing what is falsey, and then everything else you can consider truthy</em></span>. Let’s look at some examples of using these falsey values in a conditional:</p><div class="note" title="Note"><h3 class="title"><a id="ch07note04"></a>Note</h3><p>Some people write it “falsy.”</p></div><div class="informalfigure"><a id="med_id00502a"></a><div class="mediaobject"><a id="med_id00502"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113312.png.jpg" alt="image with no caption" width="628" height="490"></div></div></div><div class="sect1" title="What JavaScript considers falsey"><div class="titlepage"><div><div><h1 class="title"><a id="what_javascript_considers_falsey"></a>What JavaScript considers falsey</h1></div></div></div><p><a id="iddle2159" class="indexterm"></a><a id="iddle2319" class="indexterm"></a><a id="iddle2339" class="indexterm"></a><a id="iddle2346" class="indexterm"></a><a id="iddle2839" class="indexterm"></a><a id="iddle2916" class="indexterm"></a><a id="iddle2920" class="indexterm"></a><a id="iddle2956" class="indexterm"></a><a id="iddle3179" class="indexterm"></a>Again, the secret to learning what is truthy and what is falsey is to learn what’s falsey, and then consider everything else truthy.</p><p>There are five falsey values in JavaScript:</p><p><span class="strong"><strong>undefined is falsey.</strong></span></p><p><span class="strong"><strong>null is falsey.</strong></span></p><p><span class="strong"><strong>0 is falsey.</strong></span></p><p><span class="strong"><strong>The empty string is falsey.</strong></span></p><p><span class="strong"><strong>NaN is falsey.</strong></span></p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>To remember which values are truthy and which are falsey, just
memorize the five falsey values—undefined, null, 0, “” and NaN—and remember
that everything else is truthy (except false, which is...well, false.).</strong></span></p></blockquote></div><p>So, every conditional test on the previous page evaluated to false. Did we mention every other value is truthy (except for false, of course)? Here are some examples of truthy values:</p><div class="informalfigure"><a id="med_id00503a"></a><div class="mediaobject"><a id="med_id00503"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113314.png.jpg" alt="image with no caption" width="608" height="415"></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00102"></a><p class="title">Sharpen your pencil</p><p>Time for a quick lie detector test. Figure out how many lies the perp tells, and whether the perp is guilty as charged, by determining which values are truthy and which values are falsey. Check your answer at the end of the chapter before you go on. And of course feel free to try these out in the browser yourself.</p><div class="informalfigure"><a id="med_id00504a"></a><div class="mediaobject"><a id="med_id00504"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113316.png.jpg" alt="image with no caption" width="764" height="783"></div></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch07note05"></a>Brain Power</h3><p><a id="iddle2528" class="indexterm"></a><a id="iddle2645" class="indexterm"></a><a id="iddle2828" class="indexterm"></a><a id="iddle2843" class="indexterm"></a>What do you think this code does? Do you see anything odd about this code, especially given what we know about primitive types?</p><a id="pro_id00086"></a><pre class="programlisting"><span class="strong"><strong>var text = "YOU SHOULD NEVER SHOUT WHEN TYPING";</strong></span>
<span class="strong"><strong>var presentableText = text.toLowerCase();</strong></span>
<span class="strong"><strong>if (presentableText.length &gt; 0) {</strong></span>
     <span class="strong"><strong>alert(presentableText);</strong></span>
<span class="strong"><strong>}</strong></span></pre></div></div><div class="sect1" title="The Secret Life of Strings"><div class="titlepage"><div><div><h1 class="title"><a id="secret_life_of_strings"></a>The Secret Life of Strings</h1></div></div></div><div class="informalfigure"><a id="med_id00505a"></a><div class="mediaobject"><a id="med_id00505"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113318.png.jpg" alt="image with no caption" width="189" height="155"></div></div><p>Types always belong to one of two camps: they’re either a primitive type or an object. Primitives live out fairly simple lives, while objects keep state and have behavior (or said another way, have properties and methods). Right?</p><p>Well, actually, while all that is true, it’s not the whole story. As it turns out, strings are a little more mysterious. Check out this code:</p><div class="informalfigure"><a id="med_id00506a"></a><div class="mediaobject"><a id="med_id00506"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113320.png.jpg" alt="image with no caption" width="469" height="332"></div></div></div><div class="sect1" title="How a string can look like a primitive and an object"><div class="titlepage"><div><div><h1 class="title"><a id="how_a_string_can_look_like_a_primitive_a"></a>How a string can look like a primitive and an object</h1></div></div></div><p>How does a string masquerade as both a primitive and an object? Because JavaScript supports both. That is, with JavaScript you can create a string that is a primitive, and you can also create one that is an object (which supports lots of useful string manipulation methods). Now, we’ve never talked about how to create a string that is an object, and in most cases you don’t need to explicitly do it yourself, because the JavaScript interpreter <span class="emphasis"><em>will create string objects for you</em></span>, as needed.</p><p>Now, where and why might it do that? Let’s look at the life of a string:</p><div class="informalfigure"><a id="med_id00507a"></a><div class="mediaobject"><a id="med_id00507"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113322.png.jpg" alt="image with no caption" width="679" height="573"></div></div><div class="informalfigure"><a id="med_id00508a"></a><div class="mediaobject"><a id="med_id00508"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113324.png.jpg" alt="image with no caption" width="418" height="422"></div></div><p><a id="iddle1235" class="indexterm"></a><a id="iddle2162" class="indexterm"></a><a id="iddle2260" class="indexterm"></a><a id="iddle2340" class="indexterm"></a><a id="iddle2449" class="indexterm"></a><a id="iddle2507" class="indexterm"></a><a id="iddle2659" class="indexterm"></a><a id="iddle2842" class="indexterm"></a><span class="strong"><strong>You don’t need to.</strong></span> In general you can just think of your strings as objects that have lots of great methods to help you manipulate the text in your strings. JavaScript will take care of all the details. So, look at it this way: you now have a better understanding of what is under the covers of JavaScript, but in your day to day coding most developers just rely on JavaScript to do the right thing (and it does).</p><div class="sidebar"><a id="there_are_no_dumb_questions-id00103"></a><p class="title">There are No Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa5qe1"></a><a id="ch07qa5q1"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Just making sure, do I ever have to keep track of where my string is a primitive and where it’s an object?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa5q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Most of the time, no. The JavaScript interpreter will handle all the conversion for you. You just write your code, assuming a string supports the object properties and methods, and things will work as expected.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa5qe2"></a><a id="ch07qa5q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Why does JavaScript support a string as both a primitive and an object?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa5q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Think about it this way: you get the efficiency of the simple string primitive type as long as you are doing basic string operations like comparison, concatenation, writing string to the DOM, and so on. But if you need to do more sophisticated string processing, then you have the string object quickly at your disposal.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa5qe3"></a><a id="ch07qa5q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Given an arbitary string, how do I know if it is an object or primitive?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa5q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> A string is always a primitive unless you create it in a special way using an object constructor. We’ll talk about object constructors later. And you can always use the typeof operator on your variable to see if it is of type string or object.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa5qe4"></a><a id="ch07qa5q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Can other primitives act like objects?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa5q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes, numbers and booleans can also act like objects at times. However, neither of these has nearly as many useful properties as strings do, so you won’t find you’ll use this feature nearly as often as you do with strings. And remember, this all happens for you behind the scenes, so you don’t really have to think about it much. Just use a property if you need to and let JavaScript handle the temporary conversion for you.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch07qa5qe5"></a><a id="ch07qa5q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: How can I know all the methods and properties that are available for String objects?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch07qa5q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> That’s where a good reference comes in handy. There are lots of online references that are helpful, and if you want a book, <span class="emphasis"><em>JavaScript: The Definitive Guide</em></span> has a reference guide with information about every string property and method in JavaScript. Google works pretty well too.</p></td></tr></tbody></table></div></blockquote></div></div></div><div class="sect1" title="A five-minute tour of string methods (and properties)"><div class="titlepage"><div><div><h1 class="title"><a id="five-minute_tour_of_string_methods_left"></a>A five-minute tour of string methods (and properties)</h1></div></div></div><p><a id="iddle1290" class="indexterm"></a><a id="iddle1292" class="indexterm"></a><a id="iddle2174" class="indexterm"></a><a id="iddle2270" class="indexterm"></a><a id="iddle2677" class="indexterm"></a><a id="iddle2844" class="indexterm"></a>Given that we’re in the middle of talking about strings and you’ve just discovered that strings also support methods, let’s take a little break from talking about weirdo types and look at a few of the more common string methods you might want to use. A few string methods get used over and over, and it is highly worth your time to get to know them. So on with the tour.</p><div class="note" title="Note"><h3 class="title"><a id="ch07note06"></a>Note</h3><p>A little pep talk: we could pull you aside and write an entire chapter on every method and property that strings support. Not only would that make this book 40 lbs and 2000 pages long, but at this point, you really don’t need it—you already get the basics of methods and objects, and all you need is a good reference if you really want to dive into the details of string processing.</p></div><div class="sidebar"><a id="length_property"></a><p class="title">the length property</p><p><span class="strong"><strong>The length property holds the number of characters in the string. It’s quite handy for iterating through the characters of the string.</strong></span></p><div class="informalfigure"><a id="med_id00509a"></a><div class="mediaobject"><a id="med_id00509"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113326.png.jpg" alt="image with no caption" width="590" height="264"></div></div><p><span class="strong"><strong>the charAt method</strong></span></p><p><span class="strong"><strong>The charAt method takes an integer number between zero and the length of the string (minus one), and returns a string containing the single character at that position of the string. Think of the string a bit like an array, with each character at an index of the string, with the indices starting at 0 (just like an array). If you give it an index that is greater than or equal to the length of the string, it returns the empty string.</strong></span></p><div class="note" title="Note"><h3 class="title"><a id="ch07note07a"></a>Note</h3><p>Note that JavaScript doesn’t have a character type. So characters are returned as new strings containing one character.</p></div><div class="informalfigure"><a id="med_id00510a"></a><div class="mediaobject"><a id="med_id00510"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113328.png.jpg" alt="image with no caption" width="215" height="93"></div></div></div><div class="sidebar"><a id="indexof_method"></a><p class="title">the indexOf method</p><p><a id="iddle2065" class="indexterm"></a><span class="strong"><strong>This method takes a string as an argument and returns the index of the first character of the first occurrence of that argument in the string.</strong></span></p><div class="informalfigure"><a id="med_id00511a"></a><div class="mediaobject"><a id="med_id00511"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113330.png.jpg" alt="image with no caption" width="588" height="550"></div></div></div><div class="sidebar"><a id="substring_method"></a><p class="title">the substring method</p><p><a id="iddle2807" class="indexterm"></a><a id="iddle2845" class="indexterm"></a><span class="strong"><strong>Give the substring method two indices, and it will extract and return the string contained within them.</strong></span></p><div class="informalfigure"><a id="med_id00512a"></a><div class="mediaobject"><a id="med_id00512"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113332.png.jpg" alt="image with no caption" width="667" height="244"></div></div><p><span class="strong"><strong>You can omit the second index and substring will extract a string that starts at the first index and then continues until the end of the original string.</strong></span></p><a id="pro_id00087"></a><pre class="programlisting"><span class="strong"><strong>val = data.substring(5);</strong></span>
<span class="strong"><strong>console.log("Substring is now " + val);</strong></span></pre><div class="note" title="JavaScript console"><h3 class="title"><a id="ch07note07"></a>JavaScript console</h3><p><span class="strong"><strong><code class="literal">Substring is now phone|address</code></strong></span></p></div></div><div class="sidebar"><a id="split_method"></a><p class="title">the split method</p><p><span class="strong"><strong>The split method takes a character that acts as a delimiter, and breaks the string into parts based on the delimiter.</strong></span></p><div class="informalfigure"><a id="med_id00513a"></a><div class="mediaobject"><a id="med_id00513"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113334.png.jpg" alt="image with no caption" width="768" height="251"></div></div></div><div class="sidebar"><a id="string_soup"></a><p class="title">String Soup</p><div class="informalfigure"><a id="med_id00514a"></a><div class="mediaobject"><a id="med_id00514"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113336.png.jpg" alt="image with no caption" width="615" height="615"></div></div></div></div><div class="sect1" title="Chair Wars (or How Really Knowing Types Can Change Your Life)"><div class="titlepage"><div><div><h1 class="title"><a id="chair_wars_left_parenthesisor_how_really"></a>Chair Wars (or How Really Knowing Types Can Change Your Life)</h1></div></div></div><p><a id="iddle1357" class="indexterm"></a><a id="iddle2170" class="indexterm"></a><a id="iddle2245" class="indexterm"></a><a id="iddle2768" class="indexterm"></a><a id="iddle2803" class="indexterm"></a><a id="iddle2871" class="indexterm"></a><a id="iddle2878" class="indexterm"></a><a id="iddle2883" class="indexterm"></a><a id="iddle2175" class="indexterm"></a><a id="iddle2904" class="indexterm"></a>Once upon a time in a software shop, two programmers were given the same spec and told to “build it.” The Really Annoying Project Manager forced the two coders to compete, by promising that whoever delivers first gets one of those cool Aeron™ chairs all the Silicon Valley guys have. Brad, the hardcore hacker scripter, and Larry, the college grad, both knew this would be a piece of cake.</p><div class="note" title="Note"><h3 class="title"><a id="ch07note07b"></a>Note</h3><p>Take a phone number of the form:</p><p>“123-4567”</p><p>and write code to accept or reject it. To be accepted the number should have seven digits, 0 through 9, with a dash in the middle.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>The spec</strong></span></p></blockquote></div></div><p>Larry, sitting in his cube, thought to himself, “What are the things this code has to <span class="emphasis"><em>do</em></span>? It needs to make sure the string is long enough, it needs to make sure the middle character is a dash, and it needs to make sure every other character is a number. I can use the string’s <code class="literal">length</code> property and I know how to access its characters using the <code class="literal">charAt</code> method.”</p><p>Brad, meanwhile, kicked back at the cafe and thought to himself, “What are the things this code has to do?” He first thought, “A string is an object, and there are lots of methods I can use to help validate the phone number. I’ll brush up on those and get this implemented quickly. After all, an object is an object.” Read on to see how Brad and Larry built their programs, and for the answer to your burning question: <span class="emphasis"><em><span class="strong"><strong>who got the Aeron?</strong></span></em></span></p><div class="informalfigure"><a id="med_id00515a"></a><div class="mediaobject"><a id="med_id00515"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113338.png.jpg" alt="image with no caption" width="249" height="210"></div></div><div class="sect2" title="In Larry’s cube"><div class="titlepage"><div><div><h2 class="title"><a id="in_larryapostrophes_cube"></a>In Larry’s cube</h2></div></div></div><p>Larry set about writing code based on the string methods. He wrote the code in no time:</p><div class="informalfigure"><a id="med_id00516a"></a><div class="mediaobject"><a id="med_id00516"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113340.png.jpg" alt="image with no caption" width="792" height="365"></div></div></div><div class="sect2" title="In Brad’s cube"><div class="titlepage"><div><div><h2 class="title"><a id="in_bradapostrophes_cube"></a>In Brad’s cube</h2></div></div></div><p><a id="iddle2846" class="indexterm"></a>Brad wrote code to check for two numbers and a dash:</p><div class="informalfigure"><a id="med_id00517a"></a><div class="mediaobject"><a id="med_id00517"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113342.png.jpg" alt="image with no caption" width="787" height="376"></div></div></div><div class="sect2" title="But wait! There’s been a spec change"><div class="titlepage"><div><div><h2 class="title"><a id="but_waitexclamation_mark_thereapostrophe"></a>But wait! There’s been a spec change</h2></div></div></div><p>“Okay, <span class="emphasis"><em>technically</em></span> you were first, Larry, because Brad was looking up how to use all those methods,” said the Manager, “but we have to add just one tiny thing to the spec. It’ll be no problem for crack programmers like you two.”</p><p>“If I had a dime for every time I’ve heard <span class="emphasis"><em>that</em></span> one”, thought Larry, knowing that spec-change-no-problem was a fantasy. “And yet Brad looks strangely serene. What’s up with that?” Still, Larry held tight to his core belief that Brad’s fancy way, while cute, was just showing off. And that he’d win again in this next round and produce the code first.</p><div class="note" title="Brain Power"><h3 class="title"><a id="ch07note08"></a>Brain Power</h3><p>Wait, can you think of any bugs Brad might have introduced with his use of isNaN?</p></div><div class="note" title="Note"><h3 class="title"><a id="ch07note08a"></a>Note</h3><p>Take a phone number of the form:</p><p>“123-4567”</p><p>and write code to accept or reject it. To be accepted the number should have seven digits, 0 through 9, with <span class="underline"><span class="strong"><strong>an optional</strong></span></span> dash in the middle.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>What got added to the spec</strong></span></p></blockquote></div></div></div><div class="sect2" title="Back in Larry’s cube"><div class="titlepage"><div><div><h2 class="title"><a id="back_in_larryapostrophes_cube"></a>Back in Larry’s cube</h2></div></div></div><p><a id="iddle2176" class="indexterm"></a>Larry thought he could use most of his existing code; he just had to work these edge cases of the missing dash in the number. Either the number would be only seven digits, or it would be eight digits with a dash in the third position. Quickly Larry coded the additions (which took a little testing to get right):</p><div class="informalfigure"><a id="med_id00518a"></a><div class="mediaobject"><a id="med_id00518"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113344.png.jpg" alt="image with no caption" width="719" height="435"></div></div></div><div class="sect2" title="At Brad’s laptop at the beach"><div class="titlepage"><div><div><h2 class="title"><a id="at_bradapostrophes_laptop_at_the_beach"></a>At Brad’s laptop at the beach</h2></div></div></div><p>Brad smiled, sipped his margarita and quickly made his changes. He simply got the second part of the number using the length of the phone number minus four as the starting point for the substring, instead of hardcoding the starting point at a position that assumes a dash. That almost did it, but he did need to rewrite the test for the dash because it applies only when the phone number has a length of eight.</p><div class="informalfigure"><a id="med_id00519a"></a><div class="mediaobject"><a id="med_id00519"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113346.png.jpg" alt="image with no caption" width="768" height="443"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch07note09"></a>Brain Power</h3><p><a id="iddle2847" class="indexterm"></a>Err, we think Brad still has a bug. Can you find it?</p></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch07note10"></a>Brain Power</h3><p>How would you rewrite Brad’s code to use the split method instead?</p></div></div><div class="sect2" title="Larry snuck in just ahead of Brad."><div class="titlepage"><div><div><h2 class="title"><a id="larry_snuck_in_just_ahead_of_braddot"></a>Larry snuck in just ahead of Brad.</h2></div></div></div><p>But the smirk on Larry’s face melted when the Really Annoying Project Manager said, “Brad, your code is very readable and maintainable. Good job.”</p><p>But Larry shouldn’t be too worried, because, as we know, there is more than just code beauty at work. This code still needs to get through QA, and we’re not quite sure Brad’s code works in all cases. What about you? Who do you think deserves the chair?</p></div><div class="sect2" title="The suspense is killing me. Who got the chair?"><div class="titlepage"><div><div><h2 class="title"><a id="suspense_is_killing_medot_who_got_the_ch"></a>The suspense is killing me. Who got the chair?</h2></div></div></div><div class="informalfigure"><a id="med_id00520a"></a><div class="mediaobject"><a id="med_id00520"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113348.png.jpg" alt="image with no caption" width="138" height="185"></div></div><p>Amy from the second floor.</p><p>(Unbeknownst to all, the Project Manager had given the spec to <span class="emphasis"><em>three</em></span> programmers.)</p><div class="informalfigure"><a id="med_id00521a"></a><div class="mediaobject"><a id="med_id00521"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113350.png.jpg" alt="image with no caption" width="573" height="149"></div></div><div class="sidebar"><a id="in_the_laboratorycomma_again"></a><p class="title">In the Laboratory, Again</p><div class="informalfigure"><a id="med_id00522a"></a><div class="mediaobject"><a id="med_id00522"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113352.png.jpg" alt="image with no caption" width="149" height="301"></div></div><p><a id="iddle2103" class="indexterm"></a><a id="iddle2892" class="indexterm"></a><a id="iddle2900" class="indexterm"></a>The lab crew continues to probe JavaScript using the <span class="strong"><strong>typeof</strong></span> operator and they’re uncovering some more interesting things deep within the language. In the process, they’ve discovered a new operator, <span class="strong"><strong>instanceof</strong></span>. With this one, they’re truly on the cutting edge. Put your lab coat and safety goggles back on and see if you can help decipher this JavaScript and the results. <span class="emphasis"><em>Warning: this is definitely going to be the weirdest code you’ve seen so far.</em></span></p><div class="informalfigure"><a id="med_id00523a"></a><div class="mediaobject"><a id="med_id00523"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113354.png.jpg" alt="image with no caption" width="805" height="690"></div></div></div><div class="sidebar"><a id="bullet_points-id00104"></a><p class="title">Bullet Points</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>There are two groups of types in JavaScript: <span class="strong"><strong>primitives</strong></span> and objects. Any value that isn’t a primitive type is an <span class="strong"><strong>object</strong></span>.</p></li><li class="listitem"><p>The primitives are: numbers, strings, booleans, null and undefined. Everything else is an object.</p></li><li class="listitem"><p><span class="strong"><strong>undefined</strong></span> means that a variable (or property or array item) hasn’t yet been initialized to a value.</p></li><li class="listitem"><p><span class="strong"><strong>null</strong></span> means “no object”.</p></li><li class="listitem"><p>“NaN” stands for “Not a Number”, although a better way to think of <span class="strong"><strong>NaN</strong></span> is as a number that can’t be represented in JavaScript. The type of NaN is number.</p></li><li class="listitem"><p>NaN never equals any other value, including itself, so to test for NaN use the function <span class="strong"><strong>isNaN</strong></span>.</p></li><li class="listitem"><p>Test two values for equality using == or ===.</p></li><li class="listitem"><p>If two operands have different types, the equality operator (==) will try to convert one of the operands into another type before testing for equality.</p></li><li class="listitem"><p>If two operands have different types, the strict equality operator (===) returns false.</p></li><li class="listitem"><p>You can use === if you want to be sure no type conversion happens, however, sometimes the type conversion of == can come in handy.</p></li><li class="listitem"><p>Type conversion is also used with other operators, like the arithmetic operators and string concatenation.</p></li><li class="listitem"><p>JavaScript has five <span class="strong"><strong>falsey</strong></span> values: undefined, null, 0,
“” (the empty string) and NaN. (False is also falsey of course.) All other values are
<span class="strong"><strong>truthy</strong></span>.  </p></li><li class="listitem"><p>Strings sometimes behave like objects. If you use a property or method on a primitive string, JavaScript will convert the string to an object temporarily, use the property, and then convert it back to a primitive string. This happens behind the scenes so you don’t have to think about it.</p></li><li class="listitem"><p>The string has many methods that are useful for string manipulation.</p></li><li class="listitem"><p>Two objects are equal only if the variables containing the object references point to the same object.</p></li></ul></div></div><div class="sidebar"><a id="javascript_cross-id00105"></a><p class="title">JavaScript cross</p><p>You’re really expanding your JavaScript skills. Do a crossword to help it all sink in. All the answers are from this chaper.</p><div class="informalfigure"><a id="med_id00524a"></a><div class="mediaobject"><a id="med_id00524"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113356.png" alt="image with no caption" width="749" height="510"></div></div><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Across</p></th><th style="border-bottom: 0.5pt solid ; " valign="top"><p>Down</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; " valign="top"><p>2. The only value in JavaScript that doesn’t equal anything.</p>
<p>5. The type of Infinity is ________.</p>
<p>7. There are _______ falsey values in JavaScript.</p>
<p>8. Who got the Aeron?</p>
<p>10. Two variables containing object references are equal only if they ______ the same object.</p>
<p>12. The value returned when you’re expecting an object, and that object doesn’t exist.</p>
<p>13. The ______ method is a string method that returns an array.</p>
<p>16. It’s always 67 degrees in _______, Missouri.</p>
<p>17. The type of null in the JavaScript specification.</p>
<p>18. The ______ equality operator returns true only if the operands have the same type and the same value.</p></td><td style="" valign="top"><p>1. The _________ operator can be used to get the type of a value.</p>
<p>2. The weirdest value in the world.</p>
<p>3. Your Fiat is parked at _____ Autos.</p>
<p>4. Sometimes strings masquerade as _________.</p>
<p>6. The value of a property that doesn’t exist.</p>
<p>9. There are lots of handy string ________ you can use.</p>
<p>11. The _______ operator tests two values to see if they’re equal, after trying to convert the operands to the same type.</p>
<p>14. null == undefined</p>
<p>15. To find a specific character at an index in a string, use the ______ method.</p></td></tr></tbody></table></div></div><div class="sidebar"><a id="who_am_iquestion_mark-id00106"></a><p class="title">Who am I?</p><div class="informalfigure"><a id="med_id00525a"></a><div class="mediaobject"><a id="med_id00525"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2112762.png.jpg" alt="image with no caption" width="134" height="171"></div></div><p><a id="iddle2644" class="indexterm"></a><a id="iddle2919" class="indexterm"></a><a id="iddle2953" class="indexterm"></a>A bunch of JavaScript values and party crashers, in full costume, are playing a party game, “Who am I?” They give you a clue, and you try to guess who they are, based on what they say. Assume they always tell the truth about themselves. Fill in the blank next to each sentence with the name of one attendee. We’ve already guessed one of them.</p><p><span class="strong"><strong>Here’s our solution:</strong></span></p><div class="informalfigure"><a id="med_id00526a"></a><div class="mediaobject"><a id="med_id00526"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113358.png.jpg" alt="image with no caption" width="604" height="439"></div></div></div><div class="sidebar"><a id="in_the_laboratory_solution"></a><p class="title">In the Laboratory Solution</p><div class="informalfigure"><a id="med_id00527a"></a><div class="mediaobject"><a id="med_id00527"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113360.png.jpg" alt="image with no caption" width="149" height="302"></div></div><p><a id="iddle2893" class="indexterm"></a>In the laboratory we like to take things apart, look under the hood, poke and prod, hook up our diagnostic tools and check out what is really going on. Today, we’re investigating JavaScript’s type system and we’ve found a little diagnostic tool called <span class="strong"><strong>typeof</strong></span> to examine variables. Put your lab coat and safety goggles on, and come on in and join us.</p><p>The <span class="strong"><strong>typeof</strong></span> operator is built into JavaScript. You can use it to probe the type of its operand (the thing you use it to operate on). Here’s an example:</p><div class="informalfigure"><a id="med_id00528a"></a><div class="mediaobject"><a id="med_id00528"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113362.png.jpg" alt="image with no caption" width="680" height="194"></div></div><p>Now it’s your turn. Collect the data for the following experiments:</p><div class="informalfigure"><a id="med_id00529a"></a><div class="mediaobject"><a id="med_id00529"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113364.png.jpg" alt="image with no caption" width="805" height="397"></div></div></div><div class="sidebar"><a id="back_in_the_laboratory_solution"></a><p class="title">Back in the Laboratory Solution</p><p><a id="iddle2913" class="indexterm"></a><a id="iddle2924" class="indexterm"></a>Oops, we forgot null in our test data. Here’s the missing test case:</p><a id="pro_id00088"></a><pre class="programlisting"><span class="strong"><strong>var test10 = null;</strong></span>
<span class="strong"><strong>console.log(typeof test10);</strong></span></pre><div class="informalfigure"><a id="med_id00530a"></a><div class="mediaobject"><a id="med_id00530"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113366.png.jpg" alt="image with no caption" width="505" height="171"></div></div></div><div class="sidebar"><a id="exercise_solution-id00107"></a><p class="title">Exercise Solution</p><p>We’ve been looking at some rather, um, interesting, values so far in this chapter. Now, let’s take a look at some interesting behavior. Try adding the code below to the &lt;script&gt; element in a basic web page and see what you get in the console when you load up the page. You won’t get why yet, but see if you can take a guess about what might be going on.</p><a id="pro_id00089"></a><pre class="programlisting"><span class="strong"><strong>if (99 == "99") {</strong></span>
    <span class="strong"><strong>console.log("A number equals a string!");</strong></span>
<span class="strong"><strong>} else {</strong></span>
    <span class="strong"><strong>console.log("No way a number equals a string");</strong></span>
<span class="strong"><strong>}</strong></span></pre><div class="informalfigure"><a id="med_id00531a"></a><div class="mediaobject"><a id="med_id00531"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113368.png.jpg" alt="image with no caption" width="397" height="174"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00108"></a><p class="title">Sharpen your pencil Solution</p><p><a id="iddle1557" class="indexterm"></a><a id="iddle1562" class="indexterm"></a><a id="iddle2823" class="indexterm"></a><a id="iddle2907" class="indexterm"></a><a id="iddle3168" class="indexterm"></a><a id="iddle3173" class="indexterm"></a><span class="strong"><strong>For each comparison below write true or false below the operators == or === to represent the result of the comparison:</strong></span></p><div class="informalfigure"><a id="med_id00532a"></a><div class="mediaobject"><a id="med_id00532"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113370.png.jpg" alt="image with no caption" width="803" height="324"></div></div></div><div class="sidebar"><a id="who_does_whatquestion_mark_solut-id00109"></a><p class="title">Who Does What? Solution</p><p>We had our descriptions for these operators all figured out, and then they got all mixed up. Can you help us figure out who does what? Be careful, we’re not sure if each contender matches zero, one or more descriptions. Here’s our solution:</p><div class="informalfigure"><a id="med_id00533a"></a><div class="mediaobject"><a id="med_id00533"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113372.png.jpg" alt="image with no caption" width="647" height="335"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00110"></a><p class="title">Sharpen your pencil Solution</p><p><a id="iddle1355" class="indexterm"></a><a id="iddle2284" class="indexterm"></a><a id="iddle2626" class="indexterm"></a><a id="iddle2836" class="indexterm"></a><a id="iddle2909" class="indexterm"></a>For each expression below, write the result in the blank next to it. We’ve done one for you. Here’s our solution.</p><div class="informalfigure"><a id="med_id00534a"></a><div class="mediaobject"><a id="med_id00534"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113374.png.jpg" alt="image with no caption" width="749" height="409"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00111"></a><p class="title">Sharpen your pencil Solution</p><p><a id="iddle1225" class="indexterm"></a><a id="iddle1666" class="indexterm"></a><a id="iddle2887" class="indexterm"></a><a id="iddle2889" class="indexterm"></a>Time for a quick lie detector test. Figure out how many lies the perp tells, and whether the perp is guilty as charged, by determining which values are truthy and which values are falsey. Here’s our solution. Did you try these out in the browser yourself?</p><div class="informalfigure"><a id="med_id00535a"></a><div class="mediaobject"><a id="med_id00535"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113376.png.jpg" alt="image with no caption" width="795" height="828"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00112"></a><p class="title">Sharpen your pencil Solution</p><p><a id="iddle2486" class="indexterm"></a><a id="iddle2899" class="indexterm"></a>Here’s a little code that helps find cars in Earl’s Used Autos parking lot. Trace through this code and write the values of loc1 through loc4 below.</p><div class="informalfigure"><a id="med_id00536a"></a><div class="mediaobject"><a id="med_id00536"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113378.png.jpg" alt="image with no caption" width="751" height="761"></div></div></div><div class="sidebar"><a id="in_the_laboratorycomma_again_solution"></a><p class="title">In the Laboratory, Again Solution</p><div class="informalfigure"><a id="med_id00537a"></a><div class="mediaobject"><a id="med_id00537"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113380.png.jpg" alt="image with no caption" width="149" height="302"></div></div><p><a id="iddle2104" class="indexterm"></a><a id="iddle2894" class="indexterm"></a><a id="iddle2901" class="indexterm"></a>The lab crew continues to probe JavaScript using the <span class="strong"><strong>typeof</strong></span> operator and they’re uncovering some more interesting things deep within the language. In the process, they’ve discovered a new operator, <span class="strong"><strong>instanceof</strong></span>. With this one, they’re truly on the cutting edge. Put your lab coat and safety goggles back on and see if you can help decipher this JavaScript and the results. <span class="emphasis"><em>Warning: this is definitely going to be the weirdest code you’ve seen so far.</em></span></p><div class="informalfigure"><a id="med_id00538a"></a><div class="mediaobject"><a id="med_id00538"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113382.png.jpg" alt="image with no caption" width="805" height="691"></div></div></div><div class="sidebar"><a id="javascript_cross_solution-id00113"></a><p class="title">JavaScript cross Solution</p><p>You’re really expanding your JavaScript skills. Do a crossword to help it all sink in. All the answers are from this chaper. Here’s our solution.</p><div class="informalfigure"><a id="med_id00539a"></a><div class="mediaobject"><a id="med_id00539"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781449340124/files/httpatomoreillycomsourceoreillyimages2113384.png" alt="image with no caption" width="633" height="432"></div></div></div></div></div></div></div></div><link rel="stylesheet" href="/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="/api/v2/epubs/urn:orm:book:9781449340124/files/core.css" crossorigin="anonymous"></div></div></section>
</div>

https://learning.oreilly.com
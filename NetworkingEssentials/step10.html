<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section epub:type="chapter">
        <div class="chap">
        <h2 class="h2" id="ch10"><span epub:type="pagebreak" id="page_524"></span><span class="big">10</span><br>CHAPTER</h2>
        </div>
        <div class="chap1">
        <h2 class="h2a">Managing the Network Infrastructure</h2>
        </div>
        <div class="chap-out">
        <p class="chap-out-t" id="ch10-chap-out"><span epub:type="pagebreak" id="page_525"></span>Chapter Outline</p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec1">10-1 Introduction</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec2">10-2 Domain Name and IP Address Assignment</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec3">10-3 IP Address Management with DHCP</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec4">10-4 Scaling a Network with NAT and PAT</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec5">10-5 Domain Name System (DNS)</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec6">10-6 Network Management Protocols</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec7">10-7 Analyzing Network Traffic</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec8">10-8 Network Analyzer: Wireshark</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec9">10-9 Analyzing Computer Networks: FTP Data Packets</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec10">10-10 Troubleshooting IP Networks</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec11">Summary</a></p>
        <p class="chap-lev"><a href="ch10.xhtml#ch10lev1sec12">Questions and Problems</a></p>
        <p class="chap-out-t" id="ch10-chap-obj">Objectives</p>
        <ul class="bullet">
        <li><p class="chap-obj">Describe the purpose of a remote access server</p></li>
        <li><p class="chap-obj">Describe Metro Ethernet and Carrier Ethernet and related services types</p></li>
        <li><p class="chap-obj">Describe the purpose of DHCP and DNS network services</p></li>
        <li><p class="chap-obj">Discuss Internet routing with BGP</p></li>
        <li><p class="chap-obj">Describe Internet data traffic</p></li>
        </ul>
        <p class="chap-out-t" id="ch10-chap-key">Key Terms</p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key1">wide area network (WAN)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key2">IANA</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key3">gTLD</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key4">ccTLD</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key5">.int</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key6">in-addr.arpa</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key7">RIR</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key8">AS</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key9">ICANN</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key10">ARIN</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key11">domain registrar</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key12">BOOTP</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key13">DHCP</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key14">lease time</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key15">DHCP Discover</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key16">DHCP Offer</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key17">DHCP Request</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key18">DHCP ACK</a></p>
        <p class="chap-key">DHCP Relay</p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key19"><strong>ipconfig /release</strong></a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key20"><strong>ipconfig /renew</strong></a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key21">APIPA</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key22">unicast</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key23"><strong>ip helper</strong></a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key24">MT Discover</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key25">MT Offer</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key26">MT Request</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key27">MT ACK</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key28">SOHO</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key29">NOC</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key30">NAT</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key31">PAT</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key32">DNS</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key33">forward DNS lookup (forward lookup)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key34">reverse DNS lookup (reverse lookup)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key35">TLD</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key36">country domain</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key37">root DNS servers</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key38">RR</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key39"><strong>nslookup</strong> and <strong>dig</strong></a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key40">SOA</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key41">A record (Address record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key42">PTR record (Pointer record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key43">CNAME record (Canonical Name record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key44">NS record (Name Server record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key45">MX record (Mail Exchange record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key46">TXT record (Text record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key47">SPF</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key48">DKIM</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key49">SRV record (Service record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key50">AAAA record (Quad-A record)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key51">IPAM (IP address management)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key52">SNMP (SNMPv1)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key53">management information base (MIB)</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key54">SNMPv2</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key55">SNMPv3</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key56">outbound data traffic</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key57">inbound data traffic</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key58">Wireshark</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key59">Address Resolution Protocol (ARP)</a></p>
        <span epub:type="pagebreak" id="page_526"></span>
        <p class="chap-key"><a href="ch10.xhtml#ch10key60">ARP reply</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key61">echo request</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key62">FTP</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key63">SFTP</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key64">BYOD</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key65">IoT</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key66">smart device</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key67">bottom-to-top (or bottom-up) approach</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key68">top-to-bottom (or top-down) approach</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key69">divide-and-conquer approach</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key70">spot-the-difference approach</a></p>
        <p class="chap-key"><a href="ch10.xhtml#ch10key71">DHCP snooping</a></p>
        </div>
        <p class="noindent">This chapter examines concepts and technologies related to establishing <a id="ch10key1" href="glossary.xhtml#glo678"><span class="gray_kt"><strong>wide area network (WAN)</strong></span></a> connections. WANs use the telecommunications network to interconnect sites that are geographically distributed throughout a region, a country, or even the world. Connections can include extensions of the campus LAN to remote members of the network. For example, the corporate office for a company could be located in one part of a state, and the engineering, manufacturing, and sales sites could be at different locations in the state. <a href="ch10.xhtml#ch10fig01">Figure 10-1</a> shows an example of a WAN, with connections for the Internet, a Frame Relay network, a virtual private network (VPN), and remote client access through a remote access server.</p>
        <figure class="image" id="ch10fig01">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig01.jpg" aria-describedby="Alch10fig01" alt="Illustration shows an example of a wide area network with LANs." width="690" height="513">
        <aside class="hidden" id="Alch10fig01">
        <p>Four LANs, "LAN A, LAN B, LAN C, and LAN D," are shown. A switch connects port 18 of LAN A to A1 and A2 labeled, "VPN Remote and Remote Access Server." The Remote Access server is connected to a Remote Client to its right. In LAN B, a switch connects B1 and B2 from port 18 and port 21. In LAN C, the switch connects C1 from port 14 and C2 is connected from the port 23. In LAN D, a switch connects D1 from port 14 and a VPN Tunnel Server from port 23. From port 24, in LAN A, the data is transmitted to the router A through E0 and IP address 10.10.20.0 NET. From port 23 in the LAN B, the data is transmitted to the Router B, through E0 and IP address 10.10.10.0 NET. In LAN C the data is transmitted to Router B from port 13 through port E1 and IP address 10.10.1.0 NET. In LAN D the data is transmitted to Router C from port 13 through E0 and IP address 192.168.1.NET. Router A transmits the data from Router A to Router X through E2 and E0 with IP Address: 10.10.200.0 NET. From Border C it transmits the date to CSU/DSU through S1 and IP: AS 65088. Two CSU/DSU devices are interconnected through the internet connection 172.42.69.0 NET. From CSU/DCU, the data is transmitted to Border Y through S1 and AS65089. From Router Y, E0 transmits the data to Router C, E1 through 192.168.1.192. From Router A to Router B, the data is transmitted to Router B through S0 and through the WI-FI Network: 10.10.100.0 NET.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-1</strong></span> An example of a wide area network.</p>
        </figcaption>
        </figure>
        <div class="box">
        <p class="box-title">Wide Area Network (WAN)</p>
        <p class="box-para">A network that uses the telecommunications network to interconnect sites that are geographically distributed throughout a region, a country, or the world</p>
        </div>
        <section>
        <h3 class="h3" id="ch10lev1sec1"><span epub:type="pagebreak" id="page_527"></span><span class="space">10-1</span> Introduction</h3>
        <p class="noindent"><a href="ch10.xhtml#ch10lev1sec2">Section 10-2</a>, “<a href="ch10.xhtml#ch10lev1sec2">Domain Name and IP Address Assignment</a>,” provides an introduction to configuring and managing the network infrastructure. This section also reviews the functions of IANA, which has been set up to be in charge of domain name management, number resources management, and protocol assignments. This section also looks at ARIN, which also assigns IP addresses.</p>
        <p class="noindent"><a href="ch10.xhtml#ch10lev1sec3">Section 10-3</a>, “<a href="ch10.xhtml#ch10lev1sec3">IP Address Management with DHCP</a>,” examines how point-to-point dial-in connections are established using a phone modem, cable modem, Digital Subscriber Line (DSL) service, and other technologies.</p>
        <p class="noindent"><a href="ch10.xhtml#ch10lev1sec4">Section 10-4</a>, “<a href="ch10.xhtml#ch10lev1sec4">Scaling a Network with NAT and PAT</a>,” describes the use of Ethernet as a WAN connection; this technology is called Metro Ethernet or Carrier Ethernet. <a href="ch10.xhtml#ch10lev1sec5">Section 10-5</a>, “<a href="ch10.xhtml#ch10lev1sec5">Domain Name System (DNS)</a>,” provides a look at both the DHCP and DNS network services. <a href="ch10.xhtml#ch10lev1sec6">Section 10-6</a>, “<a href="ch10.xhtml#ch10lev1sec6">Network Management Protocols</a>,” provides an overview of issues related to WAN routing and examines BGP, which is used for routing Internet data traffic. <a href="ch10.xhtml#ch10lev1sec7">Section 10-7</a>, “<a href="ch10.xhtml#ch10lev1sec7">Analyzing Network Traffic</a>,” includes an example of using a network protocol analyzer to examine Internet data traffic entering and exiting a campus LAN. <a href="ch10.xhtml#ch10lev1sec8">Section 10-8</a>, “<a href="ch10.xhtml#ch10lev1sec8">Network Analyzer: Wireshark</a>,” examines the use of the Wireshark network analyzer, which is a very important tool for managing traffic. <a href="ch10.xhtml#ch10lev1sec9">Sections 10-9</a>, “<a href="ch10.xhtml#ch10lev1sec9">Analyzing Computer Networks: FTP Data Packets</a>,” explores the data packet contents of an FTP data transfer. The chapter concludes with <a href="ch10.xhtml#ch10lev1sec10">Section 10-10</a>, “<a href="ch10.xhtml#ch10lev1sec10">Troubleshooting IP Networks</a>,” which looks at techniques and issues involved in troubleshooting modern computer networks.</p>
        <p class="noindent"><a href="ch10.xhtml#ch10tab01">Table 10-1</a> outlines the CompTIA Network+ objectives related to this chapter and identifies the chapter section that covers each objective. At the end of each chapter section you will find a review with comments on the Network+ objectives presented in that section. These comments are provided to help reinforce your understanding of each Network+ objective. The chapter review also includes “Test Your Knowledge” questions to help you understand key concepts before you advance to the next section of the chapter. At the end of the chapter you will find a complete set of questions as well as sample certification exam-type questions.</p>
        <figure class="table" id="ch10tab01">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 10-1</span> <strong><a href="ch10.xhtml#ch10">Chapter 10</a> CompTIA Network+ Objectives</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Domain/Objective Number</p></th>
        <th class="borderb"><p class="tab-para">Domain/Objective Description</p></th>
        <th class="borderb"><p class="tab-para">Section Where Objective Is Covered</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Networking Fundamentals</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.1</p></td>
        <td class="borderb"><p class="tab-para">Compare and contrast the Open Systems Interconnection (OSI) model layers and encapsulation concepts.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec7">10-7</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.4</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec3">10-3</a>, <a href="ch10.xhtml#ch10lev1sec4">10-4</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.5</p></td>
        <td class="borderb"><p class="tab-para">Explain common ports and protocols, their application, and encrypted alternatives.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec2">10-2</a>, <a href="ch10.xhtml#ch10lev1sec3">10-3</a>, <a href="ch10.xhtml#ch10lev1sec5">10-5</a>, <a href="ch10.xhtml#ch10lev1sec8">10-8</a>, <a href="ch10.xhtml#ch10lev1sec9">10-9</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.6</p></td>
        <td class="borderb"><p class="tab-para">Explain the use and purpose of network services.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec3">10-3</a>, <a href="ch10.xhtml#ch10lev1sec5">10-5</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>2.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Implementations</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">2.1</p></td>
        <td class="borderb"><p class="tab-para">Compare and contrast various devices, their features, and their appropriate placement on the network.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec8">10-8</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>3.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Operations</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">3.1</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec6">10-6</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>4.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Security</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">4.3</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, apply network hardening techniques.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec10">10-10</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>5.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Troubleshooting</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">5.1</p></td>
        <td class="borderb"><p class="tab-para">Explain the network troubleshooting methodology.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec9">10-9</a>, <a href="ch10.xhtml#ch10lev1sec10">10-10</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">5.3</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, use the appropriate network software tools and commands.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec6">10-6</a>, <a href="ch10.xhtml#ch10lev1sec7">10-7</a>, <a href="ch10.xhtml#ch10lev1sec8">10-8</a>, <a href="ch10.xhtml#ch10lev1sec9">10-9</a>, <a href="ch10.xhtml#ch10lev1sec10">10-10</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">5.5</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, troubleshoot general networking issues.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch10.xhtml#ch10lev1sec10">10-10</a></p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <span epub:type="pagebreak" id="page_528"></span>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec2"><span class="space">10-2</span> Domain Name and IP Address Assignment</h3>
        <p class="noindent">This section looks at configuring and managing the network infrastructure. The general population uses two key elements when accessing websites on the Internet: the Internet name of the website and the public IP address of that site. These two elements go hand in hand. People generally connect to Internet services via Internet hostnames (for example, <a href="http://www.example.com">www.example.com</a>), but behind the scenes, the Internet name is translated to a public IP address. Both the IP address assignment and the Internet domain name are governed at the highest level by the Internet Assigned Numbers Authority (<a id="ch10key2" href="glossary.xhtml#glo265"><span class="gray_kt"><strong>IANA</strong></span></a>).</p>
        <div class="box">
        <p class="box-title">IANA</p>
        <p class="box-para">Internet Assigned Numbers Authority, an organization that governs IP address assignment and Internet domain names</p>
        </div>
        <p class="noindent">IANA, which is one of the Internet’s oldest organizations, was set up to be in charge of the Internet management authorities or registration authorities. IANA has three primary functions:</p>
        <ul class="bullet">
        <li><p class="bull"><strong>Domain name management:</strong> IANA manages the DNS root zone for the generic (g) top-level domains (<a id="ch10key3" href="glossary.xhtml#glo237"><span class="gray_kt"><strong>gTLDs</strong></span></a>), such as .com, .net, .org, and .info, and country-code (cc) top-level domains (<a id="ch10key4" href="glossary.xhtml#glo90"><span class="gray_kt"><strong>ccTLDs</strong></span></a>), such as .us, .uk, and .au. IANA maintains the <a id="ch10key5" href="glossary.xhtml#glo284"><span class="gray_kt"><strong>.int</strong></span></a> (intergovernmental) domain registries, which are exclusive registrations for intergovernmental treaty organizations, such as United Nations (un.int) and NATO (nato.int). IANA maintains the .arpa domain registries, which include the in-addr.arpa domain. <a id="ch10key6" href="glossary.xhtml#glo276"><span class="gray_kt"><strong>in-addr.arpa</strong></span></a> is the reverse DNS lookup for IPv4 addresses on the Internet. IANA also maintains the Repository of IDN (Internationalized Domain Name) Practices, which is <span epub:type="pagebreak" id="page_529"></span>known as the <em>language table registry</em>. This repository allows for domain name registration containing international characters (for example, müller.info).</p>
        <div class="box">
        <p class="box-title">gTLD</p>
        <p class="box-para">A generic (g) top-level domain</p>
        <p class="box-title">ccTLDs</p>
        <p class="box-para">A country-code (cc) top-level domain</p>
        <p class="box-title">.int</p>
        <p class="box-para">An intergovernmental domain registry</p>
        <p class="box-title">in-addr.arpa</p>
        <p class="box-para">The reverse DNS lookup for IPv4 addresses on the Internet</p>
        </div></li>
        <li><p class="bull"><strong>Number resources management:</strong> IANA coordinates the global pool of IP addresses, which include both IPv4 and IPv6 addresses. To coordinate the global effort of IP address allocation more effectively, IANA delegates the allocation to the regional Internet registries (<a id="ch10key7" href="glossary.xhtml#glo506"><span class="gray_kt"><strong>RIR</strong></span></a>), each of which is responsible for a different area. The five RIRs accounting for the different regions of the world are as follows:</p>
        <ul class="bullet1">
        <li><p class="bull"><strong>AfriNIC:</strong> Africa Region</p></li>
        <li><p class="bull"><strong>APNIC:</strong> Asia/Pacific Region</p></li>
        <li><p class="bull"><strong>ARIN:</strong> North America Region</p></li>
        <li><p class="bull"><strong>LACNIC:</strong> Latin America and some Caribbean Islands</p></li>
        <li><p class="bull"><strong>RIPE NCC:</strong> Europe, the Middle East, and Central Asia</p></li>
        </ul>
        <div class="box">
        <p class="box-title">RIR</p>
        <p class="box-para">Regional Internet registry, one of five organizations that are responsible for IP address allocation</p>
        </div>
        <p class="bull">IANA is also responsible for allocation of <a id="ch10key8" href="glossary.xhtml#glo44"><span class="gray_kt"><strong>AS</strong></span></a> (autonomous system) numbers, which are used with BGP to route Internet traffic. ASNs are allocated to the RIRs in the same manner as IP addresses.</p>
        <div class="box">
        <p class="box-title">AS</p>
        <p class="box-para">Autonomous system</p>
        </div></li>
        <li><p class="bull"><strong>Protocol assignment:</strong> IANA is also responsible for maintaining the registries of protocol names and numbers used on the Internet today. IANA manages these protocol numbering systems in conjunction with standards bodies.</p></li>
        </ul>
        <p class="noindent">Today, IANA is working with support from the Internet Corporation for Assigned Names and Numbers (<a id="ch10key9" href="glossary.xhtml#glo267"><span class="gray_kt"><strong>ICANN</strong></span></a>). IANA and ICANN do not directly allocate IP address space or register domain names for the general public. In North America, IP addresses are assigned by the American Registry for Internet Numbers (<a id="ch10key10" href="glossary.xhtml#glo38"><span class="gray_kt"><strong>ARIN</strong></span></a>; <a href="https://www.arin.net">https://www.arin.net</a>). ARIN assigns IP address space to Internet service providers (ISPs) and end users that qualify by being large enough to merit a block of addresses.</p>
        <div class="box">
        <p class="box-title">ICANN</p>
        <p class="box-para">Internet Corporation for Assigned Names and Numbers</p>
        <p class="box-title">ARIN</p>
        <p class="box-para">American Registry for Internet Numbers, the North American organization that assigns IP addresses to ISPs and end users that are large enough to merit blocks of addresses</p>
        </div>
        <p class="noindent">When ARIN allocates a block of addresses to an ISP, the ISP then issues addresses to its customers. For example, an ISP called Telco might have a large block of IP addresses and issue one of them to a user. ARIN also assigns blocks of IP addresses to local ISPs that have large numbers of users.</p>
        <p class="noindent">ARIN also assigns end users’ IP addresses. Once again, an end user must qualify to receive a block of addresses from ARIN, which usually means the end user must be large. For example, many universities and large businesses can receive blocks of IP addresses from ARIN. However, most end users get their IP addresses from an ISP (such as a telco) or have IP addresses assigned dynamically when they connect to the ISP.</p>
        <p class="noindent">Today, available IPv4 address space is limited, and it is expected to be totally depleted within a few years. As a result, it has become increasingly difficult to acquire IPv4 space from ARIN. In fact, it is nearly impossible to acquire Class B IP space today. It is possible to buy a pool of IP addresses from an ISP, but the larger the IP range, the more expensive it is. There is good news, however: There are abundant IPv6 addresses available, and it is much easier to acquire IPv6 address <span epub:type="pagebreak" id="page_530"></span>space than to acquire IPv4 space. There is a big push by the Internet community to transition to IPv6.</p>
        <p class="noindent">An Internet hostname is a subset of an Internet domain name. For example, <a href="http://www.example.com">www.example.com</a> is a web server for the domain example.com. The Internet domain name is the identity of the organization. The first step in obtaining an Internet domain name is to find a domain name registrar. The <a id="ch10key11" href="glossary.xhtml#glo166"><span class="gray_kt"><strong>domain registrar</strong></span></a> has control over the granting of domains within certain top-level domains (TLDs). IANA and ICANN do not directly register domain names for the general public. ICANN delegates the TLD registry to other companies or organizations. A couple of the most notable TLD registrars are Educause, which is an organization operating the .edu TLD, and Verisign, which is a company authorized to operate the TLDs .com and .net. Verisign delegates the responsibilities further to other domain registrars, such as networksolutions.com, godaddy.com, and tucows.com.</p>
        <div class="box">
        <p class="box-title">Domain Registrar</p>
        <p class="box-para">An organization that has control over the granting of domains within certain top-level domains</p>
        </div>
        <p class="noindent">An Internet domain can be purchased from any of these registrars. When you visit a registrar’s website, you can input a domain name to have the registrar check whether that domain name is available. If the domain name is available, you are prompted to complete an application for the domain name and enter the DNS servers that are to be used to host the domain. The DNS servers will be assigned IP addresses and names. When the network’s DNS servers are placed online, the root servers will point to the network’s DNS servers. Those DNS servers then become the authoritative DNS servers for the domain.</p>
        <p class="noindent">The registration for both the IP address and the Internet domain name can be verified using the whois protocol in a Linux environment. The whois protocol queries databases that store user registration information for an Internet domain name and IP space. The whois information includes ownership information such as the point of contact. There are many whois servers that are accessible via a web interface, and all of them derive from the simple UNIX command <strong>whois</strong>, which is still available today. The following example shows the result of entering the <strong>whois</strong> command at a UNIX prompt for the domain example.com:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-1a" id="pre10-1">Click here to view code image</a></p>
        <pre class="pre1">[admin@noc ~]$ <strong>whois example.com</strong>
        Domain Name: EXAMPLE.COM
           Registry Domain ID: 2336799_DOMAIN_COM-VRSN
           Registrar WHOIS Server: whois.iana.org
           Registrar URL: <a href="http://res-dom.iana.org">http://res-dom.iana.org</a>
           Updated Date: 2020-08-14T07:02:37Z
           Creation Date: 1995-08-14T04:00:00Z
           Registry Expiry Date: 2021-08-13T04:00:00Z
           Registrar: RESERVED-Internet Assigned Numbers Authority
           Registrar IANA ID: 376
           Registrar Abuse Contact Email:
           Registrar Abuse Contact Phone:
           Domain Status: clientDeleteProhibited
        https://icann.org/epp#clientDeleteProhibited
           Domain Status: clientTransferProhibited
        https://icann.org/epp#clientTransferProhibited
           Domain Status: clientUpdateProhibited
        https://icann.org/epp#clientUpdateProhibited
           Name Server: A.IANA-SERVERS.NET
           Name Server: B.IANA-SERVERS.NET
        &gt;&gt;&gt; Last update of whois database: 2021-05-24T03:59:37Z &lt;&lt;&lt;
        </pre>
        <span epub:type="pagebreak" id="page_531"></span>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec1">Section 10-2 Review</p>
        <p class="s-para">This section covers the following Network+ exam objective.</p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em>This section introduces the Domain Name System (DNS).</em></p>
        <p class="sidebar-title1" id="ch10lev2sec2">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">The IP address assignment and the Internet domain name are governed at the highest level by what agency?</p></li>
        <li><p class="num">What are the three functions of IANA?</p></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec3"><span class="space">10-3</span> IP Address Management with DHCP</h3>
        <p class="noindent">An IP address is one of the most basic pieces of information needed for a computer to communicate on a network. An IP address can be either configured manually or assigned dynamically. In the manual process, a network administrator assigns an IP address to a user computer. Then either the administrator or the user has to configure the computer’s network settings with the assigned IP address along with other network parameters, such as the subnet mask, default gateway, domain name, and domain name servers. This can be a tedious process, especially when it involves multiple machines.</p>
        <p class="noindent">The IP address assignment process can be automated to some extent by using a program called <a id="ch10key12" href="glossary.xhtml#glo63"><span class="gray_kt"><strong>BOOTP</strong></span></a>. BOOTP, which stands for <em>Bootstrap Protocol</em>, enables a computer to discover its own IP address. When a client requests an IP address, it is assigned to the Ethernet address (MAC address) based on the BOOTP record. In this case, the IP and MAC addresses have a one-to-one relationship.</p>
        <div class="box">
        <p class="box-title">BOOTP</p>
        <p class="box-para">Bootstrap Protocol, a protocol that enables a computer to discover its own IP address</p>
        </div>
        <p class="noindent">Dynamic Host Configuration Protocol (<a id="ch10key13" href="glossary.xhtml#glo147"><span class="gray_kt"><strong>DHCP</strong></span></a>) simplifies the steps for IP assignment even further. DHCP’s function is to assign a pool of IP addresses to requesting clients. DHCP is a superset of BOOTP and runs on the same port numbers. In this process, DHCP requests an IP address from the DHCP server. The DHCP server retrieves an available IP address from a pool dedicated to the subnet of the <span epub:type="pagebreak" id="page_532"></span>requesting client. The IP address is passed to the client, and the server specifies a length of time that the client can hold the address. This is called the <a id="ch10key14" href="glossary.xhtml#glo324"><span class="gray_kt"><strong>lease time</strong></span></a>. This feature keeps an unused computer from unnecessarily tying up an IP address.</p>
        <div class="box">
        <p class="box-title">DHCP</p>
        <p class="box-para">Dynamic Host Configuration Protocol, a protocol that assigns a pool of IP addresses to requesting clients</p>
        </div>
        <div class="box">
        <p class="box-title">Lease Time</p>
        <p class="box-para">The amount of time that a client can hold an IP address</p>
        </div>
        <p class="noindent">When a computer is configured to obtain an IP address automatically or to use the DHCP option, the process of requesting an IP address with DHCP is as follows:</p>
        <ol class="number">
        <li><p class="num">The client boots up and sends out a <a id="ch10key15" href="glossary.xhtml#glo149"><span class="gray_kt"><strong>DHCP Discover</strong></span></a> message. This is a broadcast, meaning that the message is sent to all computers in the LAN.</p></li>
        <li><p class="num">A DHCP server listening on the LAN takes the DHCP Discover message, retrieves an available IP address from the address pool, and sends the address to the client via a <a id="ch10key16" href="glossary.xhtml#glo150"><span class="gray_kt"><strong>DHCP Offer</strong></span></a> message. The server sends the IP address, and the server sends the lease time and other necessary network parameters, such as subnet mask, default gateway, and domain name server.</p></li>
        <li><p class="num">The client receives the DHCP Offer message from the server and agrees to use the lease. It replies back to the server with a <a id="ch10key17" href="glossary.xhtml#glo151"><span class="gray_kt"><strong>DHCP Request</strong></span></a> to formally request and confirm the offered IP with the server.</p></li>
        <li><p class="num">The server receives the DHCP Request message and sends back a <a id="ch10key18" href="glossary.xhtml#glo148"><span class="gray_kt"><strong>DHCP ACK</strong></span></a> message, which is a unicast packet acknowledging the request of the IP address information.</p></li>
        <li><p class="num">The client applies the IP address and its network settings to the computer, and it is ready to make network connections.</p></li>
        </ol>
        <div class="box">
        <p class="box-title">DHCP Discover</p>
        <p class="box-para">A broadcast message that is sent to all computers in a LAN</p>
        <p class="box-title">DHCP Offer</p>
        <p class="box-para">A message sent by a DHCP server listening on the LAN takes the DHCP Discover message, retrieves an available IP address from the address pool, and sends the address to the client. This includes the lease time and other necessary network parameters, such as subnet mask, default gateway, and domain name server</p>
        <p class="box-title">DHCP Request</p>
        <p class="box-para">A message sent by a DHCP client to formally request and confirm the offered IP address with the server</p>
        <p class="box-title">DHCP ACK</p>
        <p class="box-para">A unicast packet sent back to a DHCP client with the same IP address information</p>
        </div>
        <p class="noindent"><a href="ch10.xhtml#ch10fig02">Figure 10-2</a> provides an example of this process.</p>
        <figure class="image" id="ch10fig02">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig02.jpg" aria-describedby="Alch10fig02" alt="Figure shows an example for DHCP and Client server in a LAN." width="413" height="326">
        <aside class="hidden" id="Alch10fig02">
        <p>Two blocks, "Client and DHCP Server," are shown. The Client sends a Request to DHCP Server labeled, "DHCP Request (Broadcast)." The DHCP Server sends a request to the client labeled, "Returns IP Address."</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-2</strong></span> An example of a DHCP server and client in the same LAN.</p>
        </figcaption>
        </figure>
        <p class="noindent"><span epub:type="pagebreak" id="page_533"></span>When a computer boots up, its network software automatically engages in a DHCP process. This process can also be invoked by using the command line. In Windows, the command <a id="ch10key19" href="glossary.xhtml#glo299"><span class="gray_kt"><strong>ipconfig /release</strong></span></a> can be used to release the current IP address, and the command <a id="ch10key20" href="glossary.xhtml#glo300"><span class="gray_kt"><strong>ipconfig /renew</strong></span></a> can be used to initiate the DHCP process. But what happens if the DHCP server is not available? In a situation where a DHCP server isn’t available, the Windows operating system can automatically self-configure its IP address and subnet mask, through a process called Automatic Private IP Addressing (<a id="ch10key21" href="glossary.xhtml#glo34"><span class="gray_kt"><strong>APIPA</strong></span></a>). APIPA uses the Class B IP address space 169.254.0.0/16, which ranges from 169.254.0.0 to 169.254.255.255. In addition, you can use an IP reservation to assign to a networking device an IP address that never changes.</p>
        <div class="box">
        <p class="box-title">ipconfig /release</p>
        <p class="box-para">A command used to release the current IP address</p>
        <p class="box-title">ipconfig /renew</p>
        <p class="box-para">A command used to initiate the DHCP proces</p>
        </div>
        <div class="box">
        <p class="box-title">APIPA</p>
        <p class="box-para">Automatic Private IP Addressings</p>
        </div>
        <p class="noindent">What if a DHCP server is on the other side of the router (for example, not in the same LAN)? Remember that routers don’t pass broadcast addresses, so the DHCP broadcast is not forwarded. This situation requires that a DHCP relay be used, as shown in <a href="ch10.xhtml#ch10fig03">Figure 10-3</a>. The DHCP relay sits on the same LAN as the client. It listens for DHCP requests and then takes the broadcast packet and issues a packet to the network DHCP server. <a id="ch10key22" href="glossary.xhtml#glo650"><span class="gray_kt"><strong>Unicast</strong></span></a> means that the packet is issued a fixed destination and therefore is not a broadcast packet. The DHCP relay puts its LAN address in the DHCP field so the DHCP server knows what subnet the request is coming from and can properly assign an IP address. The DHCP server retrieves an available IP address for the subnet and sends the address to the DHCP relay, which forwards it to the client.</p>
        <figure class="image" id="ch10fig03">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig03.jpg" aria-describedby="Alch10fig03" alt="Figure shows the use of a DHCP relay." width="432" height="310">
        <aside class="hidden" id="Alch10fig03">
        <p>The client-server of the LAN sends the data to the DHCP router of Outside through a router labeled, "DHCP Relay," and the DHCP Router sends a command to the Client Server through DHCP Relay.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-3</strong></span> An example requiring the use of a DHCP relay.</p>
        </figcaption>
        </figure>
        <div class="box">
        <p class="box-title">Unicast</p>
        <p class="box-para">A transmission in which a packet has a fixed destination</p>
        </div>
        <p class="noindent">A Cisco router has a DHCP relay built in to its operating system. <a id="ch10key23" href="glossary.xhtml#glo292"><span class="gray_kt"><strong>ip helper</strong></span></a> is the router command you use to enable the DHCP relay:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-2a" id="pre10-2">Click here to view code image</a></p>
        <pre class="pre1">Router(config-if)# <strong>ip helper</strong> [<em>ip address of the DHCP server</em>]</pre>
        <div class="box">
        <p class="box-title">ip helper</p>
        <p class="box-para">A router command that is used to enable a router’s DHCP relay function</p>
        </div>
        <p class="noindent">Notice that this command is issued from the interface that connects to the LAN. In fact, this command can also be used to forward other User Datagram Protocol (UDP) protocols—such as TACACS, DNS, and NetBIOS—to a designated server.</p>
        <p class="noindent">DHCP is a UDP protocol and uses port 68 for the BOOTP client and port 67 for the BOOTP server. (Remember that BOOTP and DHCP use the same port numbers.) The BOOTP client is the user requesting the DHCP service. The BOOTP server is <span epub:type="pagebreak" id="page_534"></span>the DHCP server. The following section describes how these services are used in a DHCP request, where the DHCP proxy on the router listens for the packets that are going to DHCP or BOOTP port numbers.</p>
        <section>
        <h4 class="h4" id="ch10lev2sec3">The DHCP Data Packets</h4>
        <p class="noindent">This section discusses the TCP packets transferred during a DHCP request. The examples in this section use the network setup shown in <a href="ch10.xhtml#ch10fig03">Figure 10-3</a>. The data traffic in this example contains only the data packets seen by the client computer. <a href="ch10.xhtml#ch10fig04">Figure 10-4</a> shows the result of using a protocol analyzer to capture the data packets. In this example, Packet 10 is a DHCP request with message type discover (<a id="ch10key24" href="glossary.xhtml#glo370"><span class="gray_kt"><strong>MT Discover</strong></span></a>). This is also called the DHCP Discover packet. The destination for the packet is a broadcast. The message source has MAC address Dell 09B956 and IP address 0.0.0.0. The IP address is shown in the middle panel, and <em>0.0.0.0</em> indicates that an IP address has not been assigned to the computer. The source and destination ports are shown in the third panel in <a href="ch10.xhtml#ch10fig04">Figure 10-4</a>. The source port is 68, which is for the Bootstrap Protocol client (the computer requesting the IP address). The destination port is 67, the Bootstrap Protocol server (the DHCP server).</p>
        <figure class="image" id="ch10fig04">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig04.jpg" aria-describedby="Alch10fig04" alt="Screenshot shows the data of captured DHCP packets." width="700" height="432">
        <aside class="hidden" id="Alch10fig04">
        <p>The screenshot shows the "Surveyor Demo" window. In the window, the content pane displays four sections. The first section consists of a table with seven fields: ID; Status; Elapsed [sec]; Size; Destination; Source; and summary. The first row reads: 000010; 3.606.774.400; 346; Broadcast; Dell 09B956; DHCP Request; and MT = Discover is selected. In the second section, a leftward arrow pointing the Source Address: 0.0.0.0 is shown. The third section is User Datagram Protocol section. In the fourth section is the Hexadecimal section, the first row 0000: FF FF FF FF FF FF FF (Selected).</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-4</strong></span> Captured DHCP packets.</p>
        </figcaption>
        </figure>
        <div class="box">
        <p class="box-title">MT Discover</p>
        <p class="box-para">Message type discover, a DHCP Discover packet</p>
        </div>
        <p class="noindent">Packet 13 is a reply from the DHCP server, an offer of the IP address to the client. This is called the DHCP Offer packet (<a id="ch10key25" href="glossary.xhtml#glo371"><span class="gray_kt"><strong>MT Offer</strong></span></a>). This packet contains the domain name, the domain name server, the default gateway, and other network information the client may need to connect to the network. Packet 14 has message type <a id="ch10key26" href="glossary.xhtml#glo372"><span class="gray_kt"><strong>MT Request</strong></span></a>. This packet is sent from the client back to the server that has been selected to provide the DHCP service. (Note that it is possible for a campus LAN to have more than one DHCP server answering the DHCP request.) The packet is sent <span epub:type="pagebreak" id="page_535"></span>through the DHCP relay to the DHCP server. This means the client is accepting the IP address offer. Packet 15 is message type acknowledgment (<a id="ch10key27" href="glossary.xhtml#glo369"><span class="gray_kt"><strong>MT ACK</strong></span></a>). This message indicates that the DHCP server is acknowledging the client’s acceptance of the IP address from the DHCP server. The client computer now has an IP address assigned to it.</p>
        <div class="box">
        <p class="box-title">MT Offer</p>
        <p class="box-para">Message type offer, a DHCP offer packet</p>
        <p class="box-title">MT Request</p>
        <p class="box-para">Message type request, a DHCP request packet</p>
        <p class="box-title">MT ACK</p>
        <p class="box-para">Message type acknowledgment, a DHCP ACK packet</p>
        </div>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec4">DHCP Deployment</h4>
        <p class="noindent">In a small office/home office (<a id="ch10key28" href="glossary.xhtml#glo573"><span class="gray_kt"><strong>SOHO</strong></span></a>) environment, the network is typically small, and only one router is needed. In this kind of network, a router performs simple routing functions, acts as a gateway to the outside world, and manages IP assignment via DHCP. Most network routers are capable of running DHCP service, so it makes sense and is most cost-effective to deploy DHCP service at the router. The following example shows a Cisco router being configured to provide DHCP service:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-3a" id="pre10-3">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>conf t</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        RouterA(config)#
        RouterA(config)# <strong>ip dhcp pool dhcp1pool</strong>
        RouterA(dhcp-config)# <strong>network 172.20.224.0 255.255.255.0</strong>
        </pre>
        <div class="box">
        <p class="box-title">SOHO</p>
        <p class="box-para">Small office/home office</p>
        </div>
        <p class="noindent">The DHCP pool is configured with the command <strong>ip dhcp</strong> [<em>pool_name</em>]. Then, an IP network is defined as the IP address allocation pool. In this case, the IP addresses from 172.20.224.0 to 172.20.224.255 have been set aside for the address pool.</p>
        <p class="noindent">When the basic DHCP pool is set up, it is time to associate other network settings to it. The following example shows how to define the DNS server, domain name, and gateway to the DHCP pool:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-4a" id="pre10-4">Click here to view code image</a></p>
        <pre class="pre1">RouterA(dhcp-config)# <strong>dns-server 172.20.224.8</strong>
        RouterA(dhcp-config)# <strong>domain-name et477.com</strong>
        RouterA(dhcp-config)# <strong>default-router 172.20.224.1</strong>
        </pre>
        <p class="noindent">The subnet mask is already defined as part of the network.</p>
        <p class="noindent">Even though an entire Class C network is being configured for the DHCP network, a portion of it might be reserved for something else, like static IP machines and servers. The command <strong>ip dhcp [</strong><em>excluded-address</em><strong>]</strong> is used to exclude some<br>IP addresses (called an <em>exclusion range</em>) from being allocated to the DHCP devices. In this example, the IP addresses from 172.20.224.0 to 172.20.224.20 are excluded, leaving the rest of network addresses available for DHCP allocation use:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-5a" id="pre10-5">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip dhcp excluded-address 172.20.224.0 172.20.224.20</strong></pre>
        <p class="noindent">To show the available leases, you use the command <strong>show ip dhcp pool</strong>:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-6a" id="pre10-6">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip dhcp pool</strong>
        Pool dhcp1pool :
         Utilization mark (high/low): 100 / 0
         Subnet size (first/next): 0 / 0
         Total addresses: 254
         Leased addresses: 5
         Pending event  : none
         1 subnet is currently in the pool:
         Current index IP address range Leased addresses
        172.20.224.132    172.20.224.1 - 172.20.224.254    5
        </pre>
        <p class="noindent">In larger and more complex environments where there are multiple networks and multiple routers, deploying DHCP service at the routers is not as simple. Having <span epub:type="pagebreak" id="page_536"></span>to manage a different DHCP service for each network on multiple routers can be tedious, time-consuming, and inefficient. Such environments tend to use centralized DHCP service. This setup offers centralized management, which scales better and is easier to support. A typical setup involves running a DHCP service program on a centralized server. With centralized DHCP service, the IP address assignment is typically tracked by the network administrator or the network operations center (<a id="ch10key29" href="glossary.xhtml#glo411"><span class="gray_kt"><strong>NOC</strong></span></a>). The tracking information can include more than the IP and MAC addresses; it can also include the user information. The information can be kept in a central log file or in the database so that the administrator can troubleshoot network problems. For example, a machine could be causing network problems possibly due to hacked or corrupted software. The NOC needs to be able to track down the network problem(s). The NOC database holds the MAC address, the IP address, and the name of the person who uses the computer.</p>
        <div class="box">
        <p class="box-title">NOC</p>
        <p class="box-para">Network operations center</p>
        </div>
        <p class="noindent">In a large environment, DHCP pools are usually planned and preallocated. IP addresses are assigned by the NOC based on where the subnet for the computer is located. The subnet could be in a building, on a floor of a building, in a department, and so on. The subnets are created by network administrators based on the expected number of users (hosts) in a subnet (refer to <a href="ch06.xhtml#ch6">Chapter 6</a>, “<a href="ch06.xhtml#ch6">TCP/IP</a>”). For example, the 192.168.12.0 network shown in <a href="ch10.xhtml#ch10fig05">Figure 10-5</a> has been partitioned into four subnets. <a href="ch10.xhtml#ch10tab02">Table 10-2</a> shows the network addresses for each of the subnets. Any computer in subnet B is assigned one of the 62 IP addresses in the range 192.168.12.65 to 192.168.12.126.</p>
        <figure class="image" id="ch10fig05">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig05.jpg" alt="Figure shows an IP address, “192.168.12.0,” with the subnets labeled in blocks. Block A labeled, 0 subnet; Block B labeled, 64 subnet; Block C labeled, 128 subnet; and Block D labeled, 192 subnet." width="418" height="241">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-5</strong></span> IP assignment of computers in a network’s subnet.</p>
        </figcaption>
        </figure>
        <figure class="table" id="ch10tab02">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 10-2</span> <strong>Subnet Addresses for the Subnets Shown in <a href="ch10.xhtml#ch10fig05">Figure 10-5</a></strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Subnet</p></th>
        <th class="borderb"><p class="tab-para">Network Address</p></th>
        <th class="borderb"><p class="tab-para">Broadcast Address</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">A</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.0</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.63</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">B</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.64</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.127</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">C</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.128</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.191</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">D</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.192</p></td>
        <td class="borderb"><p class="tab-para">192.168.12.255</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">Remember that the first IP address in the subnet is reserved for the network address, and the last is reserved for the broadcast address.</p>
        </div>
        <span epub:type="pagebreak" id="page_537"></span>
        <p class="noindent">In a DHCP environment, a computer gets reassigned an IP address every time it reboots or renews its IP lease. There is no guarantee that it will have the same IP address as before. So, there is a common DHCP feature on most routers and DHCP servers called DHCP reservations or MAC address reservations, which reserves specific IP addresses for certain reserved MAC addresses. This guarantees that a device with a reserved MAC addresses will acquire the same IP address from the DHCP server every time. Of course, the same effect can also be accomplished by using a static IP address.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec5">Section 10-3 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em>This section introduces the concept of unicasts.</em></p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em>This section examines the function of a DHCP server.</em></p>
        <p class="s-paran">1.6 Explain the use and purpose of network services.</p>
        <p class="s-para"><em>This section introduces lease time.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec6">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">What is the purpose of BOOTP?</p></li>
        <li><p class="num">What is lease time relative to IP addresses?</p></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec4"><span class="space">10-4</span> Scaling a Network with NAT and PAT</h3>
        <p class="noindent">Today, there are more network devices than there are IP addresses available. Most institutions have to use private IP addresses in their networks. These private IP addresses cannot communicate with outside, or Internet, hosts because private IP addresses are not routable on the Internet. In order for these devices to communicate on the Internet, private IP addresses must be translated to public IP addresses using techniques like Network Address Translation and Port Address Translation.</p>
        <p class="noindent"><a id="ch10key30" href="glossary.xhtml#glo399"><span class="gray_kt"><strong>Network Address Translation (NAT)</strong></span></a> is a technique used to translate an internal private IP address to a public IP address before a packet leaves a local network and moves into a public network. NAT is typically implemented and deployed at <span epub:type="pagebreak" id="page_538"></span>the router facing the outside network. NAT provides a one-to-one translation of a private IP address to a public IP address. This means that, for every connection made to the outside world, there must be a public IP address available. The public IP address is relinquished when it is no longer used or when the NAT timeout occurs. In addition to being used as a way to communicate to the outside world, NAT can be used to hide the internal IP infrastructure of a network.</p>
        <div class="box">
        <p class="box-title">Network Address Translation (NAT)</p>
        <p class="box-para">A technique used to translate an internal private IP address to a public IP address</p>
        </div>
        <p class="noindent">To address the limitations of NAT, <a id="ch10key31" href="glossary.xhtml#glo466"><span class="gray_kt"><strong>Port Address Translation (PAT)</strong></span></a> was developed. PAT is sometimes referred to as <em>many-to-one NAT</em> or <em>NAT overload</em> because of its capability to translate many IP addresses with a single public IP address or a handful of public IP addresses. PAT accomplishes this by using the TCP/UDP ports. The PAT process tracks a port number for the connection. The router stores the IP address and port number in a NAT lookup table. The port number differentiates the computer that is establishing a connection to the Internet because the router uses the same public IP address for all computers. This port number is used when a data packet is returned to the home network. The port number identifies the computer that established the Internet connection, and the router can deliver the data packet to the correct computer.</p>
        <div class="box">
        <p class="box-title">Port Address Translation (PAT)</p>
        <p class="box-para">A technique that translates many IP addresses into a single public IP address or a handful of public IP addresses</p>
        </div>
        <p class="noindent">For example, if computer 1 establishes a connection to a website on the Internet, the data packets from the website are sent back to computer 1 using the network’s routable public IP address. This first step enables the data packet to be routed back to the home network. Next, the router uses the NAT lookup table and port number to translate the destination for the data packet back to the computer 1 private IP address and original port number, which might be different. <a href="ch10.xhtml#ch10tab03">Table 10-3</a> shows an example of a PAT table for a router. The router translates the private IP addresses to the public routable IP address assigned by the ISP. In addition, the router tracks a port number with the public IP address to identify the computer. For example, the computer with the private IP address 10.0.0.1 is assigned the public IP address 12.0.0.1:2000, where 2000 is the port number tracked by the router.</p>
        <figure class="table" id="ch10tab03">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 10-3</span> <strong>Example of a Router’s PAT Table</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Inside IP Address</p></th>
        <th class="borderb"><p class="tab-para">Inside Port</p></th>
        <th class="borderb"><p class="tab-para">Outside IP Address</p></th>
        <th class="borderb"><p class="tab-para">Outside Port</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">10.0.0.1</p></td>
        <td class="borderb"><p class="tab-para">2000</p></td>
        <td class="borderb"><p class="tab-para">12.0.0.1</p></td>
        <td class="borderb"><p class="tab-para">2000</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">10.0.0.2</p></td>
        <td class="borderb"><p class="tab-para">3000</p></td>
        <td class="borderb"><p class="tab-para">12.0.0.1</p></td>
        <td class="borderb"><p class="tab-para">3000</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">10.0.0.2</p></td>
        <td class="borderb"><p class="tab-para">30001</p></td>
        <td class="borderb"><p class="tab-para">12.0.0.1</p></td>
        <td class="borderb"><p class="tab-para">4000</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">10.0.0.3</p></td>
        <td class="borderb"><p class="tab-para">3000</p></td>
        <td class="borderb"><p class="tab-para">12.0.0.1</p></td>
        <td class="borderb"><p class="tab-para">6000</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">The term NAT is used more commonly than PAT and, most times, it covers PAT.</p>
        </div>
        <span epub:type="pagebreak" id="page_539"></span>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec7">Section 10-4 Review</p>
        <p class="s-para">This section covers the following Network+ exam objective.</p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em>This section describes NAT and PAT.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec8">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">What does NAT stand for, and what does it do?</p></li>
        <li><p class="num">What does PAT stand for, and what does it do?</p></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec5"><span class="space">10-5</span> Domain Name System (DNS)</h3>
        <p class="noindent">This section examines the DNS services typically available in a campus network. <a id="ch10key32" href="glossary.xhtml#glo164"><span class="gray_kt"><strong>DNS</strong></span></a>, which stands for the Domain Name System, translates a human-readable name to an IP address or an IP address to a domain name. The translation of a name to an IP address is called a <a id="ch10key33" href="glossary.xhtml#glo217"><span class="gray_kt"><strong>forward DNS lookup (forward lookup)</strong></span></a>, and the translation of an IP address to a domain name is called a <a id="ch10key34" href="glossary.xhtml#glo502"><span class="gray_kt"><strong>reverse DNS lookup (reverse lookup)</strong></span></a>. DNS runs on UDP and TCP port 53.</p>
        <div class="box">
        <p class="box-title">DNS</p>
        <p class="box-para">Domain Name System, the Internet’s system for translating human-readable names to IP addresses and vice versa</p>
        <p class="box-title">Forward DNS Lookup (Forward Lookup)</p>
        <p class="box-para">Translation of a name to an IP address</p>
        <p class="box-title">Reverse DNS Lookup (Reverse Lookup)</p>
        <p class="box-para">Translation of an IP address to a name</p>
        </div>
        <p class="noindent">The DNS hierarchy is a tree hierarchy. It starts with the root, then the top-level domains ( <a id="ch10key35" href="glossary.xhtml#glo627"><span class="gray_kt"><strong>TLDs</strong></span></a>), and then subdomains. Root DNS servers are well-known IP addresses that have been programmed into DNS servers. When DNS is installed on a server, the root DNS server’s IP addresses are automatically configured in DNS. The campus DNS server queries the root DNS servers to try to find TLD DNS servers. The next hierarchical level from the root is the TLD, such as .com, .net, .org, .edu, .mil, .gov, .us, .ca, .info, .biz, or .tv.</p>
        <div class="box">
        <p class="box-title">TLD</p>
        <p class="box-para">Top-level domain</p>
        </div>
        <p class="noindent"><a id="ch10key36" href="glossary.xhtml#glo125"><span class="gray_kt"><strong>Country domains</strong></span></a> are also TLDs and are usually defined by two letters, such as .us (United States) and .ca (Canada). The primary DNS server for a country domain has to exist in that country; for example, the .us primary domain server is located in the United States. <a href="ch10.xhtml#ch10fig06">Figure 10-6</a> shows the top-level domains and their relationships to the subdomains and <a id="ch10key37" href="glossary.xhtml#glo511"><span class="gray_kt"><strong>root DNS servers</strong></span></a>.</p>
        <figure class="image" id="ch10fig06">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig06.jpg" aria-describedby="Alch10fig06" alt="The domain name hierarchy is depicted in a tree diagram." width="386" height="210">
        <aside class="hidden" id="Alch10fig06">
        <p>The tree starts with the Root Servers. The top level domain (TLD) reads: .com, .mil, .edu, .net, .org, .gov, .us, .ca, .info, .biz, and .tv. Below the TLD Subdomain is shown.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-6</strong></span> The DNS tree hierarchy.</p>
        </figcaption>
        </figure>
        <div class="box">
        <p class="box-title">Country Domain</p>
        <p class="box-para">Usually two letters, such as .us (United States) or .ca (Canada), that indicate the domain server for a country</p>
        <p class="box-title">Root DNS Servers</p>
        <p class="box-para">A group of servers that use well-known IP addresses that have been programmed into DNS servers</p>
        </div>
        <span epub:type="pagebreak" id="page_540"></span>
        <p class="noindent">By having a tree hierarchy structure, DNS operates in a delegation mode, starting from the root and moving to subtree levels. This way, each level only has to maintain the information of the next level. With this structure, the root DNS servers only know of the TLD DNS servers, to which they can delegate the top-level domain queries. The root DNS servers do not know of domains such as <a href="http://www.example.com">www.example.com</a>. A root DNS server delegates a query to a next-level authoritative server, which repeats the delegation to the next level until it reaches the final server that can authoritatively give the answer <a href="http://www.example.com">www.example.com</a>. The DNS server that is authorized and configured to answer DNS queries for a particular domain or zone is called an authoritative DNS server.</p>
        <p class="noindent">For example, say that a computer in Network-A wants to know the IP address for the server at Network-B.edu (that is, <a href="http://www.network-b.edu">www.network-b.edu</a>). The following steps occur:</p>
        <ol class="number">
        <li><p class="num">The computer sends a DNS query to the Network-A DNS server. Typically, the host knows the IP addresses of the primary and secondary DNS servers, through either static input or dynamic assignment.</p></li>
        <li><p class="num">The Network-A DNS server does not have the answer and queries other DNS servers on behalf of the client; this process is known as a <em>recursive lookup</em>. In this case, the Network-A DNS server would query one of the root DNS servers and would receive the IP addresses of the DNS servers for the .edu top-level domain.</p></li>
        <li><p class="num">The Network-A DNS server sends a query to one of the .edu TLD DNS servers for <a href="http://www.network-b.edu">www.network-b.edu</a> and receives the IP addresses of the authoritative DNS servers for the www.network-b.edu domain. This process of querying a delegated DNS server is known as an <em>iterative lookup</em>.</p></li>
        <li><p class="num">The Network-A DNS server sends a query to one of the <a href="http://www.network-b.edu">www.network-b.edu</a> DNS servers, which is the authoritative DNS server for <a href="http://www.network-b.edu">www.network-b.edu</a>, and it receives the DNS answer or authoritative answer of the IP address for <a href="http://www.network-b.edu">www.network-b.edu</a>.</p></li>
        <li><p class="num">The Network-A DNS server tells the computer the IP address.</p></li>
        </ol>
        <p class="noindent">A DNS server keeps a cache of recent queries so that this multiple-step process of obtaining an IP address does not have to be repeated unnecessarily. With DNS <span epub:type="pagebreak" id="page_541"></span>caching, the next time any computer in Network-A is asking for <a href="http://www.network-b.edu">www.network-b.edu</a>, the Network-A DNS server can provide the answer without having to fetch the answer through the delegation process.</p>
        <section>
        <h4 class="h4" id="ch10lev2sec9">DNS Resource Records</h4>
        <p class="noindent">As mentioned earlier in this section, an authoritative name server is a name server that is authorized and configured to answer DNS queries for a particular domain or zone. The authoritative name server is in charge of managing the information about that zone or domain. Information about the domain and its hosts and services is defined by resource records (<a id="ch10key38" href="glossary.xhtml#glo527"><span class="gray_kt"><strong>RR</strong></span></a>). Each zone contains resource records that define or describe its domain, its subdomains and its host information. The terms <em>domain</em> and <em>zone</em> are often used interchangeably. These resource records can be found by using either the <a href="glossary.xhtml#glo414"><span class="gray_kt"><strong>dig</strong></span></a> command in Linux or <a id="ch10key39" href="glossary.xhtml#glo414"><span class="gray_kt"><strong>nslookup</strong></span></a> command in Windows.</p>
        <div class="box">
        <p class="box-title">RR</p>
        <p class="box-para">Resource record is a DNS record that is used to define or describe a domain, its subdomains or its host information</p>
        <p class="box-title">nslookup and dig</p>
        <p class="box-para">Commands that query the specified DNS server and retrieve the requested records associated with the domain name provided</p>
        </div>
        <p class="noindent">The Start of Authority (<a id="ch10key40" href="glossary.xhtml#glo570"><span class="gray_kt"><strong>SOA</strong></span></a>) record is a mandatory RR for a zone. It marks the start of the zone and provides technical details about the zone, such as the zone name, the primary authoritative name server, the email address of the domain administrator, the serial number of the domain, the TTL (Time to Live) of the domain, and refresh, retry, and expiration times for the secondary name server. The following example uses the <strong>nslookup</strong> command to find the SOA record of the domain example.com:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-7a" id="pre10-7">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup -query=SOA example.com</strong>
        Server: 192.168.1.1<br>Address: 192.168.1.1#53
        Non-authoritative answer:
        example.com
                primary name server = dns1.icann.org
                responsible mail addr = hostmaster.icann.org
                serial  = 2011063168
                refresh = 7200 (2 hours)
                retry   = 3600 (1 hour)
                expire  = 1209600 (14 days)
                default TTL = 3600 (1 hour)
        </pre>
        <div class="box">
        <p class="box-title">SOA</p>
        <p class="box-para">Start of Authority, a mandatory resource record for a zone that marks the start of the zone and provides the technical details of the zone</p>
        </div>
        <p class="noindent"><strong>nslookup</strong> is available by default on Windows, macOS, and Linux. <strong>dig</strong> is available on macOS and Linux but is not available by default on Windows.</p>
        <p class="noindent">The <a id="ch10key41" href="glossary.xhtml#glo7"><span class="gray_kt"><strong>A record (Address record)</strong></span></a> is the most common record in DNS. It is a hostname mapping to an IP address. For example, the host1 entry in domain network-B.edu is an A record. The A record is used by a DNS server at the parent company for Network-B to convert the name host1.network-B.edu to an IP address. The following example uses the <strong>nslookup</strong> command to find the A record of the host <a href="http://www.example.com">www.example.com</a>:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-8a" id="pre10-8">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup  www.example.com</strong>
        Server:  192.168.1.1
        Address:  192.168.1.1#53<br>
        Non-authoritative answer:
        Name: <a href="http://www.example.com">www.example.com</a>
        Address: 192.0.43.10
        </pre>
        <div class="box">
        <p class="box-title">A Record (Address Record)</p>
        <p class="box-para">The most common record in DNS, which maps a hostname to an IP address</p>
        </div>
        <span epub:type="pagebreak" id="page_542"></span>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">www.example.com is known as a fully qualified domain name (FQDN) because it consists of a hostname and the complete domain name.</p>
        </div>
        <p class="noindent">A <a id="ch10key42" href="glossary.xhtml#glo485"><span class="gray_kt"><strong>PTR record (Pointer record)</strong></span></a> is the reverse of an A record: It maps an IP address to a hostname. It is sometimes referred to as a reverse record. The following example uses the <strong>nslookup</strong> command to find the PTR record or the reverse record of the IP address given for <a href="http://www.example.com">www.example.com</a>:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-9a" id="pre10-9">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup -query=PTR 192.0.43.10</strong>
        Server: 192.168.1.1
        Address: 192.168.1.1#53<br>
        Non-authoritative answer:
        10.43.0.192.in-addr.arpa name = 43-10.any.icann.org.
        </pre>
        <div class="box">
        <p class="box-title">PTR Record (Pointer Record)</p>
        <p class="box-para">A record that maps an IP address to a hostname</p>
        </div>
        <p class="noindent">In this example, the answer is not exactly the reverse hostname that you would expect. You would think that the name result would be the reciprocal to the previous example, which is <a href="http://www.example.com">www.example.com</a>. In this case, the name listed is 43-10.any.icann.org instead. This result has to do with how the Internet domain name is registered and how the IP address is acquired. As you have learned, Internet domain names can come from different sources. An Internet domain name is generally purchased from a domain registrar, and the IP address has to be allocated by ARIN (in North America) or by an ISP. This results in one entity being in charge of the forward DNS zone and another entity being in charge of the reverse DNS zone. The information is not usually synchronized, leading to results like 43-10.any.icann.org.</p>
        <p class="noindent">A PTR record can also be used for security purposes to verify that a domain is allowed to connect to a service. For example, say that pc-salsa1-1 (10.10.20.1) connects to an FTP server that allows only machines in the salsa domain to make the connection. When the connection is made, the FTP server knows only the IP address of the machine making the connection (10.10.20.1). The server uses the IP address to request the name assigned to that IP address. A connection is made to the salsa domain server, and the salsa DNS server returns pc-salsa1-1 as the machine assigned to 10.10.20.1. The FTP server recognizes that this is a salsa domain machine and authorizes the connection.</p>
        <p class="noindent">A <a id="ch10key43" href="glossary.xhtml#glo109"><span class="gray_kt"><strong>CNAME record (Canonical name record)</strong></span></a> is generally called an <em>alias</em>. It allows another name to be defined and points to the real name. A CNAME record is mapped to an A record. Much as with an A record query, it is not necessary to specify the option for a CNAME record when using <strong>dig</strong> or <strong>nslookup</strong>. Both commands yield a canonical name of a hostname, if it exists. The following example reveals that <a href="http://www.iana.org">www.iana.org</a> is actually an alias for the A record ianawww.vip.icann.org:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-10a" id="pre10-10">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup <a href="http://www.iana.org">www.iana.org</a></strong>
        Server: 192.168.1.1
        Address: 192.168.1.1#53<br>
        Non-authoritative answer:
        www.iana.org     canonical name = ianawww.vip.icann.org.
        Name:  ianawww.vip.icann.org
        Address: 192.0.32.8
        </pre>
        <div class="box">
        <p class="box-title">CNAME Record (Canonical Name Record)</p>
        <p class="box-para">An alias of a hostname</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_543"></span>Aliases are useful in applications such as virtual web hosting. Being able to create multiple names and map those names to one canonical name that in turn associates to one IP address allows multiple websites to be served by one server. The effect is seamless to general users. As a matter of fact, this is how most virtual services and cloud services operate. For example, say that the website <a href="http://www.example.com">www.example.com</a> moved to a cloud service provider (CSP) by creating a CNAME record and then mapped the website to a specific cloud service provider’s server. Although general users still use the website <a href="http://www.example.com">www.example.com</a>, the destination where the service is hosted is now different.</p>
        <p class="noindent">An <a id="ch10key44" href="glossary.xhtml#glo413"><span class="gray_kt"><strong>NS record (Name Server record)</strong></span></a> is another mandatory RR for a zone. It specifies the name of the authoritative name server of the domain. The record must map to a valid A record, not an IP address or a CNAME. NS records are associated with a domain rather than with a particular host. Therefore, you need to look up the name server information based on the domain. The following example demonstrates the use of the <strong>nslookup</strong> command to look up the NS records of the domain example.com:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-11a" id="pre10-11">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup -query=NS example.com</strong>
        Server: 192.168.1.1<br>Address: 192.168.1.1#53<br>
        Non-authoritative answer:
        example.com nameserver = a.iana-servers.net.
        example.com nameserver = b.iana-servers.net.
        </pre>
        <div class="box">
        <p class="box-title">NS Record (Name Server Record)</p>
        <p class="box-para">A record that specifies the name of the authoritative name server of the domain</p>
        </div>
        <p class="noindent">An <a id="ch10key45" href="glossary.xhtml#glo389"><span class="gray_kt"><strong>MX record (Mail Exchange record)</strong></span></a> specifies the email-handling server of a domain (that is, the server to which all the incoming emails to the domain go). The MX record must also map to a valid A record, not to an IP address or a CNAME. The MX record is a crucial piece of information in today’s Internet. Without correct MX records, emails to the domain will stop flowing. The following example demonstrates the use of the <strong>nslookup</strong> command to search the MX records information of the domain network-b.edu:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-12a" id="pre10-12">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup -query=MX network-b.edu</strong>
        Server: 192.168.1.1
        Address: 192.168.1.1#53<br>
        Non-authoritative answer:
        network-b.edu  mail exchanger = 20 mx02.cloud.example.com.
        network-b.edu  mail exchanger = 30 mx03.cloud.example.com.
        network-b.edu  mail exchanger = 10 mx01.cloud.example.com.
        </pre>
        <div class="box">
        <p class="box-title">MX Record (Mail Exchange Record)</p>
        <p class="box-para">A record that specifies the email-handling server of a domain</p>
        </div>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">This command is issued for information on MX for the entire domain, just like the command for the NS information.</p>
        </div>
        <p class="noindent">In this case, the MX records yield three email servers for the domain network-b.edu. Each server has a different preference number. The lowest preference number signifies the most preferred server.</p>
        <span epub:type="pagebreak" id="page_544"></span>
        <p class="noindent">Email service is a popular service offered by many cloud service providers. Many entities do not have resources to manage the volume of email going to and coming from their domains. Much as CNAME records are used to map to a cloud server, MX records can be used for email. To move the email service of a domain to a cloud service, the MX needs to be changed to the cloud service provider’s email servers. As shown in the preceding example, the domain network-b.edu is using cloud.example.com as the email cloud service.</p>
        <p class="noindent">A <a id="ch10key46" href="glossary.xhtml#glo644"><span class="gray_kt"><strong>TXT record (Text record)</strong></span></a> is used to hold arbitrary text information for a domain. Besides storing arbitrary information or comments for the domain, this record is increasingly being used to validate the authenticity of a domain. One of its popular applications is to authenticate the email sender domain. The <a id="ch10key47" href="glossary.xhtml#glo577"><span class="gray_kt"><strong>SPF</strong></span></a> (Sender Policy Framework) can be entered into a TXT record. This piece of information can be used as a validation of the legitimate sources of email from a domain. Another application is for the cloud service providers to validate the authenticity of the domain ownership. Many cloud service providers ask for proof of domain ownership by providing the domain owner with a token value that needs to be added to the TXT record. The following example shows the TXT record with the specific token value (<strong>t=</strong>) for a cloud service.</p>
        <div class="box">
        <p class="box-title">TXT Record (Text Record)</p>
        <p class="box-para">A record that is used to hold arbitrary text information for the domain</p>
        <p class="box-title">SPF</p>
        <p class="box-para">Sender Policy Framework</p>
        </div>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-13a" id="pre10-13">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup -query=TXT network-b.edu</strong>
        Server: 192.168.1.1
        Address: 192.168.1.1#53<br>
        Non-authoritative answer:
        Network-b.edu  text = “v=msv1 t=3b6735dd2923c44e99c313ac4adb65”
        </pre>
        <p class="noindent">On a related note, Domain Keys Identified Mail (<a id="ch10key48" href="glossary.xhtml#glo163"><span class="gray_kt"><strong>DKIM</strong></span></a>) enables an organization to take responsibility for a message in transit. This is a way of determining whether a message should be trusted for further handling or delivery. Essentially, DKIM provides a way to validate a domain name identity with an associated message through cryptographic authentication.</p>
        <div class="box">
        <p class="box-title">DKIM</p>
        <p class="box-para">Domain Keys Identified Mail</p>
        </div>
        <p class="noindent">An <a id="ch10key49" href="glossary.xhtml#glo580"><span class="gray_kt"><strong>SRV record (Service record)</strong></span></a> is used to identify a host or hosts that offer a specific type of service. It is sometimes called a <em>service location record</em>. The syntax of this type of record is unique. The SRV record has the syntax _<em>service</em>._<em>protocol</em>.<em>name</em> (for example, _ldap._tcp.network-b.edu or _http._tcp.example.com). The SRV record provides typical host information, and it also provides the TCP or UDP port of the service. The SRV record is used all the time with Microsoft Windows, especially in the Active Directory (AD) environment. The following example shows the SRV record of _ldap._tcp.network-b.edu, which enables a client to locate a server that is running the LDAP service for the domain network-b.edu:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-14a" id="pre10-14">Click here to view code image</a></p>
        <pre class="pre1">C:\<strong>nslookup -query=SRV _ldap._tcp.network-b.edu</strong>
        Server: 192.168.1.1
        Address: 192.168.1.1#53<br>
        _ldap._tcp.network-b.edu  service = 0 100 389 dc2.network-b.edu.
        _ldap._tcp.network-b.edu  service = 0 100 389 dc1.network-b.edu.
        </pre>
        <div class="box">
        <p class="box-title">SRV Record (Service Record)</p>
        <p class="box-para">A record that is used to identify a host (or hosts) that offers a specific type of service</p>
        </div>
        <p class="noindent">The output in this example shows two servers that can provide the service. Both of them have priority value 0, which is the highest, and weight value 100. Both of them provide the LDAP service on TCP port 389.</p>
        <span epub:type="pagebreak" id="page_545"></span>
        <p class="noindent"><strong>A</strong> <a id="ch10key50" href="glossary.xhtml#glo8"><span class="gray_kt"><strong>AAAA record (Quad-A record)</strong></span></a> is the DNS record for IPv6. It is very important that IPv6 addresses be added to the name server to make it possible for the DNS server to be reachable for IPv6. Therefore, today’s DNS servers need to have both A and AAAA records.</p>
        <div class="box">
        <p class="box-title">AAAA Record (Quad-A Record)</p>
        <p class="box-para">A DNS record for IPv6</p>
        </div>
        <p class="noindent">DNS is susceptible to a number of threats, such as DNS poisoning (aka DNS spoofing), an attack that exploits vulnerabilities in DNS and directs Internet traffic away from the intended server to a fake server. DNS poisoning is dangerous because it can spread to other DNS servers. A related attack is ARP poisoning, which links the attacker’s MAC address with a legitimate address.</p>
        <p class="noindent"><a href="ch10.xhtml#ch10fig07">Figure 10-7</a> illustrates the steps involved in manually updating DNS A records:</p>
        <ol class="number">
        <li><p class="num">A client PC updates the A record when an IP address is requested for a computer.</p></li>
        <li><p class="num">The user obtains the PC name and the PC’s MAC address and sends this information to the network administrator or the NOC.</p></li>
        <li><p class="num">The NOC issues an IP address to the client, updates the NOC database of clients on the network, and enters a new A record into the primary DNS server. The entry is made only on the primary DNS server.</p></li>
        <li><p class="num">The entry is later replicated on the secondary DNS server.</p></li>
        </ol>
        <figure class="image" id="ch10fig07">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig07.jpg" aria-describedby="Alch10fig07" alt="Illustration shows the steps for adding a client to a network." width="477" height="108">
        <aside class="hidden" id="Alch10fig07">
        <p>A request is sent to NOC via an arrow. From NOC two arrows lead to Database and DNS. An arrow from NOC leads back to pc name MAC address.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-7</strong></span> Manually updating the A record.</p>
        </figcaption>
        </figure>
        <section>
        <h5 class="h5">Dynamically Adding a Client to a Campus Network</h5>
        <p class="noindent">A new A record can be entered dynamically when a client computer obtains an IP address through DHCP registration (see <a href="ch10.xhtml#ch10fig08">Figure 10-8</a>.) The DHCP server issues an IP address to the client and at the same time sends an updated A record to the network’s primary DNS server. The client name and the IP and MAC addresses are stored in the DHCP database.</p>
        <figure class="image" id="ch10fig08">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig08.jpg" aria-describedby="Alch10fig08" alt="Figure shows the dynamic way of updating A record using DHCP." width="495" height="101">
        <aside class="hidden" id="Alch10fig08">
        <p>Three blocks, "Client, DHCP Server, and DNS" are shown. The client sends a DHCP registration to the DHCP server and the IP address is processed back to the client. The DHCP Server sends the data to the DNS.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-8</strong></span> Dynamic updating of the A record using DHCP.</p>
        </figcaption>
        </figure>
        <p class="noindent">Why obtain the MAC address when entering information into DNS? The A record is used to keep track of all the machines operating on the network. The MAC address is a unique identifier for each machine. The MAC address is also used by BOOTP, which is a predecessor to DHCP; in this case, a MAC address is specifically assigned to one IP address in the network.</p>
        <span epub:type="pagebreak" id="page_546"></span>
        <p class="noindent">Today, IP address management (<a id="ch10key51" href="glossary.xhtml#glo296"><span class="gray_kt"><strong>IPAM</strong></span></a>) is used for managing IP address space in a network. IPAM integrates both DHCP and DNS and ensures that each service is aware of changes, thereby avoiding conflicts with IP user space. You will also see the term <em>clustering</em>, which is a technique used to group network devices or storage according to function.</p>
        <div class="box">
        <p class="box-title">IPAM</p>
        <p class="box-para">IP address management, a process used for managing IP address space in a network that integrates DHCP and DNS and ensures that each service is aware of changes, thereby avoiding conflicts with IP user space</p>
        </div>
        <p class="noindent">In modern networks, you will often find that there are third-party/cloud-hosted DNS servers. Some organizations prefer not to manage their DNS servers. In such networks, internal DNS requests are served by internal DNS, and external requests are served by external DNS.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec10">Section 10-5 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em>This section examines DNS.</em></p>
        <p class="s-paran">1.6 Explain the use and purpose of network services.</p>
        <p class="s-para"><em>This section describes various server types and record types.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec11">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">What server provides name translations for the hostname to an IP address?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Root server</p></li>
        <li><p class="alpha">TLDs</p></li>
        <li><p class="alpha">DNS server</p></li>
        <li><p class="alpha">Web server</p></li>
        </ol></li>
        <li><p class="num">Which of the following does a DHCP server dynamically assign to a machine on an as-needed basis?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">MAC address</p></li>
        <li><p class="alpha">IP address</p></li>
        <li><p class="alpha">Protocol address</p></li>
        <li><p class="alpha">All of these answers are correct.</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec6"><span class="space">10-6</span> Network Management Protocols</h3>
        <p class="noindent">A network of moderate size has a tremendous number of data packets entering and leaving. The number of routers, switches, hubs, servers, and host computers can <span epub:type="pagebreak" id="page_547"></span>become staggering. Proper network management requires that all network resources be managed, and proper management tools must therefore be in place.</p>
        <p class="noindent">A fundamental network management tool is <a id="ch10key52" href="glossary.xhtml#glo567"><span class="gray_kt"><strong>SNMP (SNMPv1)</strong></span></a>, Simple Network Management Protocol. SNMPv1, developed in 1988, is widely supported in most modern network hardware. SNMP is a connectionless protocol that uses UDP for transmission of data to and from UDP port 161.</p>
        <div class="box">
        <p class="box-title">SNMP (SNMPv1)</p>
        <p class="box-para">Simple Network Management Protocol (version 1), a connectionless protocol that uses UDP for the transmission of data to and from UDP port 161</p>
        </div>
        <p class="noindent">SNMP uses a <a id="ch10key53" href="glossary.xhtml#glo349"><span class="gray_kt"><strong>management information base (MIB)</strong></span></a>, which is a collection of standard objects that are used to obtain configuration parameters and performance data on a networking device such as a router. An MIB describes the structure of the management data of a device subsystem using a hierarchical namespace that contains object identifiers (OIDs). Each OID identifies a variable that can be read or set via SNMP. For example, the MIB object ifDescr has the OID 1.3.6.1.2.1.2.2.1.2. This particular OID is used to return a description of the router’s interfaces, as demonstrated in <a href="ch10.xhtml#ch10fig09">Figure 10-9</a>. This figure shows an SNMP software tool being used to collect interface description information. The IP address of the router is 10.10.10.1, and <strong>get request ifDescr</strong> was sent to port 161, the UDP port for SNMP. As you can see, the tool returns descriptions of the interfaces.</p>
        <figure class="image" id="ch10fig09">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig09.jpg" aria-describedby="Alch10fig09" alt="Screenshot shows the AdventNet MibBrowser window." width="575" height="394">
        <aside class="hidden" id="Alch10fig09">
        <p>The "ifDescr" within "interfaces" option in the navigation pane is selected. The content pane displays: "Host, Set Value, Context Name, and Context Engine ID" drop-down lists; "Community, Write Community, Syntax, Access, Object ID, Status, and Reference" fields; Description Rich textbox; and a Rich textbox with a command</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-9</strong></span> An example of using an SNMP software management tool to obtain descriptions of a router’s interfaces using the MIB <strong>ifDescr</strong>.</p>
        </figcaption>
        </figure>
        <div class="box">
        <p class="box-title">Management Information Base (MIB)</p>
        <p class="box-para">A collection of standard objects that are used to obtain configuration parameters and performance data on a networking device</p>
        </div>
        <section>
        <h4 class="h4" id="ch10lev2sec12">Configuring SNMP</h4>
        <p class="noindent">To obtain SNMP data, SNMP must be configured on the router. This section shows how to configure SNMP on a Cisco router.</p>
        <p class="noindent">The first step in configuring SNMP on a Cisco router is to enter the router’s configuration mode by using the <strong>conf t</strong> command:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-15a" id="pre10-15">Click here to view code image</a></p>
        <pre class="pre1">RouterB #<strong>conf t</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        </pre>
        <p class="noindent">At the router’s <strong>(config)#</strong> prompt, you enter the command <strong>snmp community [</strong><em>community string</em><strong>] [</strong><em>permissions</em><strong>]</strong>, where <em>community string</em> can be any word, and the <span epub:type="pagebreak" id="page_548"></span><em>permissions</em> field is used to establish whether the user has the permission read only (<strong>ro</strong>), write only (<strong>wo</strong>), or both (<strong>rw</strong>). The options for configuring SNMP on a router are shown here:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-16a" id="pre10-16">Click here to view code image</a></p>
        <pre class="pre1">RouterB(config)# <strong>snmp community ?</strong>
        WORD SNMP community string
        </pre>
        <p class="noindent">In this example, the router is connected to the computer running the SNMP management software, as shown in <a href="ch10.xhtml#ch10fig10">Figure 10-10</a>. The router’s configuration mode is entered, and the <strong>snmp community public ro</strong> command is issued. The word <strong>public</strong> is used as the community string—the password used by the SNMP software to access SNMP (port 161) on the router. <strong>ro</strong> sets the permission to read only:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-17a" id="pre10-17">Click here to view code image</a></p>
        <pre class="pre1">RouterB(config)# <strong>snmp community public ro</strong></pre>
        <figure class="image" id="ch10fig10">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig10.jpg" alt="Figure shows a router with IP address 10.10.10.1 connected to the SNMP Management Software labeled, “String-makesecret.” The router sends a MIB request to SNMP Management Software from port 161 and the SNMP Management Software sends the response back to the router." width="520" height="123">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-10</strong></span> The setup for connecting the SNMP management software tool to the router.</p>
        </figcaption>
        </figure>
        <p class="noindent">In the next example, the community string password is set to <strong>makesecret</strong>, and the permission is set to read write (<strong>rw</strong>). Once again, the router’s <strong>(config)#</strong> mode is used, and the command <strong>snmp community makesecret rw</strong> is entered:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-18a" id="pre10-18">Click here to view code image</a></p>
        <pre class="pre1">RouterB(config)# <strong>snmp community makesecret rw</strong></pre>
        <p class="noindent">The configuration for SNMP can be verified by using the <strong>show run</strong> command from the router’s privileged mode prompt. A portion of the configuration file that lists the SNMP configuration for the router is shown here:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-19a" id="pre10-19">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>sh run</strong>
        snmp-server community makesecret RW
        </pre>
        <p class="noindent"><a href="ch10.xhtml#ch10fig11">Figure 10-11</a> shows the setup of the configured router and the computer running the SNMP management software. The SNMP management software issues the MIB to the router at port 161, and the router returns the response. <a href="ch10.xhtml#ch10fig11">Figure 10-11</a> shows another example of using SNMP to obtain interface information about a router. The SNMP manager in this case is configured with the host IP address 10.10.10.1, the set value (port number) 161, and the 10-character community string <strong>makesecret</strong>, shown as <strong>* * * * * * * * * *</strong>. The MIB <strong>ifSpeed</strong> is sent to the router, and a status is provided for each of the interfaces. The data displayed shows the speed settings for the router’s interfaces.</p>
        <figure class="image" id="ch10fig11">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig11.jpg" aria-describedby="Alch10fig11" alt="Screenshot shows the AdventNet MibBrowser window." width="575" height="394">
        <aside class="hidden" id="Alch10fig11">
        <p>The IfSpeed option within "interfaces" option in the navigation pane is selected. The content pane displays: "Host, Set Value, Context Name, and Context Engine ID" drop-down lists; "Community, Write Community, Syntax, Access, Object ID, Status, and Reference" fields; Description Rich textbox; and a Rich textbox with a command.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-11</strong></span> Using an SNMP software management tool to obtain interface speed settings.</p>
        </figcaption>
        </figure>
        <p class="noindent">An SNMP monitor, as shown in <a href="ch10.xhtml#ch10fig12">Figure 10-12</a>, is a tool used to obtain traffic data statistics. In this example, the SNMP management program issues the MIB <strong>ifOutOctets</strong>, which returns the number of octets of data that have left the router. (The router has a counter that keeps track.) The first result is <strong>ifOutOctets 7002270</strong>. The next result is <strong>ifOutOctets 7002361</strong>.</p>
        <figure class="image" id="ch10fig12">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig12.jpg" aria-describedby="Alch10fig12" alt="Screenshot shows the AdventNet MibBrowser window." width="700" height="509">
        <aside class="hidden" id="Alch10fig12">
        <p>The IfOutOctets option within "interfaces" option in the navigation pane is selected. The content pane displays: "Host, Set Value, Context Name, and Context Engine ID" drop-down lists; "Community, Write Community, Syntax, Access, Object ID, Status, and Reference" fields; Description Rich textbox; and a Rich textbox with a command.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-12</strong></span> An example of using SNMP to collect data traffic statistics.</p>
        </figcaption>
        </figure>
        <p class="noindent"><span epub:type="pagebreak" id="page_549"></span>The SNMP management program collecting the statistics keeps track of the time interval between measurements and the number of octets that have passed. This information can be used to calculate the average traffic flow by hour, day, week, or month, depending on the information needed.</p>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">The router’s counter does not reset unless the router is rebooted.</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_550"></span>Two other versions of SNMP have been developed for network management: <a id="ch10key54" href="glossary.xhtml#glo568"><span class="gray_kt"><strong>SNMPv2</strong></span></a> and <a id="ch10key55" href="glossary.xhtml#glo569"><span class="gray_kt"><strong>SNMPv3</strong></span></a>. SNMPv2, which was developed in 1993, was not directly compatible with SNMPv1. SNMPv2 attempted to address security issues, but many variants ended up being developed, and SNMPv2 was never fully accepted by the networking industry. One of the variants, called SNMPv2c (Community-based SNMP version 2), was adopted more widely than the others. SNMPv3, which was developed in 1998, achieved the important goal of maintaining compatibility with SNMPv1 and adding security to SNMP. The security features of SNMPv3 include confidentiality, integrity, and authentication. <em>Confidentiality</em> means the packets are encrypted to prevent snooping, <em>integrity</em> ensures the data being transferred has not been tampered with, and <em>authentication</em> means the data is from a known source.</p>
        <div class="box">
        <p class="box-title">SNMPv2</p>
        <p class="box-para">Simple Network Management Protocol version 2</p>
        <p class="box-title">SNMPv3</p>
        <p class="box-para">Simple Network Management Protocol version3</p>
        </div>
        <p class="noindent">SNMP enables gathering of statistical information from network devices; however, it does not dive deep into IP information, such as the source, destination, or protocol of each data packet. NetFlow allows for such data collection. NetFlow is a push technology; this means that NetFlow data is pushed from a network device to a collector. Cisco created NetFlow in 1996 for acquiring IP traffic operational data in order to provide network and security monitoring, traffic analysis, and IP accounting. Currently, there are 10 versions of NetFlow. NetFlow version 5 is the most common version deployed on many network devices from different vendors. NetFlow version 9 is the first version to support IPv6, and this version has now been standardized by the IETF to NetFlow version 10, also known as Internet Protocol Flow Information Exchange (IPFIX).</p>
        <p class="noindent">Even though NetFlow was developed by Cisco, it is not a Cisco-proprietary protocol. Many network vendors have adopted NetFlow to collect their IP traffic flow statistics. Nonetheless, there are still variants of the NetFlow protocol available to the public. For example, JFlow is Juniper’s IP traffic flow technology. It is similar to NetFlow version 5; however, it is a flow sampler technology, which samples the number of packets as defined in the router configuration. Created by InMon, sFlow (Sampled Flow) is another traffic flow technology. Similar to JFlow, sFlow is a sampling technology that is designed to collect a large amount of statistical network information. It collects many performance counters, so it collects different information than NetFlow and JFlow. It can be thought of as SNMP on steroids. Its main deployment is in high-speed switched networks with big support from HP, Extreme, and Alcatel. sFlow is not compatible with NetFlow or JFlow.</p>
        <p class="noindent">There is one thing that all these flow technologies have in common: All the flow information has to be exported or sent to the collector. The <em>collector</em> stores and analyzes the flow information. There are many flavors of flow collector software available. Some of them can even collect all different type of flows (NetFlow, JFlow, and sFlow) and are able to correlate information among them.</p>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">Because a flow technology is a push technology from a network device, enabling flow on a device could increase the CPU utilization of the device. This is especially true for a device such as a busy router that is dealing with a heavy load of network traffic. It is important to constantly monitor the CPU health of a device when you turn on a flow technology.</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_551"></span>Let’s consider some examples of how to configure NetFlow on Cisco routers. The first steps are to define the version of NetFlow, the source of the export, and the destination and the listening UDP port to which the flows will be exported:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-20a" id="pre10-20">Click here to view code image</a></p>
        <pre class="pre1">RouterA (config)# <strong>ip flow-export source Loopback0</strong>
        RouterA (config)# <strong>ip flow-export version 5</strong>
        RouterA (config)# <strong>ip flow-export destination 10.10.101.19 5000</strong>
        </pre>
        <p class="noindent">Next, you need to enable NetFlow on an interface by using the command <strong>ip route-cache flow</strong>. This command enables NetFlow on the physical interface and its associated subinterfaces, if there are any. Then you enter the command <strong>ip flow ingress</strong> to enable NetFlow on particular subinterfaces. In this example, the Gigabit 1/0 interface is enabled with NetFlow monitoring:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-21a" id="pre10-21">Click here to view code image</a></p>
        <pre class="pre1">RouterA (config)# <strong>int GigabitEthernet1/0</strong>
        RouterA (config-if)# <strong>ip flow ingress</strong>
        </pre>
        <p class="noindent">You can verify NetFlow information by using a <strong>show</strong> command. The command <strong>show ip flow export</strong> shows a NetFlow configuration and its basic statistics. Note that all the flow information has to be sent to the collector, which stores and analyzes the flow information. There are many flavors of flow collector software available. Some of them can even collect all information.</p>
        <p class="noindent">Another network management technique is to use port mirroring or SPAN (Switched Port Analyzer). Port mirroring is a capability offered by many network switches to monitor all the data packets seen on a specified port or ports. With switch port mirroring enabled, the switch sends a copy of all data traffic seen on its port to another port. The data can then be captured and analyzed as needed. Port mirroring is essential for monitoring and logging network traffic without having to install a device in line with the traffic and disrupt the network traffic flow.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec13">Section 10-6 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>This section introduces SNMP, OIDs, and MIBs.</em></p>
        <p class="s-paran">5.3 Given a scenario, use the appropriate network software tools and commands.</p>
        <p class="s-para"><em>This section examines NetFlow, which is a software data collection tool.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec14"><span epub:type="pagebreak" id="page_552"></span>Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">Which of the following is the <em>best</em> example of a fundamental network management tool?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">SNMP</p></li>
        <li><p class="alpha"><strong>ping</strong></p></li>
        <li><p class="alpha"><strong>trace route</strong></p></li>
        <li><p class="alpha">Documentation</p></li>
        </ol></li>
        <li><p class="num">Which of the following best characterizes a MIB? (Select all that apply.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A management Internet base is a UDP protocol used by SNMP.</p></li>
        <li><p class="alpha">A management information base is a collection of standard objects that are used to obtain performance data on a networking device.</p></li>
        <li><p class="alpha">A management information base is a collection of standard multicast addresses that are used to obtain certain configuration parameters.</p></li>
        <li><p class="alpha">A management information base is a collection of standard objects that are used to obtain certain configuration parameters.</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec7"><span class="space">10-7</span> Analyzing Network Traffic</h3>
        <p class="noindent">The previous section introduces SNMP, which is a protocol used in network management. That section includes an example that shows how to obtain the number of octets leaving a router. You can use this type of information in a campus network to monitor the flow of data for many points in the network. You can obtain statistics for hourly, daily, weekly, and monthly data traffic. This section discusses plots of network router utilization obtained via a router’s SNMP port and provides a look at packet/traffic analysis.</p>
        <p class="noindent"><a href="ch10.xhtml#ch10fig13">Figure 10-13</a> is a plot of a router’s hourly data traffic. The plot shows the average number of bits coming into the router and the average number of bits going out. Network administrators need to be familiar with the typical hourly data traffic patterns for their networks. Notice the decrease in data traffic in the early morning and the dramatic increase in data traffic around noon. The traffic clearly shows some type of disturbance around noon. The plot shows that the bit rate significantly increases for a few minutes. This is not necessarily a problem, but it is something that the network administrator should watch.</p>
        <figure class="image" id="ch10fig13">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig13.jpg" aria-describedby="Alch10fig13" alt="Graph shows the hourly plot of a router's data traffic." width="558" height="239">
        <aside class="hidden" id="Alch10fig13">
        <p>The vertical axis of the graph is labeled "bits per second" marked with values ranging from origin to 60M, in increments of 10. The horizontal axis plots the time marked with values ranging from origin to 12.00, in increments of 06.00. "Average bits out" is represented as a fluctuating curve and "Average bits in" is represented as a fluctuating shaded curve.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-13</strong></span> An hourly plot of a router’s data traffic in and out.</p>
        </figcaption>
        </figure>
        <span epub:type="pagebreak" id="page_553"></span>
        <p class="noindent"><a href="ch10.xhtml#ch10fig14">Figure 10-14</a> shows a daily plot of network activity for the same router. During the administrator’s log review, he noted that the cycle of the data traffic from morning to night is as expected: heavy data traffic about noon and very low data traffic in the mornings. An interesting note is that the noon data traffic spikes on the first Wednesday and then repeats the following Wednesday. Whatever is causing the change in traffic appears to happen on Wednesdays. If this sudden change in data traffic turned out to be something of concern, a protocol analyzer could be set up to capture the data traffic on Wednesdays around noon so that the traffic pattern could be examined and explained.</p>
        <figure class="image" id="ch10fig14">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig14.jpg" aria-describedby="Alch10fig14" alt="Graph shows the daily plot of a router's data traffic." width="558" height="239">
        <aside class="hidden" id="Alch10fig14">
        <p>The vertical axis of the graph is labeled "bits per second" marked with values ranging from origin to 40M, in increments of 10N. The horizontal axis plots the days of the week. "Average bits out" is represented as a fluctuating curve and "Average bits in" is represented as a fluctuating shaded curve.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-14</strong></span> A daily plot of a router’s data traffic.</p>
        </figcaption>
        </figure>
        <p class="noindent">Sometimes an administrator needs a graph of the network traffic over a longer period of time. <a href="ch10.xhtml#ch10fig15">Figure 10-15</a> shows the data traffic through the same router over a six-week period. This plot shows some consistency except for a change from week 11 to week 12. Most likely this change can be explained by examining the network trouble reports and maintenance logs to see if this router was briefly out of service.</p>
        <figure class="image" id="ch10fig15">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig15.jpg" aria-describedby="Alch10fig15" alt="Graph shows the weekly plot of a router's data traffic." width="558" height="239">
        <aside class="hidden" id="Alch10fig15">
        <p>The vertical axis of the graph is labeled "bits per second" marked with values ranging from origin to 30M, in increments of 5M. The horizontal axis plots the weeks marked from week 10 to week 14, in increments of a week. "Average bits out" is represented as a fluctuating curve and "Average bits in" is represented as a fluctuating shaded curve.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-15</strong></span> A weekly plot of a router’s data traffic.</p>
        </figcaption>
        </figure>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">It is imperative that network devices maintain the correct time. Incorrect time will result in miscorrelation of the log events. It is recommended that all network devices synchronize their clocks with a reliable NTP (Network Time Protocol) server so that they all have the same clock source and report the same time when reporting information in their logs.</p>
        </div>
        <span epub:type="pagebreak" id="page_554"></span>
        <p class="noindent">To justify the expansion of a network’s capability (for example, higher data rate or better core or distribution service), a network administrator needs to show the data traffic statistics. <a href="ch10.xhtml#ch10fig16">Figure 10-16</a> is a plot of the router’s monthly data traffic. As you can see, there is a significant decrease in data traffic in the summer. The plot also shows that the network was down once in the June–July period and again in January. The manager wants to know whether there is justification to increase the data rate of the router to 1Gbps from the current rate of 100Mbps. There is probably not justification to make this upgrade, at least not immediately. The maximum measured average data rate is about 16Mbps. The router’s 100Mbps data rate does not seem to be causing any traffic congestion problems.</p>
        <figure class="image" id="ch10fig16">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig16.jpg" aria-describedby="Alch10fig16" alt="Graph shows the monthly plot of a router's data traffic." width="558" height="239">
        <aside class="hidden" id="Alch10fig16">
        <p>The vertical axis of the graph is labeled "bits per second" marked with values ranging from origin to 20M, in increments of 5M. The horizontal axis plots the months of the year. "Average bits out" is represented as a fluctuating curve and "Average bits in" is represented as a fluctuating shaded curve.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-16</strong></span> A monthly plot of a router’s data traffic.</p>
        </figcaption>
        </figure>
        <span epub:type="pagebreak" id="page_555"></span>
        <p class="noindent">A network administrator can use SNMP monitors to collect information in addition to utilization in bits per second (bps) for capacity planning. Most NOCs also collect SNMP information, such as packets per second, errors per second, unicasts per second, multicasts per second, and broadcasts per second. All this information can be graphed for better visualization and helps illustrate the overall health of the network through time, as shown in <a href="ch10.xhtml#ch10fig17">Figure 10-17</a>.</p>
        <figure class="image" id="ch10fig17">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig17.jpg" aria-describedby="Alch10fig17" alt="The graphs represents the networks of octets, errors, unicast packets, multicast packets, and broadcast packets." width="700" height="535">
        <aside class="hidden" id="Alch10fig17">
        <p>Five graphs are displayed. The first graph represents octet network with two trend lines. The first trend line represents the average bits in, and the other trend represents the average bits out. The second graph represents error network with no trend lines. The vertical line in the horizontal axis represents the 'average errors in', and the horizontal line along the horizontal axis represents the 'average errors out.' The third graph represents unicast network. The horizontal axis represents the time, and the vertical axis represents packets per second. The "Average packets out" is represented as a fluctuating curve and "Average packets in" is represented as a fluctuating shaded curve. The fourth graph represents mcast network. The horizontal axis represents the time, and the vertical axis represents packets per second. The "Average packets out" is represented as a fluctuating curve and "Average packets in" is represented as a fluctuating shaded curve. The average packets in is lower than the average packets out. The fifth graph represents bcast network. The horizontal axis represents the time, and the vertical axis represents packets per second. The "Average packets out" is represented as a fluctuating curve and "Average packets in" is represented as a fluctuating shaded curve. The average packets in is lower than the average packets out.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-17</strong></span> Network graphs: (a) octets, (b) errors, (c) unicast packets, (d) muliticast packets, (e) broadcast packets.</p>
        </figcaption>
        </figure>
        <p class="noindent">A network administrator must have some expected performance measures (that is, baselines or metrics) for the network. An administrator needs to know the expected normal usage of the network, what type(s) of normal data traffic is expected, what is typical of outbound and inbound Internet data traffic, and who the “big” data users on the network are. Data traffic patterns vary significantly for each network, and each network has its own typical data traffic. Also, data traffic changes during the day. Data traffic is bidirectional, which means it has both transmit/outbound and receive/inbound. <a id="ch10key56" href="glossary.xhtml#glo435"><span class="gray_kt"><strong>Outbound data traffic</strong></span></a> is data leaving a network, and <a id="ch10key57" href="glossary.xhtml#glo278"><span class="gray_kt"><strong>inbound data traffic</strong></span></a> is data entering a network.</p>
        <div class="box">
        <p class="box-title">Outbound Data Traffic</p>
        <p class="box-para">Data traffic leaving a network</p>
        <p class="box-title">Inbound Data Traffic</p>
        <p class="box-para">Data traffic entering a network</p>
        </div>
        <p class="noindent">One of the areas network administrators monitor is the typical utilization of network bandwidth. <a href="ch10.xhtml#ch10fig18">Figure 10-18</a> is a utilization/errors graph of an uplink connection to and from a network. This uplink connection continuously generates large numbers of errors, correlated to the graph of spikes in utilization. Errors at this magnitude will render the connection almost useless, and the issue must be dealt with as soon as possible.</p>
        <figure class="image" id="ch10fig18">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig18.jpg" aria-describedby="Alch10fig18" alt="The screenshot shows the utilization/errors strip chart." width="700" height="332">
        <aside class="hidden" id="Alch10fig18">
        <p>The screenshot of the interface utilization is shown. It displays the utilization and error graph. In the utilization graph, the horizontal axis represents time, and the vertical axis represents 'bits' with values ranging from 0 to 25 Mb. Two fluctuating curves represents the number of bits transmitted, and number of bits received. The peak percent of transmitted and received data are displayed. The bottom pane shows the graph for the errors. The horizontal axis represents time, and the vertical axis represents packets loss with values ranging from 50,00,000 to 200,000,000. Here, the fluctuating curve represents the error.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-18</strong></span> A utilization/errors strip chart for an Internet feed.</p>
        </figcaption>
        </figure>
        <span epub:type="pagebreak" id="page_556"></span>
        <p class="noindent">The data traffic graph capture shown in <a href="ch10.xhtml#ch10fig19">Figure 10-19</a> provides a view of the data traffic activity for an Internet connection to and from a campus network. The graph is collected via NetFlow instead of SNMP.</p>
        <figure class="image" id="ch10fig19">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig19.jpg" aria-describedby="Alch10fig19" alt="The graph shows the network internet traffic activity." width="700" height="330">
        <aside class="hidden" id="Alch10fig19">
        <p>The network internet traffic is displayed as a graph. The horizontal axis represents time, and the vertical axis represents network speed. The trend that represents 'inbound' reaches its highest point of 121 Mbits per second. The trend that represents 'outbound' reaches its highest point of 41 Mbits per second. The trend that represents 'internal' reaches its highest point at less than Mbits per second. The trend that represents 'total' reaches its highest point of 6767 Mbits per second. The trend that represents 'other' reaches its highest point of 2301 Mbits per second.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-19</strong></span> A view of network Internet traffic activity.</p>
        </figcaption>
        </figure>
        <p class="noindent">NetFlow collects information based on packet flow information sent from a network device. Therefore, it can offer more details than SNMP, based on packet activity.</p>
        <p class="noindent"><a href="ch10.xhtml#ch10fig20">Figure 10-20</a> shows the Top Talkers view of conversations on the campus Internet feed. The Top Talkers information captures the IP addresses between the source and destination as well as the bandwidth usage between them. As you can see in this example, the top conversation is between the machines at IP addresses 10.13.14.247 and 24.104.159.162. The 10.13.14.247 machine is on the local network (hence the source). This one conversation is consuming, on average, 33Mbps of the network’s Internet bandwidth/throughput. This chart provides a network administrator with a quick look at which host computer is tying up the network resources. It is <span epub:type="pagebreak" id="page_557"></span>not possible to make a reasonable guess whether this is a normal network layer graph for the network by looking at only this one picture. You can determine this, however, if you have knowledge of expected behavior over the long term.</p>
        <figure class="image" id="ch10fig20">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig20.jpg" aria-describedby="Alch10fig20" alt="A screenshot is displayed." width="700" height="740">
        <aside class="hidden" id="Alch10fig20">
        <p>The screenshot shows the list of top talkers. It shows the number, source, destination, average bits and max bits. The maximum bits of 227.90 Mbit/ second is recorded in entry number 6.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-20</strong></span> The Top Talkers view.</p>
        </figcaption>
        </figure>
        <p class="noindent">Furthermore, NetFlow has the ability to capture more information, such as protocol information. <a href="ch10.xhtml#ch10fig21">Figure 10-21</a> provides a look at the top applications by protocol, as collected by NetFlow.</p>
        <figure class="image" id="ch10fig21">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig21.jpg" aria-describedby="Alch10fig21" alt="The figure displays the application layer table." width="700" height="472">
        <aside class="hidden" id="Alch10fig21">
        <p>The application layer table lists the applications, internal (Mbits per second), inbound (Mbits per second), Outbound (Mbits per second), through (Mbits per second), other (Mbits per second), and total (Mbits per second). The applications listed are as follows. https, http, condor, http-alt, http proxy, zoom, rootd, pcsync- http, Et Cetera.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-21</strong></span> The application layer table.</p>
        </figcaption>
        </figure>
        <p class="noindent"><a href="ch10.xhtml#ch10fig22">Figure 10-22</a> shows the packet size distribution of packets (in bytes) being delivered to and from the campus network’s Internet connection. The average packet size, as shown at the top of the chart, is 1420 bytes. The packet size for IP packets is limited to 1500 bytes.</p>
        <figure class="image" id="ch10fig22">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig22.jpg" aria-describedby="Alch10fig22" alt="The figure displays the packet size distribution table." width="700" height="237">
        <aside class="hidden" id="Alch10fig22">
        <p>The distribution table lists the packet size, internal (Mbits per second), inbound (Mbits per second), Outbound (Mbits per second), through (Mbits per second), other (Mbits per second), and total (Mbits per second). The packet size listed are as follows. 1420; 1500; 1378; 1418; 1492; 1417.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-22</strong></span> The packet size distribution table.</p>
        </figcaption>
        </figure>
        <p class="noindent">The packet size is related to the <em>maximum transmission unit</em> (<em>MTU</em>). MTU is the value (in bytes) of the largest packet size that can be sent across the network link. For Ethernet networks, the MTU is 1500 bytes. An MTU black hole may occur as a result of a misconfigured router not delivering data packets properly. In this case, the router is called an <em>MTU black hole router</em>.</p>
        <span epub:type="pagebreak" id="page_558"></span>
        <p class="noindent">In addition to SNMP and NetFlow, SIEM (security information and event management) is another type of IT system that can be used to provide a holistic view and real-time analysis of an organization’s network and security. A network administrator can use SIEM to correlate the log information and alerts generated by the network or security hardware, servers, and applications. These network device logs—such as traffic logs, audit logs, event logs, or access logs—can collectively provide useful information. Depending on the logging levels or severity levels, they can provide very detailed information. The most detailed level is the debug level; this level should not be left enabled indefinitely as it will generate a large amount of data and will fill up the buffer resource. A SIEM system combines the functionalities security information management (SIM) and security event management (SEM). SIM provides long-term historical information and analysis based on event and log data collected through time. SEM provides real-time monitoring and analysis, and it automates the event management of incident reports and notifications.</p>
        <span epub:type="pagebreak" id="page_559"></span>
        <p class="noindent">The SNMP statistics, flows, and SIEM data collected are based on what the network equipment reports. However, that may not represent or reflect the true user experience. Sometimes, to measure the network data from users’ perspectives, statistics have to be collected at the client’s end. Simple programs (for example, <strong>ping</strong>, which is available in every OS, <strong>traceroute</strong>, which is available in macOS and Linux, and <strong>pathping</strong> and <strong>tracert</strong>, which are available in Windows) can be used on a user computer to get details about how the network performs. Also, users can use bandwidth speed testers, which are available for free on many service provider websites, to test connection throughput and report on download and upload speeds. Another good tool that can be used to test and measure bandwidth capacity is iPerf, which can be run in a server/client mode. These programs represent a very good set of network troubleshooting tools commonly used at the client’s end.</p>
        <p class="noindent">By keeping and examining logs of data traffic, a network administrator can spot potential network problems and plan for possible future expansion of a network.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec15">Section 10-7 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.1 Compare and contrast the Open Systems Interconnection (OSI) model layers and encapsulation concepts.</p>
        <p class="s-para"><em>This section introduces MTU (Maximum Transfer Unit). For Ethernet, the MTU is 1500 bytes.</em></p>
        <p class="s-paran">5.3 Given a scenario, use the appropriate network software tools and commands.</p>
        <p class="s-para"><em>This section examines the use of SNMP and NetFlow.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec16">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">The network administrator notices that the plot of a router’s data traffic varies from hour to hour. What does this information tell the network administrator?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">This is most likely normal operation.</p></li>
        <li><p class="alpha">It would be a good idea to compare this hourly plot with expected hourly plots of the router’s data traffic.</p></li>
        <li><p class="alpha">It would be a good idea to run diagnostics on the router.</p></li>
        <li><p class="alpha">The router needs to be rebooted.</p></li>
        </ol></li>
        <li><p class="num">Data traffic plots are not necessary for which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Hourly plots</p></li>
        <li><p class="alpha">Daily plots</p></li>
        <li><p class="alpha">Weekly plots</p></li>
        <li><p class="alpha">Monthly plots</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_560"></span>What is the expected utilization for an Ethernet network?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">The utilization is based on the CSMA/CD throughput, which is defined by the telco.</p></li>
        <li><p class="alpha">You can answer this question if you know the expected utilization of the network, which is usually 10Gbps.</p></li>
        <li><p class="alpha">The expected utilization is defined by the data traffic in each network. There is not a single answer for all networks.</p></li>
        <li><p class="alpha">It varies based on the cost of using the network and the expected number of remote access clients.</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec8"><span class="space">10-8</span> Network Analyzer: Wireshark</h3>
        <p class="noindent">This section introduces techniques for using a protocol analyzer to examine how networking packets are exchanged in a TCP/IP network. By using a protocol analyzer, such as <a id="ch10key58" href="glossary.xhtml#glo688"><span class="gray_kt"><strong>Wireshark</strong></span></a> or tcpdump, you can develop a better understanding of the protocols being used and how the data packets are being transferred. This section focuses on using the Wireshark protocol analyzer.</p>
        <div class="box">
        <p class="box-title">Wireshark</p>
        <p class="box-para">A software protocol analyzer</p>
        </div>
        <p class="noindent">The Wireshark software includes many advanced features for packet capture and traffic analysis. Using this software will help you learn more about packet transfer and networking protocols. In this section, you will gain an introductory understanding of the capabilities and techniques for using a sophisticated software protocol analyzer to capture and decode data packets and then inspect the packet contents. You can use a packet analyzer to investigate how information is being transferred in a network. In addition, the information provided by the protocol analyzer enables you to detect, identify, and correct network problems. This section guides you through the steps of using the Wireshark protocol analyzer.</p>
        <section>
        <h4 class="h4" id="ch10lev2sec17">Downloading and Installing Wireshark</h4>
        <p class="noindent">To download and install the latest version of the Wireshark software, follow these steps:</p>
        <ol class="number">
        <li><p class="num">Visit <a href="http://www.Wireshark.org">www.Wireshark.org</a>, click <strong>Download Wireshark</strong>, and select your corresponding operating system.</p></li>
        <li><p class="num">Click <strong>Run</strong> when the dialog box appears to initiate the download process.</p></li>
        <li><p class="num">At the setup wizard prompt, select <strong>Next</strong> and agree to the license agreement.</p></li>
        <li><p class="num">Choose the components you would like to install and click <strong>Next</strong> to continue.</p></li>
        <li><p class="num">Select program shortcuts and click <strong>Next</strong> to continue.</p></li>
        <li><p class="num">Use the default directory paths specified in the setup menu and click <strong>Install</strong> to start the installation process.</p></li>
        </ol>
        <p class="noindent">When the Wireshark software is installed, you are ready to begin using it.</p>
        <span epub:type="pagebreak" id="page_561"></span>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec18">Using Wireshark to Capture Packets</h4>
        <p class="noindent">In most cases, you will want to capture data packets from your own network. The following steps describe how to use Wireshark to capture packets:</p>
        <ol class="number">
        <li><p class="num">In Windows, click <strong>Start &gt; Programs &gt; Wireshark</strong> and select <strong>Wireshark</strong> to start the program. In macOS, go to the <strong>Applications</strong> folder and then select <strong>Wireshark</strong> to start the program.</p></li>
        <li><p class="num">To capture packets on an operating network, select the interfaces in which you would like to obtain the capture (see <a href="ch10.xhtml#ch10fig23">Figure 10-23</a>) by going to <strong>Capture &gt; Interfaces</strong>. After selecting your interfaces, click <strong>Start</strong> to start capturing, as shown in <a href="ch10.xhtml#ch10fig24">Figure 10-24</a>. You can also get to the interface list by clicking <strong>Interface List</strong> on the Wireshark home screen.</p>
        <figure class="image" id="ch10fig23">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig23.jpg" aria-describedby="Alch10fig23" alt="The Screenshot shows the homepage of Wireshark Network Analyzer." width="700" height="498">
        <aside class="hidden" id="Alch10fig23">
        <p>The Capture tab is active, Interfaces option within Capture tab is selected. On the screen, the following options are displayed: Capture, Capture Help, Files, and Online. Within Capture, "Interface list and Capture options" icons are listed; within Capture Help, "How to Capture and Network Media" icons are listed; within Files, "Open and Sample Captures" icons are listed; and within Online, "Website, User's Guide, and Security" icons are listed.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-23</strong></span> Initializing Wireshark to capture data packets from a network.</p>
        </figcaption>
        </figure>
        <figure class="image" id="ch10fig24">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig24.jpg" aria-describedby="Alch10fig24" alt="The Screenshot of Wireshark Capture Interfaces screen is displayed." width="640" height="135">
        <aside class="hidden" id="Alch10fig24">
        <p>In the screenshot, Capture description and Help button are shown on the left. On the right, "Start, Options, and Details" button within Packets field" and Close button are displayed.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-24</strong></span> Starting a capture.</p></figcaption>
        </figure>
        </li>
        <li><p class="num">To examine the packets, stop the simulation by clicking <strong>Capture &gt; Stop</strong>. Remember that there must be some activity on your network for packets to be transferred. You might see little traffic activity if your network is in the lab and there is limited network activity. You can always use the <strong>ping</strong> command to generate some network data activity, if needed.</p></li>
        </ol>
        <p class="noindent">To open a saved capture file, click <strong>File &gt; Open</strong> or click <strong>Open</strong> on the Wireshark home screen.</p>
        <p class="noindent">To change capture options, click <strong>Capture &gt; Options</strong> and change the options to your preferred settings.</p>
        <span epub:type="pagebreak" id="page_562"></span>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec19">Using Wireshark to Inspect Data Packets</h4>
        <p class="noindent">In this section, you will see how to use the Wireshark software to examine or inspect the packets transferred in the process of pinging a computer. In this section you will use a captured file that was created using the procedure discussed in the previous section.</p>
        <p class="noindent">Follow these steps to use Wireshark with a file provided at the book’s companion website:</p>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">If you haven’t already, download the Wireshark files from the textbook’s companion website. (See the Introduction for more information on the companion website.) You need these files in the following steps.</p>
        </div>
        <ol class="number">
        <li><p class="num">In Windows, Click <strong>Start &gt; Programs &gt; Wireshark</strong> to start the network analyzer. (The procedure for starting the Wireshark network analyzer is the same for a macOS operating in the dual-boot mode with Windows 10.)</p></li>
        <li><p class="num">In Wireshark, click <strong>File &gt; Open</strong> and select the Wireshark file folder. Double-click the <strong>Ch10-6.cap</strong> file to open it.</p></li>
        </ol>
        <p class="noindent">When you have opened the Ch10-6.cap capture in Wireshark, you should see the captured packets displayed on the detail view screen, as shown in <a href="ch10.xhtml#ch10fig25">Figure 10-25</a>. The information on the screen in this example shows the transfer of packets that occurs when one computer pings another. In this case, computer 1 pinged computer 2. The MAC and IP addresses are listed for your reference in <a href="ch10.xhtml#ch10tab04">Table 10-4</a>.</p>
        <figure class="image" id="ch10fig25">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig25.jpg" alt="The screenshot shows Wireshark 1.6.1 page. The command prompt that displays the ping from computer 1 to computer 2 is shown." width="700" height="419">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-25</strong></span> The captured packets showing the <strong>ping</strong> from computer 1 to computer 2.</p>
        </figcaption>
        </figure>
        <figure class="table" id="ch10tab04">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 10-4</span> <strong>MAC and Assigned IP Addresses for Computer 1 and Computer 2</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Name (Hostname)</p></th>
        <th class="borderb"><p class="tab-para">MAC Address</p></th>
        <th class="borderb"><p class="tab-para">IP Address</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">Computer 1</p></td>
        <td class="borderb"><p class="tab-para">00-10-A4-13-99-2E</p></td>
        <td class="borderb"><p class="tab-para">10.10.10.1</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">Computer 2</p></td>
        <td class="borderb"><p class="tab-para">00-10-A4-13-6C-6E</p></td>
        <td class="borderb"><p class="tab-para">10.10.10.2</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <span epub:type="pagebreak" id="page_563"></span>
        <p class="noindent">In this example, a <strong>ping</strong> command is issued from computer 1 to computer 2:</p>
        <pre class="pre1"><strong>ping 10.10.10.2</strong></pre>
        <p class="noindent">As you can see in packet number 1 in <a href="ch10.xhtml#ch10fig25">Figure 10-25</a>, computer 1 issues an <a id="ch10key59" href="glossary.xhtml#glo22"><span class="gray_kt"><strong>Address Resolution Protocol (ARP)</strong></span></a> request on the LAN. Remember that ARP maps an IP address to a MAC address. In this example, the source of the packet is 00-10-A4-13-99-2E (computer 1). The destination address on the local area network (LAN) shown is BROADCAST, which means this message is being sent to all computers on the network. A query (<strong>Q</strong>) being asked is who has the IP address 10.10.10.2 (<strong>PA</strong>). In <a href="ch10.xhtml#ch10fig26">Figure 10-26</a>, the ARP request basically says, “Who has 10.10.10.2?”</p>
        <figure class="image" id="ch10fig26">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig26.jpg" alt="The Screenshot shows Wireshark 1.6.1 page. The command prompt of computer 2 replying with its MAC address back to computer 1 is listed." width="700" height="419">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-26</strong></span> Computer 2 replying to computer 1 with its MAC address.</p>
        </figcaption>
        </figure>
        <div class="box">
        <p class="box-title">Address Resolution Protocol (ARP)</p>
        <p class="box-para">A protocol used to map IP addresses to MAC addresses</p>
        </div>
        <p class="noindent">The highlighted area (number 2) in <a href="ch10.xhtml#ch10fig26">Figure 10-26</a> shows computer 2 replying to computer 1 with its MAC address. This is an <a id="ch10key60" href="glossary.xhtml#glo41"><span class="gray_kt"><strong>ARP reply</strong></span></a>, a response that returns the MAC address. The source of the ARP reply is 00-10-A4-13-6C-6E (computer 2), which is replying that the MAC address for 10.10.10.2 is 00-10-A4-13-6C-6E (HA). In this case, the owner of the IP address replied to the message.</p>
        <div class="box">
        <p class="box-title">ARP Reply</p>
        <p class="box-para">A response that returns the MAC address</p>
        </div>
        <span epub:type="pagebreak" id="page_564"></span>
        <p class="noindent"><a href="ch10.xhtml#ch10fig27">Figure 10-27</a> shows computer 1 sending an <a id="ch10key61" href="glossary.xhtml#glo176"><span class="gray_kt"><strong>echo request</strong></span></a> directly to computer 2. An echo request is the part of the ICMP protocol that requests a reply from a computer. Notice in the echo request that the destination address is 00-10-A4-13-6C-6E (computer 2’s MAC address), and the source is 00-10-A4-13-99-2E (computer 1’s MAC address). Recall that computer 1 now knows the MAC address for IP address 10.10.10.2, so the <strong>ping</strong> request can be sent directly. In this step, computer 1 uses the ICMP <strong>ping</strong> command to verify network connectivity. The highlighted area in <a href="ch10.xhtml#ch10fig28">Figure 10-28</a> (number 4) shows computer 2’s echo reply. This series of echo requests and replies repeats three more times, for a total of four cycles.</p>
        <figure class="image" id="ch10fig27">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig27.jpg" alt="The screenshot of Wireshark 1.6.1 page is shown. The command prompt of computer 1 sending an echo request directly to computer 2 is shown." width="700" height="402">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-27</strong></span> Computer 1 is sending an echo request to computer 2.</p>
        </figcaption>
        </figure>
        <figure class="image" id="ch10fig28">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig28.jpg" alt="The screenshot of Wireshark 1.6.1 page is displayed. The command prompt the echo reply from computer 2 is shown." width="700" height="418">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-28</strong></span> The echo reply received by computer 1.</p>
        </figcaption>
        </figure>
        <div class="box">
        <p class="box-title">Echo Request</p>
        <p class="box-para">The part of the ICMP protocol that requests a reply from a computer</p>
        </div>
        <span epub:type="pagebreak" id="page_565"></span>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec20">Section 10-8 Review</p>
        <p class="s-para">This section covers the following Network+ exam objective.</p>
        <p class="s-paran">5.2 Given a scenario, use the appropriate tool.</p>
        <p class="s-para"><em>This section introduces the use of the Wireshark network protocol analyzer. It shows the steps for capturing and displaying data packets, focusing on the pack- ets exchanged during an ARP request.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec21">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">True or false: The purpose of an echo request is to obtain the MAC address for a given IP address.</p></li>
        <li><p class="num">True or false: The purpose of an ARP reply is to acquire the IP address.</p></li>
        </ol>
        </aside>
        <span epub:type="pagebreak" id="page_566"></span>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec9"><span class="space">10-9</span> Analyzing Computer Networks: FTP Data Packets</h3>
        <p class="noindent">This section explores the data packet contents of a File Transfer Protocol (<a id="ch10key62" href="glossary.xhtml#glo220"><span class="gray_kt"><strong>FTP</strong></span></a>) data transfer. It uses as an example a captured file that is available for download from the book’s companion website. This file, 10-D.cap, contains several TCP transactions. This section uses that packet IP address for reference.</p>
        <div class="box">
        <p class="box-title">FTP</p>
        <p class="box-para">File Transfer Protocol</p>
        </div>
        <p class="noindent"><a href="ch10.xhtml#ch10fig29">Figure 10-29</a> shows the setup for this data capture, including the MAC addresses for the client and server. The beginning of the FTP session is shown in packet 5 in <a href="ch10.xhtml#ch10fig30">Figure 10-30</a>a. The packet shows that a connection is being made from a Windows server to port 1054 on a client computer. In packet 8, the client is responding with the username <strong>administrator</strong>. In packet 9, the server is telling the client that a password is required. The client responds with the password <strong>Chile</strong> in packet 11.</p>
        <figure class="image" id="ch10fig29">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig29.jpg" alt="Figure shows a Server computer labeled, “00107B7F8147” connected to Port 1054 of a Client computer, labeled “Dell 271F6B.”" width="491" height="141">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-29</strong></span> The computer setup for the FTP packet transfer.</p>
        </figcaption>
        </figure>
        <p class="noindent">Notice that the password is in plaintext (not encrypted). This is why most FTP applications use Secure FTP (<a id="ch10key63" href="glossary.xhtml#glo543"><span class="gray_kt"><strong>SFTP</strong></span></a>) at port 22. With SFTP, all messages between the server and the client are encrypted.</p>
        <div class="box">
        <p class="box-title">SFTP</p>
        <p class="box-para">Secure File Transfer Protocol</p>
        </div>
        <p class="noindent">SFTP (FTP over SSH) and FTPS (FTP over SSL) are the two main protocols available for secure FTP transfers. SFTP and FTPS both offer high levels of data encryption.</p>
        <p class="noindent">In packet 14, the server acknowledges that the user <strong>administrator</strong> is connected to the server. In packet 18, the client is notifying the server that an ASCII data transfer is requested. This is indicated in the Type A statement. In packet 19, the server acknowledges that an ASCII transfer is requested (<strong>Type set to A</strong>). Packet 24 in <a href="ch10.xhtml#ch10fig30">Figure 10-30</a>b is a request from the client to start the data packet transfer from the server. The text <strong>STOR text.txt</strong> signifies this. In packet 25, the server indicates that it is opening the ASCII mode for the transfer. When the FTP connection is established, the port numbers change to handle the data transfer, as shown in packet 31, with SP = 20 and DP = 1055. Packets 38, 40, and 41 are the closing of the FTP transfer. These FTP data packets are part of a TCP connection. In this example, a TCP connection must have been both established and closed. (The TCP initial handshake and the connection closing for this FTP session are presented in <a href="ch06.xhtml#ch6lev1sec6">Section 6-2</a> in <a href="ch06.xhtml#ch6">Chapter 6</a>.)</p>
        <figure class="image" id="ch10fig30">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig30.jpg" aria-describedby="Alch10fig30" alt="Screenshots show Wireshark 1.6.1 (SVN Rev 38096 from /trunk-1.6) screen." width="700" height="223">
        <aside class="hidden" id="Alch10fig30">
        <p>Screenshot (a) shows command prompt that displays FTP data packet transfer and the request for an ASCII data transfer by the client. Screenshot (b) shows command prompt that displays FTP data packet transfer and the closing of the FTP transfer.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-30</strong></span> (a) The beginning of the FTP data packet transfer and the request for an ASCII data transfer by the client. (b) The FTP data packet transfer and the closing of the FTP transfer.</p>
        </figcaption>
        </figure>
        <span epub:type="pagebreak" id="page_567"></span>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec22">Section 10-9 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em>This section examines Secure File Transfer Protocol (SFTP).</em></p>
        <p class="s-paran">5.3 Given a scenario, use the appropriate network software tools and commands.</p>
        <p class="s-para"><em>This section examines the use the Wireshark protocol analyzer.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec23">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">True or false: The purpose of an echo request is to obtain the MAC address for a given IP address.</p></li>
        <li><p class="num">True or false: The purpose of an ARP reply is to acquire the IP address.</p></li>
        <li><p class="num">Which TCP port number(s) does SFTP use?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">20</p></li>
        <li><p class="alpha">25</p></li>
        <li><p class="alpha">22</p></li>
        <li><p class="alpha">80, 443</p></li>
        </ol></li>
        <li><p class="num">When “type set to A” is requested by the client, what is the type of FTP transfer?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Binary</p></li>
        <li><p class="alpha">Mixed Mode</p></li>
        <li><p class="alpha">ASCII</p></li>
        <li><p class="alpha">None of the above</p></li>
        </ol></li>
        </ol>
        </aside>
        <span epub:type="pagebreak" id="page_568"></span>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec10"><span class="space">10-10</span> Troubleshooting IP Networks</h3>
        <p class="noindent">The network environment today is very different from the network environment of a decade ago. No longer are computing devices stationary; we now have mobile computing devices like laptops, tablets, and phones that constantly move in and out of networks. It is more difficult now to restrict the type, make, model, and operating system of the devices that can be on a network, especially on public or open networks. Most networks today are embracing the concept of <a id="ch10key64" href="glossary.xhtml#glo78"><span class="gray_kt"><strong>BYOD</strong></span></a> (bring your own device), which allows users to connect their own computing devices to a network. BYOD adds complexity to the network environment.</p>
        <div class="box">
        <p class="box-title">BYOD</p>
        <p class="box-para">Bring your own device, a policy that allows users to connect their own computing devices to a network</p>
        </div>
        <p class="noindent">BYOD used to refer to devices like personal computers and mobile devices that users will need connecting, but that scope now has expanded. This is due to the growing number of Internet of Things (<a id="ch10key65" href="glossary.xhtml#glo290"><span class="gray_kt"><strong>IoT</strong></span></a>) devices, which are any network devices that are connected to the Internet. These devices are sometimes referred to as <a id="ch10key66" href="glossary.xhtml#glo561"><span class="gray_kt"><strong>smart devices</strong></span></a>. These devices are not just computers but include household appliances and devices like TVs, refrigerators, washers, dryers, and thermostats. Smart devices are appearing everywhere. They can communicate over the Internet, and people can communicate with them over the Internet as well. Many different types of device hardware with different operating systems are therefore using different protocols to access a network. However, they all rely on IP networks, and they all operate within the realm of OSI layers.</p>
        <div class="box">
        <p class="box-title">IoT</p>
        <p class="box-para">Internet of Things devices that are connected to the Internet</p>
        <p class="box-title">Smart Device</p>
        <p class="box-para">A device that is networkable and connected to the Internet</p>
        </div>
        <p class="noindent">This section discusses troubleshooting of IP network problems. When a network problem occurs, it is typically reported by users or detected by network monitoring tools and then routed through the standard IT troubleshooting protocol of the organization.</p>
        <p class="noindent">Many organizations implement some kind of trouble tracking system, and the first line of support is typically the help desk, sometimes referred to as <em>tier 1 support</em>. All the problems are filtered through tier 1; information is gathered, and problem symptoms are identified. If a problem is reported by users, the help desk interacts with and questions users to get as much problem information from them as possible. The help desk consults documentation for known problems and checks for recent changes on the network. Sometimes, help desk staff try to duplicate a user’s problems in order to better understand the symptoms. Most basic problems can be solved at this level; those that can’t are escalated to more advanced tiers.</p>
        <p class="noindent">A network problem should be well documented by the time it reaches the next level of support. With a problem defined and information gathered, it is time to figure out what happened. All probable causes should be considered to really establish a theory of probable cause. Again, it is a good idea to determine whether anything has changed that could have caused the problem. Typically, you base a theory on what is obvious or stands out the most regarding an issue. Then you can start troubleshooting to test the theory to confirm or deny the actual cause of the problem.</p>
        <span epub:type="pagebreak" id="page_569"></span>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">If multiple network problems are reported at the same time, each of them should be worked on individually.</p>
        </div>
        <p class="noindent">There are many troubleshooting approaches, but the following are some of the recommended structured troubleshooting approaches based on the OSI seven-layer model:</p>
        <ul class="bullet">
        <li><p class="bull"><a id="ch10key67" href="glossary.xhtml#glo65"><span class="gray_kt"><strong>Bottom-to-top (or bottom-up) approach</strong></span></a><strong>:</strong> This approach involves starting at the physical layer (layer 1) of the OSI model and working up to the application layer (layer 7).</p></li>
        <li><p class="bull"><a id="ch10key68" href="glossary.xhtml#glo631"><span class="gray_kt"><strong>Top-to-bottom (or top-down) approach</strong></span></a><strong>:</strong> This is the opposite of the bottom-to-top approach: Network troubleshooting starts from the application layer (layer 7) and works down to the physical layer (layer 1).</p></li>
        <li><p class="bull"><a id="ch10key69" href="glossary.xhtml#glo161"><span class="gray_kt"><strong>Divide-and-conquer approach</strong></span></a><strong>:</strong> This approach divides the OSI layers in half and starts at the middle of the stack, which is the network layer (layer 3). The network layer is examined first and then the troubleshooting steps can move up or down, depending on the findings at the network layer.</p></li>
        <li><p class="bull"><a id="ch10key70" href="glossary.xhtml#glo579"><span class="gray_kt"><strong>Spot-the-difference approach</strong></span></a><strong>:</strong> In this common troubleshooting approach, a comparison between the working and non-working network environment or configurations is made. This approach uses the differences as guides in troubleshooting.</p></li>
        </ul>
        <div class="box">
        <p class="box-title">Bottom-to-Top (or Bottom-Up) Approach</p>
        <p class="box-para">A network troubleshooting approach that starts at the physical layer of the OSI model and works up to the application layer</p>
        <p class="box-title">Top-to-Bottom (or Top-Down) Approach</p>
        <p class="box-para">A network troubleshooting approach that starts from the application layer and works down to the physical layer</p>
        <p class="box-title">Divide-and-Conquer Approach</p>
        <p class="box-para">A network troubleshooting approach that divides the OSI layers in half and starts at the middle of the stack, which is the network layer</p>
        <p class="box-title">Spot-the-Difference Approach</p>
        <p class="box-para">A network troubleshooting approach in which a comparison between working and non-working network environments or configurations is made</p>
        </div>
        <p class="noindent">In troubleshooting, if your theory is not confirmed, you have to establish a new theory. If the theory is confirmed, then you need to establish a plan of action to resolve the problem and implement the solution. It is very important to analyze and identify the potential impacts of a solution.</p>
        <p class="noindent">Many organizations have a formal change control policy that provides guidelines for the change process and how it can be implemented. With or without a change control policy, a proposed solution must be reviewed and approved before it is implemented. It is a best practice to communicate to all the affected parties regarding the changes that will be made due to a solution.</p>
        <p class="noindent">Also, implementations that may cause network disruptions are typically scheduled after hours or during low usage times. After the implementation of a solution, there must be a verification of full system functionality; what was operational before must still be operational. Also, you must verify whether a proposed solution solves the problem. If so, you should look for any preventive measures and implement them. If the problem still exists, you have to go back to the list of probable causes and come up with another solution.</p>
        <p class="noindent">The last step—and the most important one—is to document everything: findings, actions, and results. In the world of networking, history does repeat itself. Documentation can save network administrators time and effort when the same problem occurs in the future. In addition, it is a way to share knowledge with other network administrators, who may have to deal with the very same problem.</p>
        <span epub:type="pagebreak" id="page_570"></span>
        <p class="noindent">The methodology just described establishes an overall baseline for dealing with network problems. It can also lend itself to many IT-related problems. The following sections describe some techniques that are commonly used to troubleshoot some well-known IP networking problems.</p>
        <section>
        <h4 class="h4" id="ch10lev2sec24">Verifying Network Settings</h4>
        <p class="noindent">One of the first steps—if not the first step—of network troubleshooting is to verify the network settings. This means simply verifying the network identity of the device and ensuring that its network configuration settings are correct for the network that it is connected to. You need to verify that the settings are valid and the device is on the right network. Knowledge of the network environment is necessary. Each network or subnet has its own permissible IP address range, subnet mask, and gateway. The device’s network configuration must match what the network or subnet is configured for.</p>
        <p class="noindent">In Windows, the command <strong>ipconfig /all</strong> yields network settings such as IP address, subnet mask, gateway, and DNS server. On macOS and Linux, the <strong>ifconfig</strong> command yields the basic IP address and subnet mask information for each interface name, such as en0, en1, and so on. Newer Linux versions use the command <strong>ip address show</strong> instead of <strong>ifconfig</strong>. On macOS, the command <strong>ipconfig getpacket [</strong><em>interface_name</em><strong>]</strong> obtains the same network information retrieved by the Windows command <strong>ipconfig /all</strong>. On Linux, there is no single command that can display all network information.</p>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec25">Investigating IP Address Issues</h4>
        <p class="noindent">If a device’s IP address is wrong for a network, that device will not be able to communicate at all. In a situation where an incorrect IP address is given as the destination, the router sends the data packet to an incorrect device. Sometimes, the IP address of a device is correct and the device is on the right network, but there is a duplicate IP address. In that case, the device will cease to work on the network or will work sporadically, depending on the operating system. The IP conflict situation does not happen as often when network devices all get their IP settings from the DHCP server. An IP address conflict typically happens when the IP settings are manually configured, therefore resulting in a misconfigured device. Most operating systems do a good job of detecting an IP conflict and issue an error message. In most cases, the OS software prevents the devices from using the conflicted IP address and reports the offending device information, including the MAC address. This information can be used to track down the culprit.</p>
        <p class="noindent">There can also be a duplicate MAC address on a network. This occurs rarely because the MAC address value is not configurable in most operating systems. Therefore, it has to be intentionally manipulated. A duplicate MAC address causes intermittent connectivity issues on the two devices with the same MAC address that are on the same network segment or the same VLAN. Some switches, like Cisco switches, report a MAC flapping event when they detect duplicate MAC addresses on different ports.</p>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec26">Finding Subnet Mask Issues</h4>
        <p class="noindent">Because the subnet mask (or netmask) defines the size of the network, when a device has an incorrect subnet mask or an incorrect netmask, it creates a mismatch <span epub:type="pagebreak" id="page_571"></span>in the network size, and it also could potentially result in different network addresses and broadcast addresses from the intended network configuration. This may result in no connectivity between devices. It may also result in no connectivity beyond the network if the subnet mask caused its default gateway to be on a different network.</p>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec27">Looking for Gateway Issues</h4>
        <p class="noindent">When a device needs to communicate to other devices that are not on the same network or on the Internet, it needs a gateway. When the gateway is wrong or when there is an incorrect gateway, the device has no connectivity beyond its network. A basic ping test can be used to verify a gateway issue; you can ping another device on the same network and then try to ping other IP addresses outside the network. When the gateway is down or is not reachable, you see symptoms similar to those you see when you have a wrong gateway. A simple ping test to the gateway IP address can verify the gateway’s existence.</p>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec28">Identifying Name Resolution Issues</h4>
        <p class="noindent">Name resolution issues are some of the most overlooked network issues. When name resolution is not working properly, users tend to mistake the problem for the network being down because they cannot do their typical activities, like browsing the web, checking email, and using network services. Most of these activities are designed to work with hostnames, not IP addresses. Therefore, name resolution is needed to translate the human-readable hostnames to IP addresses.</p>
        <p class="noindent">Name resolution, as discussed earlier in this chapter, relies on DNS servers. Incorrect DNS server information will result in names not resolving. When the DNS server cannot be reached, there is no way to obtain the IP address of the destination, which results in a lack of connectivity to the intended destination. In order to troubleshoot this, it is best to remember a handful of well-known IP addresses both inside the network and outside, on the Internet. If you can successfully ping those IP addresses, the basic IP connectivity is there.</p>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">A popular IP address on the Internet that you can ping is 8.8.8.8, which is one of Google’s public domain name servers.</p>
        </div>
        <p class="noindent">Another step in troubleshooting DNS issues is to verify whether the configured DNS servers are reachable and operational. To verify whether a DNS server is reachable and operational, you use the command <strong>nslookup</strong>. If it yields an error, as shown here, then you know the DNS servers are having issues:</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-22a" id="pre10-22">Click here to view code image</a></p>
        <pre class="pre1">C:\ <strong>nslookup <a href="http://www.google.com">www.google.com</a></strong>
        ;; connection timed out; no servers could be reached
        </pre>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec29">Investigating DHCP Issues</h4>
        <p class="noindent">With all the issues mentioned previously, misconfiguration of the network settings is not the issue if a computer obtains its network configuration settings from the DHCP (Dynamic Host Configuration Protocol) server and if DHCP is working <span epub:type="pagebreak" id="page_572"></span>properly. If a computer is configured to use DHCP and cannot contact its DHCP server or if the DHCP server is not available, most operating systems automatically self-assign an IP address by using Automatic Private IP Addressing (APIPA), which uses the reserved IP address range 169.254.0.0 to 169.254.255.255. (Sometimes this is also referred to as a <em>169 IP address</em> because its starting prefix is always 169.) This address is very recognizable and a great indication when a computer cannot obtain its DHCP configuration settings.</p>
        <p class="noindent">Another DHCP issue that causes a computer to receive a 169 IP address is exhausted DHCP scope. This could happen when the DHCP server cannot lease out an IP address due to its DHCP pool being depleted. To typical users, though, getting a 169 IP address may be confusing because it looks to them just like any other IP address. Often during troubleshooting, when asked if a computer has an IP address, users answer yes. IT support has to be mindful to inquire further about the IP addresses that users obtain.</p>
        <p class="noindent">Another issue that can arise with DHCP is a rogue DHCP server scenario. Every network has a legitimate DHCP server, from which it should get its authentic network configuration settings. However, when there is an illegitimate DHCP server (called a rogue DHCP server) on the same local network and it is serving out a different set of network configuration settings, the information is invalid and, in most cases, will lead to no connectivity to those DHCP devices. A rogue DHCP server sometimes occurs unintentionally as a result of misconfiguration of a network device. This happens more frequently than you might think as many devices bought from stores come preconfigured with many network services enabled, from web services to file sharing services to DHCP. When such a device is connected to a local network, it may inadvertently become a rogue DHCP server and start responding to DHCP requests.</p>
        <p class="noindent">To remedy a rogue DHCP server issue, you need to track it and shut it down. From a client’s perspective, this is a difficult issue to resolve, as the client may not have access to track or the ability to shut down the server. The best the client could possibly do is to manually change the network configuration, but this is only a temporary solution. A user can verify the identity of a DHCP server by using the command <strong>ipconfig /all</strong> on Windows.</p>
        <p class="noindent">Fortunately, network switches today have a feature to safeguard against non-legitimate DHCP servers. This feature, called <a id="ch10key71" href="glossary.xhtml#glo152"><span class="gray_kt"><strong>DHCP snooping</strong></span></a>, can be enabled to specify the trusted DHCP source; the switch then blocks DHCP messages from the untrusted sources.</p>
        <div class="box">
        <p class="box-title">DHCP Snooping</p>
        <p class="box-para">A feature that can be enabled to specify the trusted DHCP source where a switch blocks the DHCP messages from the untrusted sources</p>
        </div>
        <p class="noindent">In order to configure DHCP snooping properly, you must enable it globally with the command <strong>ip dhcp snooping</strong>. Then you need to specify the trusted DHCP interface with the command <strong>ip dhcp snooping trust:</strong></p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-23a" id="pre10-23">Click here to view code image</a></p>
        <pre class="pre1">Switch(config)# <strong>ip dhcp snooping</strong>
        Switch(config)#
        Switch(config)# <strong>int gigabitEthernet 0/1</strong>
        Switch(config-if)# <strong>ip dhcp snooping trust</strong>
        Switch(config-if)#
        </pre>
        <p class="noindent">The trusted interface is the interface to which the legitimate DHCP server is connected or sending its DHCP information. All other switch interfaces without the trust configuration are considered untrusted. Any DHCP message seen coming from these untrusted ports will be filtered.</p>
        <span epub:type="pagebreak" id="page_573"></span>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec30">Checking for Blocked TCP/UDP Ports</h4>
        <p class="noindent">Of all the issues discussed in this section, blocked TCP/UDP ports are some of the most difficult ones to diagnose; these issues can be very time-consuming to troubleshoot. To typical users, this type of problem appears like a sporadic connectivity issue as they can connect to certain services but not others. Even network administrators who have good knowledge of TCP/UDP ports and what services they represent can be stumped. For example, if TCP port 25 is blocked, users can receive emails but cannot send emails. To make the issue more complicated, if UDP port 53 is blocked, DNS communications are not permissible. This might appear to be a DNS server issue, but it is actually not. TCP and UDP ports are usually blocked at the routers or firewalls as part of the access list or filter list. Therefore, troubleshooting this issue may require collaboration with a router or firewall administrator.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch10lev2sec31">Section 10-10 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">4.3 Given a scenario, apply network hardening techniques.</p>
        <p class="s-para"><em>This section introduces DHCP snooping and the configuration steps you can take to prevent it.</em></p>
        <p class="s-paran">5.1 Explain the network troubleshooting methodology.</p>
        <p class="s-para"><em>Many troubleshooting concepts are presented in this section, including divide-and-conquer.</em></p>
        <p class="s-paran">5.3 Given a scenario, use the appropriate network software tools and commands.</p>
        <p class="s-para"><em>This section introduces common network service issues.</em></p>
        <p class="s-paran">5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>This section examines issues such as gateway issues.</em></p>
        <p class="sidebar-title1" id="ch10lev2sec32">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">BYOD devices allow users to do which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Connect their own devices to a network</p></li>
        <li><p class="alpha">Set an IP address</p></li>
        <li><p class="alpha">Set a MAC address</p></li>
        <li><p class="alpha">All of the above are correct.</p></li>
        </ol></li>
        <li><p class="num">Which of the following is true of the Internet of Things?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It is a collection of smart devices.</p></li>
        <li><p class="alpha">It is a collection of typical devices that are networkable and connected to the Internet.</p></li>
        <li><p class="alpha">It relies on IP networks and operates within the realm of the OSI layers.</p></li>
        <li><p class="alpha">All of the above are correct.</p></li>
        </ol></li>
        </ol>
        </aside>
        <span epub:type="pagebreak" id="page_574"></span>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec11">Summary</h3>
        <p class="noindent">This chapter shows a network protocol analyzer in action and explains the steps for capturing data packets as well as analyzing the captured data. This chapter also presents the steps for troubleshooting router and switch interfaces. This chapter introduces analysis of data traffic a network administrator might monitor and the various commands to use. In this chapter, you’ve also learned about the function of DHCP and DNS network services and how to analyze network data traffic by using SNMP, NetFlow, and Wireshark. This chapter concludes with a look at troubleshooting wireless and IP networks.</p>
        </section>
        <section>
        <h3 class="h3" id="ch10lev1sec12">Questions and Problems</h3>
        <section>
        <h4 class="h4" id="ch10lev2sec33">Section 10-2</h4>
        <ol class="number">
        <li><p class="num">What are the two key elements used by the general population when accessing websites on the Internet?</p></li>
        <li><p class="num">What is the purpose of IANA?</p></li>
        <li><p class="num">.com is an example of which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">The DNS root zone for a cc top-level domain</p></li>
        <li><p class="alpha">The DNS root zone for a d top-level domain</p></li>
        <li><p class="alpha">The DNS root zone for a g top-level domain</p></li>
        <li><p class="alpha">The DNS root zone for an int top-level domain</p></li>
        </ol></li>
        <li><p class="num">What does gTLD stand for?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Global top-level domain</p></li>
        <li><p class="alpha">Generic top-level domain</p></li>
        <li><p class="alpha">Gated top-level domain</p></li>
        <li><p class="alpha">None of the above</p></li>
        </ol></li>
        <li><p class="num">What are the .int domain registries?</p></li>
        <li><p class="num">What is the purpose of the Repository of IDN (Internationalized Domain Name) Practices?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_575"></span>What are the three primary functions of IANA? (Select three.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Domain name management</p></li>
        <li><p class="alpha">Portal assignment</p></li>
        <li><p class="alpha">Numbers resource management</p></li>
        <li><p class="alpha">Protocol assignment</p></li>
        <li><p class="alpha">ASE number allocation</p></li>
        </ol></li>
        <li><p class="num">What organization is responsible for IP address assignment in North America?</p></li>
        <li><p class="num">ARIN is responsible for assigning IP addresses to which of the following? (Select two.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Internet service providers</p></li>
        <li><p class="alpha">Home networks</p></li>
        <li><p class="alpha">Corporate networks</p></li>
        <li><p class="alpha">Larger numbers of end users</p></li>
        </ol></li>
        <li><p class="num">Which of the following are world Regional Internet Registries?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">AfriNIC</p></li>
        <li><p class="alpha">AFrNIC</p></li>
        <li><p class="alpha">LACNIC</p></li>
        <li><p class="alpha">ARIN</p></li>
        <li><p class="alpha">AIRN</p></li>
        </ol></li>
        <li><p class="num">What is the purpose of the in-addr.arpa domain?</p></li>
        <li><p class="num">Who handles the assignment of domain names?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">CANN</p></li>
        <li><p class="alpha">Domain registrars</p></li>
        <li><p class="alpha">Network administrators</p></li>
        <li><p class="alpha">TLDs</p></li>
        </ol></li>
        <li><p class="num">What protocol is used to query databases that store user registration information for an Internet domain name and IP space?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">whois protocol</p></li>
        <li><p class="alpha">whereis protocol</p></li>
        <li><p class="alpha">whatis protocol</p></li>
        <li><p class="alpha">None of the above are correct.</p></li>
        </ol></li>
        </ol>
        <span epub:type="pagebreak" id="page_576"></span>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec34">Section 10-3</h4>
        <ol class="number" start="14">
        <li><p class="num">In regard to campus DHCP service, IP address assignment is based on what?</p></li>
        <li><p class="num">How are BOOTP and DHCP related?</p></li>
        <li><p class="num">Define lease time.</p></li>
        <li><p class="num">What networking function is required if a DHCP server is not on the same LAN? Why is this networking function required?</p></li>
        <li><p class="num">What command enables a DHCP relay on a Cisco router?</p></li>
        <li><p class="num">Why is packet 14 in the captured DHCP packets shown in <a href="ch10.xhtml#ch10fig04">Figure 10-4</a> (shown earlier in the chapter) a broadcast?</p></li>
        <li><p class="num">What are the port numbers for DHCP?</p></li>
        <li><p class="num">What command is used to initiate the DHCP process?</p></li>
        <li><p class="num">What happens if a DHCP server is not available?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">The client issues a global broadcast to search for an available DHCP server.</p></li>
        <li><p class="alpha">The host computer issues a unicast packet to the 169.254.1.1 address and then obtains an IP address.</p></li>
        <li><p class="alpha">A DHCP client uses a self-assigned IP address via Automatic Private IP Addressing (APIPA).</p></li>
        <li><p class="alpha">The <strong>ipconfig /redo</strong> command is automatically issued to establish connectivity.</p></li>
        </ol></li>
        <li><p class="num">What command do you use on a router to enable the DHCP relay function?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_577"></span>What information is contained in an MT Offer (DHCP Offer) packet? (Select three.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Default gateway</p></li>
        <li><p class="alpha">Leased time</p></li>
        <li><p class="alpha">Internet address</p></li>
        <li><p class="alpha">IP address of the DNS server</p></li>
        <li><p class="alpha">Hostname</p></li>
        </ol></li>
        <li><p class="num">What does a gratuitous ARP broadcast do?</p></li>
        <li><p class="num">What is the purpose of the command <strong>ip dhcp pool address-pool</strong>?</p></li>
        <li><p class="num">The following commands are entered into a router. Explain what they do.</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-24a" id="pre10-24">Click here to view code image</a></p>
        <pre class="pre1">RouterA(dhcp-config)# <strong>dns-server 192.168.10.52</strong>
        RouterA(dhcp-config)# <strong>domain-name networks.com</strong>
        RouterA(dhcp-config)# <strong>default-router 192.168.10.1</strong>
        </pre></li>
        <li><p class="num">What information does a NOC typically associate with an IP address?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec35">Section 10-4</h4>
        <ol class="number" start="29">
        <li><p class="num">How is IP addressing typically handled in a home network?</p></li>
        <li><p class="num">What happens in Port Address Translation (PAT)?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_578"></span>A router on a home network is assigned IP address 128.123.45.67. A computer in the home network is assigned the private IP address 192.168.10.62. This computer is assigned the public IP address 128.123.45.67:1922. Which IP address is used for routing data packets on the Internet? Is overloading being used?</p></li>
        <li><p class="num">For Cisco routers, what is a local address?</p></li>
        <li><p class="num">For Cisco routers, what is a global address<em>?</em></p></li>
        <li><p class="num">If the interface FastEthernet0/0 is the interface for the internal private LAN and the interface FastEthernet0/1 is the interface facing the public Internet, what configuration commands are used, and what are the appropriate NAT interfaces?</p></li>
        <li><p class="num">What does the following command do?</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-25a" id="pre10-25">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip nat inside source static 10.10.20.1 128.123.14.10</strong></pre></li>
        <li><p class="num">What does the following command do?</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-26a" id="pre10-26">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip nat inside source static tcp 192.168.12.5 443 12.0.0.5 443</strong></pre></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_579"></span>What does the following command do? Does this bring up any security concerns?</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-27a" id="pre10-27">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip nat inside source static 10.10.20.1 15.1.1.2</strong></pre></li>
        <li><p class="num">The command <strong>show ip nat translation</strong> is entered on a router. The following information is displayed. What does it show?</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-28a" id="pre10-28">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip nat translation</strong>
        Pro Inside global  Inside local     Outside local   Outside global
        tcp 15.1.1.2:35425 10.10.20.1:35425 55.105.35.15:80 55.105.35.15:80
        </pre></li>
        <li><p class="num">What is the maximum theoretical number of ports that a single IP address can use?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec36">Section 10-5</h4>
        <ol class="number" start="40">
        <li><p class="num">List 11 top-level domains.</p></li>
        <li><p class="num">What is the purpose of a root server in DNS?</p></li>
        <li><p class="num">An administrator wants to obtain a domain name for a new network. What is the first step?</p></li>
        <li><p class="num">Where are the hostname and IP address for a computer stored for a campus DNS service?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_580"></span>How is it possible for the command <strong>ping <a href="http://www.networkB.edu">www.networkB.edu</a></strong> to find the destination without an IP address?</p></li>
        <li><p class="num">What is the purpose of a reverse DNS lookup? Where is it used?</p></li>
        <li><p class="num">What is the purpose of a forward DNS lookup?</p></li>
        <li><p class="num">What does the root hints file contain?</p></li>
        <li><p class="num">In regard to the Internet, what is a domain?</p></li>
        <li><p class="num">What is an authoritative name server?</p></li>
        <li><p class="num">Explain how a machine obtains the IP address of a website on the Internet.</p></li>
        <li><p class="num">The following entry is made on a Linux server. Describe what it does.</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-29a" id="pre10-29">Click here to view code image</a></p>
        <pre class="pre1">[admin@noc ~]$  <strong>dig +trace <a href="http://www.example.com">www.example.com</a></strong></pre></li>
        <li><p class="num">What does it mean to be a non-authoritative name server?</p></li>
        <li><p class="num">What is a fully qualified domain name (FQDN)?</p></li>
        <li><p class="num">What is the difference between a domain and a zone?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_581"></span>What is the Start of Authority (SOA) record?</p></li>
        <li><p class="num">Which record is a mapping of an IP address to a hostname and is sometimes referred to as a reverse record?</p></li>
        <li><p class="num">What does the following information show?</p>
        <p class="codelink"><a href="ch10_images.xhtml#pre10-30a" id="pre10-30">Click here to view code image</a></p>
        <pre class="pre1">www.iana.org
        canonical name = ianawww.vip.icann.org.
        </pre></li>
        <li><p class="num">Where is the authoritative name server of a domain listed?</p></li>
        <li><p class="num">What is the purpose of the TXT record?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec37">Section 10-6</h4>
        <ol class="number" start="60">
        <li><p class="num">Which port number does SNMP use, and which transport protocol?</p></li>
        <li><p class="num">What information does the SNMP MIB get request ifDescr return from a router?</p></li>
        <li><p class="num">What is the purpose of an MIB?</p></li>
        <li><p class="num">Which SNMP MIBs can be used to return the number of octets of data that have left the router interface?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_582"></span>In <a href="ch10.xhtml#ch10fig31">Figure 10-31</a>, which MIB was issued?</p>
        <figure class="image" id="ch10fig31">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/10fig31.jpg" aria-describedby="Alch10fig31" alt="Screenshot shows the AdventNet MibBrowser window." width="575" height="394">
        <aside class="hidden" id="Alch10fig31">
        <p>The IfPhysAddress option within "interfaces" option in the navigation pane is selected. The content pane displays: "Host, Set Value, Context Name, and Context Engine ID" drop-down lists; "Community, Write Community, Syntax, Access, Object ID, Status, and Reference" fields; Description Rich textbox; and a Rich textbox with a command.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 10-31</strong></span> Figure for problems 64–68.</p></figcaption>
        </figure>
        </li>
        <li><p class="num">In <a href="ch10.xhtml#ch10fig31">Figure 10-31</a>, what information is returned?</p></li>
        <li><p class="num">In <a href="ch10.xhtml#ch10fig31">Figure 10-31</a>, which port number is used?</p></li>
        <li><p class="num">In <a href="ch10.xhtml#ch10fig31">Figure 10-31</a>, which protocol is being used? How do you know?</p></li>
        <li><p class="num">In <a href="ch10.xhtml#ch10fig31">Figure 10-31</a>, who is the manufacturer of this networking device?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec38">Section 10-7</h4>
        <ol class="number" start="69">
        <li><p class="num">What is an expected percentage utilization for a network?</p></li>
        <li><p class="num">If you suspect that you have a physical OSI layer 1 issue with a router interface, which SNMP information can help you investigate the issue?</p></li>
        <li><p class="num">What is outbound data traffic?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_583"></span>What does MTU stand for, and what is the significance of the MTU?</p></li>
        <li><p class="num">What does SIEM stand for, and what is SIEM used for?</p></li>
        <li><p class="num">What does SEM stand for?</p></li>
        <li><p class="num">What is iPerf used for?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec39">Section 10-8</h4>
        <ol class="number" start="76">
        <li><p class="num">What does ARP stand for?</p></li>
        <li><p class="num">What is the purpose of an ARP request?</p></li>
        <li><p class="num">What does ICMP stand for?</p></li>
        <li><p class="num">What is an echo request?</p></li>
        <li><p class="num">What is the purpose of a protocol analyzer?</p></li>
        </ol>
        <p class="noindent"><em>Included on the companion website in the Wireshark capture file folder is a network packet capture file Ch10-a.cap. Open this file using Wireshark. Problems 81–85 refer to this file.</em></p>
        <ol class="number" start="81">
        <li><p class="num">What are the three MAC addresses used in this capture?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_584"></span>Which IP addresses correspond to each MAC address?</p></li>
        <li><p class="num">Which packet IDs correspond to ARP requests?</p></li>
        <li><p class="num">Which packet IDs correspond to ARP replies?</p></li>
        <li><p class="num">Which computers are pinging which computers?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec40">Section 10-9</h4>
        <ol class="number" start="86">
        <li><p class="num">What are the server port numbers for an FTP transfer?</p></li>
        <li><p class="num">How does a client notify a server that an ASCII data transfer is requested?</p></li>
        </ol>
        <p class="noindent"><em>Included on the companion website in the Wireshark capture file folder is a network packet capture file 10-hw.cap. Open this file using Wireshark. Problems 88–96 refer to this file.</em></p>
        <ol class="number" start="88">
        <li><p class="num">What routing protocols are used in this network?</p></li>
        <li><p class="num">In the FTP exchange, what operating system is the server running?</p></li>
        <li><p class="num">What is the destination address for the FTP server?</p></li>
        <li><p class="num">What is the source address for the FTP transfer?</p></li>
        <li><p class="num">What is the username sent to the FTP server?</p></li>
        <li><p class="num">What is the password sent to the FTP server?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_585"></span>What is the name of the file sent over FTP?</p></li>
        <li><p class="num">What are the contents of the file?</p></li>
        <li><p class="num">From Packet ID# 8, what is the FTP server requesting from the host?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec41">Section 10-10</h4>
        <ol class="number" start="97">
        <li><p class="num">How does the top-to-bottom, or top-down, approach to troubleshooting work?</p></li>
        <li><p class="num">How does the bottom-to-top, or bottom-up, approach to troubleshooting work?</p></li>
        <li><p class="num">What is the divide-and-conquer approach to troubleshooting?</p></li>
        <li><p class="num">What is the spot-the-difference approach to troubleshooting?</p></li>
        <li><p class="num">What is a change control policy?</p></li>
        <li><p class="num">Why is documentation important?</p></li>
        <li><p class="num">What command would yield the network settings IP address, subnet mask, gateway, and DNS server on a Windows computer?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>ifconfig</strong></p></li>
        <li><p class="alpha"><strong>ipconfig</strong></p></li>
        <li><p class="alpha"><strong>ipconfig /all</strong></p></li>
        <li><p class="alpha"><strong>netstat -a</strong></p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_586"></span>Which command displays a network interface configuration in Linux?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>ifconfig</strong></p></li>
        <li><p class="alpha"><strong>ipconfig</strong></p></li>
        <li><p class="alpha"><strong>ipconfig /all</strong></p></li>
        <li><p class="alpha"><strong>netstat -a</strong></p></li>
        </ol></li>
        <li><p class="num">Why is a gateway address needed?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It connects to other networking devices in a LAN.</p></li>
        <li><p class="alpha">It allows a device to communicate with other devices that are not on the same network or on the Internet.</p></li>
        <li><p class="alpha">It is used to eliminate the need for a router. The PC just forwards a packet to the gateway, and TCP/IP delivers it.</p></li>
        <li><p class="alpha">It is used to eliminate the need for a router. The PC just forwards a packet to the gateway, and DNS/DHCP delivers it.</p></li>
        </ol></li>
        <li><p class="num">How can you verify the existence of a gateway?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Configure a reverse DNS lookup.</p></li>
        <li><p class="alpha">Issue the <strong>ping</strong> command to 8.8.8.8. A reply indicates existence of the gateway.</p></li>
        <li><p class="alpha">Ping another device on the same network and then try to ping other IP addresses outside the network.</p></li>
        <li><p class="alpha">Use <strong>nslookup</strong> to verify that the gateway is reachable and operational. If it yields an error, the gateway is not having issues.</p></li>
        </ol></li>
        <li><p class="num">To verify if DNS is reachable and operational, which of the following commands do you use?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>lookup</strong></p></li>
        <li><p class="alpha"><strong>nslookup</strong></p></li>
        <li><p class="alpha"><strong>n-slookup</strong></p></li>
        <li><p class="alpha"><strong>dns-lookup</strong></p></li>
        </ol></li>
        <li><p class="num">Which of the following is true of a self-assigned IP address?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Automatic Private IP Addressing (APIPA) uses the reserved IP address range 169.254.0.0 to 169.254.255.255.</p></li>
        <li><p class="alpha">Automatic Private IP Addressing (APIPA) uses the reserved IP address range 127.254.1.0 to 127.254.254.255.</p></li>
        <li><p class="alpha">Automatic Private IP Addressing (APIPA) uses the reserved IP address range 168.254.1.0 to 169.254.255.255.</p></li>
        <li><p class="alpha">Automatic Private IP Addressing (APIPA) uses the reserved IP address range 10.10.1.0 to 10.254.254.255.</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_587"></span>What is DHCP snooping?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A feature that can be disabled to specify the trusted DHCP source; the switch will block the DHCP messages from the untrusted sources.</p></li>
        <li><p class="alpha">A feature that can be enabled to specify the trusted DNS source; the switch will then block the DHCP messages from the untrusted sources.</p></li>
        <li><p class="alpha">A feature that can be enabled to specify the untrusted DHCP source; the switch will pass the DHCP messages to the untrusted sources.</p></li>
        <li><p class="alpha">A feature that can be enabled to specify the trusted DHCP source; the switch will block the DHCP messages from the untrusted sources.</p></li>
        </ol></li>
        <li><p class="num">What command is used to globally enable DHCP snooping?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>ip dhcp snoop</strong></p></li>
        <li><p class="alpha"><strong>ip dhcp snooping</strong></p></li>
        <li><p class="alpha"><strong>tcp/ip dhcp snooping</strong></p></li>
        <li><p class="alpha"><strong>tcp dhcp snooping</strong></p></li>
        </ol></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch10lev2sec42">Certification Questions</h4>
        <ol class="number" start="111">
        <li><p class="num">What command do you use to set the trusted DHCP interface?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>ip dhcp trust</strong></p></li>
        <li><p class="alpha"><strong>ip dhcp trust snooping</strong></p></li>
        <li><p class="alpha"><strong>ip dhcp snoop trust</strong></p></li>
        <li><p class="alpha"><strong>ip dhcp snooping trust</strong></p></li>
        </ol></li>
        <li><p class="num">Write the Cisco router commands for configuring SNMP on a Cisco router. Assume a community string for networking and set the permissions to read-only. Show the router prompts.</p></li>
        <li><p class="num">Which of the following are examples of ccTLDs? (Select two.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">.net</p></li>
        <li><p class="alpha">.uk</p></li>
        <li><p class="alpha">.org</p></li>
        <li><p class="alpha">.au</p></li>
        </ol></li>
        <li><p class="num">What command is used to release a current IP address on a Windows computer?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_588"></span>What is dynamic NAT?</p></li>
        <li><p class="num">The command <strong>show run</strong> is entered on a Cisco router. Describe what the output <strong>SNMP-server test RO</strong> means.</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It indicates that SNMP services have been disabled on the router.</p></li>
        <li><p class="alpha">It indicates that SNMP services have been configured on the router, the community string is <strong>test</strong>, and access is limited to read-only.</p></li>
        <li><p class="alpha">RO indicates that SNMP server has a Request for Offset.</p></li>
        </ol></li>
        </ol>
        <span epub:type="pagebreak" id="page_589"></span>
        </section>
        </section>
        </section>
        </div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/9780137455799.css" crossorigin="anonymous"></div></div></section>
</div>


<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section epub:type="chapter">
        <div class="chap">
        <h2 class="h2" id="ch7"><span epub:type="pagebreak" id="page_354"></span><span class="big">7</span><br>CHAPTER</h2>
        </div>
        <div class="chap1">
        <h2 class="h2a">Introduction to Router Configuration</h2>
        </div>
        <div class="chap-out">
        <p class="chap-out-t" id="ch7-chap-out"><span epub:type="pagebreak" id="page_355"></span>Chapter Outline</p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec1">7-1 Introduction</a></p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec2">7-2 Router Fundamentals</a></p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec3">7-3 The Router’s User EXEC Mode (<strong>Router&gt;</strong>)</a></p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec4">7-4 The Router’s Privileged EXEC Mode (<strong>Router#</strong>)</a></p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec5">7-5 Configuring the Network Interface: Auto-negotiation</a></p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec6">7-6 Troubleshooting the Router Interface</a></p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec7">Summary</a></p>
        <p class="chap-lev"><a href="ch07.xhtml#ch7lev1sec8">Questions and Problems</a></p>
        <p class="chap-out-t" id="ch7-chap-obj">Objectives</p>
        <ul class="bullet">
        <li><p class="chap-obj">Describe the purpose of a router</p></li>
        <li><p class="chap-obj">Describe the purpose of a gateway</p></li>
        <li><p class="chap-obj">Describe the steps (software and hardware) for connecting to a router’s console port</p></li>
        <li><p class="chap-obj">Describe the Cisco IOS command structure</p></li>
        <li><p class="chap-obj">Define the function of the command-line interface</p></li>
        <li><p class="chap-obj">Define the functional difference between a router’s user and privileged EXEC modes</p></li>
        <li><p class="chap-obj">Know how to enter basic router configuration modes</p></li>
        <li><p class="chap-obj">Demonstrate that you can enable and disable certain router interfaces</p></li>
        <li><p class="chap-obj">Describe what information is contained in the running configuration file</p></li>
        </ul>
        <p class="chap-out-t" id="ch7-chap-key">Key Terms</p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key1">Cisco IOS</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key2">command-line interface (CLI)</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key3">CCNA</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key4">CCNP</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key5">CCIE</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key6">broadcast domain</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key7">flat network</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key8">routed network</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key9">layer 3 network</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key10">default gateway address</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key11">next hop address</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key12">subnet, NET</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key13">hostname</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key14">user EXEC mode</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key15">user mode</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key16"><strong>?</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key17"><strong>show flash</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key18"><strong>show version</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key19">router uptime</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key20">privileged mode</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key21"><strong>enable</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key23"><strong>Router#</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key24"><strong>configure terminal</strong> (<strong>conf t</strong>)</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key25"><strong>Router(config)#</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key26"><strong>Router(config-line)#</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key27"><strong>Router(config-if)#</strong></a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key28"><strong>no shutdown</strong> (<strong>no shut</strong>)</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key29"><strong>show ip interface brief</strong> (<strong>sh ip int brief</strong>)</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key30">DCE</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key31">DTE</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key32">auto-negotiation</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key33">fast link pulse (FLP)</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key34">half-duplex</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key35">keepalive packet</a></p>
        <p class="chap-key"><a href="ch07.xhtml#ch7key36">administratively down</a></p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_356"></span>The main objective of this chapter is to introduce the use of the <a id="ch7key1" href="glossary.xhtml#glo96"><span class="gray_kt"><strong>Cisco IOS</strong></span></a> (Internetwork Operating System) software for configuring routers. Cisco IOS is the operating software used to configure all Cisco routers. It includes a <a id="ch7key2" href="glossary.xhtml#glo114"><span class="gray_kt"><strong>command-line interface (CLI)</strong></span></a> for inputting instructions to configure the Cisco router interface. There are many choices for routers in the market; however, Cisco routers have set the standard. Also, Cisco certifications such as the Cisco Certified Network Associate (<a id="ch7key3" href="glossary.xhtml#glo88"><span class="gray_kt"><strong>CCNA</strong></span></a>); the Cisco Certified Network Professional (<a id="ch7key4" href="glossary.xhtml#glo89"><span class="gray_kt"><strong>CCNP</strong></span></a>); and the professional benchmark for internetworking expertise, the Cisco Certified Internetwork Expert (<a id="ch7key5" href="glossary.xhtml#glo86"><span class="gray_kt"><strong>CCIE</strong></span></a>), test the candidate’s ability to configure, troubleshoot, and analyze local area networks (LANs) that incorporate Cisco routers and switches.</p>
        <div class="box">
        <p class="box-title">Cisco IOS</p>
        <p class="box-para">Cisco Internet Operating System, the operating software used in all Cisco routers</p>
        <p class="box-title">Command-Line Interface (CLI)</p>
        <p class="box-para">A type of interface used for inputting commands and configuring devices such as routers</p>
        <p class="box-title">CCNA</p>
        <p class="box-para">Cisco Certified Network Associate</p>
        <p class="box-title">CCNP</p>
        <p class="box-para">Cisco Certified Network Professional</p>
        <p class="box-title">CCIE</p>
        <p class="box-para">Cisco Certified Internetwork Expert</p>
        </div>
        <section>
        <h3 class="h3" id="ch7lev1sec1"><span class="space">7-1</span> Introduction</h3>
        <p class="noindent"><a href="ch07.xhtml#ch7lev1sec2">Section 7-2</a>, “<a href="ch07.xhtml#ch7lev1sec2">Router Fundamentals</a>,” provides an overview of router fundamentals. It further examines some of the router concepts and terminology presented in <a href="ch04.xhtml#ch4">Chapter 4</a>, “<a href="ch04.xhtml#ch4">Wireless Networking</a>,” including the following:</p>
        <ul class="bullet">
        <li><p class="bullet">Interconnecting LANs with routers</p></li>
        <li><p class="bullet">Network segment</p></li>
        <li><p class="bullet">Data flow through a routed network</p></li>
        </ul>
        <p class="noindent"><a href="ch07.xhtml#ch7lev1sec3">Sections 7-3</a>, “<a href="ch07.xhtml#ch7lev1sec3">The Router’s User EXEC Mode (<strong>Router&gt;</strong>)</a>,” and <a href="ch07.xhtml#ch7lev1sec5">7-4</a>, “<a href="ch07.xhtml#ch7lev1sec4">The Router’s Privileged EXEC Mode (<strong>Router#</strong>)</a>,” introduce the steps for accessing and configuring the router interface. These sections show how to work with the Cisco IOS command structure and how to access many of the configuration layers in Cisco IOS. <a href="ch07.xhtml#ch7lev1sec3">Sections 7-3</a> and <a href="ch07.xhtml#ch7lev1sec4">7-4</a> also include router configuration challenges using the Net-Challenge software that is available from this book’s companion website. (See the Introduction for information on how to access this site.) These challenges enable you to test your ability to access and program a router’s interface. The simulator software was developed specifically for this text and emulates the experience of programming the interface of a Cisco router. The software emulates the console port connection, and although it doesn’t emulate all the router programming modes or operational features, it does emulate the functions presented in this chapter.</p>
        <p class="noindent"><a href="ch07.xhtml#ch07tab01">Table 7-1</a> outlines the CompTIA Network+ objectives related to this chapter and identifies the chapter section that covers each objective. At the end of each chapter section you will find a review with comments on the Network+ objectives presented in that section. These comments are provided to help reinforce your understanding of each Network+ objective. The chapter review also includes “Test Your Knowledge” questions to help you understand key concepts before you advance to the next section of the chapter. At the end of the chapter you will find a complete set of questions as well as sample certification exam-type questions.</p>
        <figure class="table" id="ch07tab01">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 7-1</span> <strong><a href="ch07.xhtml#ch7">Chapter 7</a> CompTIA Network+ Objectives</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Domain/Objective Number</p></th>
        <th class="borderb"><p class="tab-para">Domain/Objective Description</p></th>
        <th class="borderb"><p class="tab-para">Section Where Objective Is Covered</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Networking Fundamentals</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.2</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Explain the characteristics of network topologies and network types.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a>, <a href="ch07.xhtml#ch7lev1sec4">7-4</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.3</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Summarize the types of cables and connectors and explain which is the appropriate type for a solution.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec5">7-5</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.4</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Given a scenario, configure a subnet and use appropriate IP addressing schemes.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.5</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Explain common ports and protocols, their application, and encrypted alternatives.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a>, <a href="ch07.xhtml#ch7lev1sec4">7-4</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.7</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Explain basic corporate and datacenter network architecture.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec5">7-5</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>2.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Implementations</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>2.1</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Compare and contrast various devices, their features, and their appropriate placement on the network.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a>, <a href="ch07.xhtml#ch7lev1sec3">7-3</a>, <a href="ch07.xhtml#ch7lev1sec4">7-4</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>2.2</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Compare and contrast routing technologies and bandwidth management concepts.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a>, <a href="ch07.xhtml#ch7lev1sec4">7-4</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>2.3</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Given a scenario, configure and deploy common Ethernet switching features.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a>, <a href="ch07.xhtml#ch7lev1sec5">7-5</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>3.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Operations</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>3.1</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Given a scenario, use the appropriate statistics and sensors to ensure network availability.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec4">7-4</a>, <a href="ch07.xhtml#ch7lev1sec6">7-6</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>3.2</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Explain the purpose of organizational documents and policies.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec3">7-3</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>3.3</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Explain high availability and disaster recovery concepts and summarize which is the best solution.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a>, <a href="ch07.xhtml#ch7lev1sec3">7-3</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>4.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Security</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>4.3</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Given a scenario, apply network hardening techniques.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec6">7-6</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>4.4</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Compare and contrast remote access methods and security implications.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec6">7-6</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>5.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Troubleshooting</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>5.2</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Given a scenario, troubleshoot common cable connectivity issues and select the appropriate tools.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec5">7-5</a>, <a href="ch07.xhtml#ch7lev1sec6">7-6</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>5.3</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Given a scenario, use the appropriate network software tools and commands.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec3">7-3</a>, <a href="ch07.xhtml#ch7lev1sec4">7-4</a></strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>5.5</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Given a scenario, troubleshoot general networking issues.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong><a href="ch07.xhtml#ch7lev1sec2">7-2</a></strong></p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <span epub:type="pagebreak" id="page_357"></span>
        </section>
        <section>
        <h3 class="h3" id="ch7lev1sec2"><span epub:type="pagebreak" id="page_358"></span><span class="space">7-2</span> Router Fundamentals</h3>
        <p class="noindent">This section further defines the function of a router in a network and describes how data packets travel through a layer 3 network. A layer 3 network uses IP addressing for routing data packets to the final destination. Delivery of data packets is made possible by the use of a destination MAC address, an IP address, network addresses, and routing tables. This section examines each of these concepts.</p>
        <p class="noindent">LANs are not necessarily restricted in size. A LAN can have 20 computers, 200 computers, or even more. Multiple LANs also can be interconnected to essentially create a single large LAN. For example, the first floor of a building could be set up as one LAN, the second floor as another LAN, and the third floor as another. The three LANs in the building could be interconnected into essentially one large LAN through the use of switches, with the switches interconnected as shown in <a href="ch07.xhtml#ch07fig01">Figure 7-1</a>.</p>
        <figure class="image" id="ch07fig01">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig01.jpg" alt="An illustration shows large LAN network in a three storeyed building, where the first and third floor with five systems and the second floor with four systems are interconnected by Switch, labeled “Closet.”" width="699" height="442">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-1</strong></span> Three floors of a building interconnected using switches to form one large LAN.</p>
        </figcaption>
        </figure>
        <p class="noindent">Is it problematic to interconnect LANs this way? As long as switches are being used to interconnect the computers, the interconnection of the LANs has minimal impact on network performance. This is true as long as there are not too many computers in the LAN. The number of computers in the LAN is an issue because layer 2 switches do not by default separate <a id="ch7key6" href="glossary.xhtml#glo71"><span class="gray_kt"><strong>broadcast domains</strong></span></a>. This means that any broadcast sent out on the network (for example, the broadcast associated with an ARP request) will be sent to all computers in the LAN. Excessive broadcasts are a problem because each computer must process a broadcast to determine whether it needs to respond; this essentially slows down the computer and the network. Virtual LANs (VLANs) are now being used to interconnect LANs. This concept is examined in <a href="ch08.xhtml#ch8">Chapter 8</a>, “<a href="ch08.xhtml#ch8">Introduction to Switch Configuration</a>.”</p>
        <div class="box">
        <p class="box-title">Broadcast Domain</p>
        <p class="box-para">A portion of a network in which any broadcast sent out on the network is seen by all hosts</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_359"></span>A network with multiple LANs interconnected at the layer 2 level is called a <a id="ch7key7" href="glossary.xhtml#glo215"><span class="gray_kt"><strong>flat network</strong></span></a>. In a flat network, the LANs share the same broadcast domain. The use of a flat network should be avoided if possible for the simple reason that the network response time is greatly affected. Using layer 3 networks helps avoid flat networks, as discussed in the next section.</p>
        <div class="box">
        <p class="box-title">Flat Network</p>
        <p class="box-para">A network where the LANs share the same broadcast domain</p>
        </div>
        <section>
        <h4 class="h4" id="ch7lev2sec1">Layer 3 Networks</h4>
        <p class="noindent">In both the simple office-type LAN introduced in <a href="ch01.xhtml#ch1">Chapter 1</a>, “<a href="ch01.xhtml#ch1">Introduction to Computer Networks</a>,” and the building LAN just discussed, the hosts are interconnected with a switch. The switch allows data to be exchanged within the LAN; however, data cannot be routed to other networks. Also, the broadcast domain of one LAN is not isolated from another LAN’s broadcast domain. The solution for breaking up the broadcast domains and providing network routing is to incorporate routing hardware into the network design to create a <a id="ch7key8" href="glossary.xhtml#glo515"><span class="gray_kt"><strong>routed network</strong></span></a>. A routed network uses layer 3 addressing for selecting routes to forward data packets, so a better name for this type of network is <a id="ch7key9" href="glossary.xhtml#glo319"><span class="gray_kt"><strong>layer 3 network</strong></span></a>.</p>
        <div class="box">
        <p class="box-title">Routed Network</p>
        <p class="box-para">A network that uses layer 3 addressing for selecting routes to forward data packets</p>
        <p class="box-title">Layer 3 Network</p>
        <p class="box-para">Another name for a routed network</p>
        </div>
        <p class="noindent">In layer 3 networks, routers and layer 3 switches are used to interconnect the LANs and other networks in order to isolate broadcast domains and enable hosts from different LANs and networks to exchange data. Data packet delivery is achieved by handing off data to adjacent routers until the packet reaches its final destination. This typically involves passing data packets through many routers and many networks. <a href="ch07.xhtml#ch07fig02">Figure 7-2</a> shows an example of a layer 3 network. This example has four LANs interconnected using three routers. The IP addresses for the networking devices are listed. How does information get from computer A1 in LAN A to computer C1 in LAN C? The following discussion describes the travel of the data packets.</p>
        <p class="noindent">Computer A1 (IP address 10.10.20.1) sends a data packet to computer C1 (IP address 10.10.1.1). Computer A1 uses the assigned subnet mask (255.255.255.0) to determine whether the destination IP address 10.10.1.1 is in the same subnet or network as itself. Applying the subnet mask to the destination address shows that the final destination of the data packet is the 10.10.1.0 network (10.10.1.0 NET). This is not the same subnet or network in which computer A1 resides (10.10.20.0 NET). Therefore, the data packet is forwarded to the <a id="ch7key10" href="glossary.xhtml#glo139"><span class="gray_kt"><strong>default gateway address</strong></span></a> defined by the computer. The default gateway address is the IP address of a networking device (for example, a router) used to forward data that needs to exit the LAN. <a href="ch07.xhtml#ch07fig03">Figure 7-3</a> provides an example of setting a computer’s default gateway address. The default gateway address for computer A1 is 10.10.20.250. This is the IP address of Router A’s FastEthernet0/0 port. <a href="ch07.xhtml#ch07fig02">Figure 7-2</a> shows that Router A’s FastEthernet FA0/0 port connects directly to the switch in LAN A.</p>
        <div class="box">
        <p class="box-title">Default Gateway Address</p>
        <p class="box-para">The IP address of the networking device used to forward data that needs to leave the LAN</p>
        </div>
        <p class="noindent">Recall that the term <em>gateway</em> describes a networking device that enables data to enter and exit a LAN and that the gateway is where the host computers forward data packets that need to exit the LAN. In most networks, the gateway is typically a router or switch port address. An example of a gateway is provided in the block diagram shown in <a href="ch07.xhtml#ch07fig04">Figure 7-4</a>. Keep in mind that the IP address of the gateway must be in the same subnet as the LAN that connects to the gateway, and this same gateway enables data traffic to enter and exit the LAN. An example of using the subnet mask to determine the destination network is provided in Example 7-1.</p>
        <span epub:type="pagebreak" id="page_360"></span>
        <figure class="image" id="ch07fig02">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig02.jpg" aria-describedby="Alch07fig02" alt="Figure shows an interconnection of LAN network using routers." width="700" height="599">
        <aside class="hidden" id="Alch07fig02">
        <p>Figure shows the interconnections within the LANs. Four LANs, "LAN A, LAN B, LAN C, and LAN D," are shown. In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, the switch connects C1 from port 14 and C2 from port 23 labeled, "LAN C server." In LAN D, a switch connects D1 from port 14 and D2 from NIC. From port 24, in LAN A, the data is transmitted to router A through the fast Ethernet FA0/0 with IP address 10.10.20.0 Net. From port 24, in LAN B, the data is transmitted to Router B, through the fast Ethernet port FA0/0 and IP address 10.10.10.0 Net. In LAN C the data is transmitted to Router B from port 13 through the fast Ethernet port FA0/1 and IP address 10.10.1.0 Net. In LAN D the data is transmitted to Router C from port 13 through the fast Ethernet port FA0/0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the port FA0/2 and through the IP address: 10.10.100.0 Net. From Router A, it transmits from the fast Ethernet port FA0/1 to FA0/2 in Router B with IP address 10.10.200.0 Net. From Router B, it transmits from the fast Ethernet port FA0/3 to Router FA0/1 with IP address: 10.0.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer Table Figure 8.2</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-2</strong></span> An example of a layer 3 network with routers interconnecting the LANs.</p>
        </figcaption>
        </figure>
        <figure class="image" id="ch07fig03">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig03.jpg" aria-describedby="Alch07fig03" alt="Screenshot shows the Internet Protocol Version 4 (TCP/IPv4) Properties dialogue box which represents the TCP/IP menu for setting the default gateway address for a system." width="389" height="431">
        <aside class="hidden" id="Alch07fig03">
        <p>The IP Version 4 (TCP/IPv4) properties dialogue box shows the General tab, which is active. "Obtain an IP address automatically" radio button and "Use the following IP address" radio button are displayed, where the latter is selected, which displays the IP address, Subnet mask, and Default gateway. Below it, the "Obtain DNS server address automatically" radio button and "Use the following DNS server addresses" radio button are displayed, where the latter is selected and the Preferred DNS server and Alternate DNS server fields are shown. The Advanced, OK, and Cancel buttons are shown below.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-3</strong></span> The TCP/IP dialog for setting the default gateway address for computer A1.</p>
        </figcaption>
        </figure>
        <span epub:type="pagebreak" id="page_361"></span>
        <figure class="image" id="ch07fig04">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig04.jpg" aria-describedby="Alch07fig04" alt="Illustration shows the data flow to and from the gateway." width="571" height="321">
        <aside class="hidden" id="Alch07fig04">
        <p>Three routers are connected in series and the extension on both ends and the bottom-side of the first router are indicated by dotted lines. The central router is connected to LAN. A downward arrow is indicated from the central router to the LAN and is labeled "Data enters." An upward arrow is indicated from the LAN to the router and is labeled "Data exits." A dotted line from the central router is labeled "Gateway."</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-4</strong></span> Data flow to and from the gateway.</p>
        </figcaption>
        </figure>
        <aside class="box1" epub:type="sidebar">
        <p class="box-title">Example 7-1</p>
        <p class="box-para">A computer host sends two data packets out on the network. The two packets have different IP destination addresses. Determine whether the data packets are to be forwarded to the default gateway or whether they should remain in the same LAN as the host. The source host IP address is 10.10.20.2, and the subnet mask 255.255.255.0 is being used. The destination IP addresses for the data packets are 10.10.1.1 and 10.10.20.3.</p>
        <p class="box-title">Solution</p>
        <p class="box-para">First, determine the network or subnet where the source host resides. This can be determined by ANDing the subnet mask with the source host IP address, as shown. (<a href="ch06.xhtml#ch6">Chapter 6</a>, “<a href="ch06.xhtml#ch6">TCP/IP</a>,” discusses subnet masks and subnets, and you should review it if this concept is difficult to follow.) Remember that subnet masking is a binary AND operation. The decimal numbers are the equivalent of the 7-bit binary number. Here is an example:</p>
        <figure class="table">
        <table>
        <tbody>
        <tr>
        <td><p class="tab-para">255</p></td>
        <td><p class="tab-para">1 1 1 1 1 1 1 1</p></td>
        </tr>
        <tr>
        <td><p class="tab-para">20</p></td>
        <td><p class="tab-para">0 0 0 1 0 1 0 0</p></td>
        </tr>
        <tr>
        <td><p class="tab-para">10</p></td>
        <td><p class="tab-para">0 0 0 0 1 0 1 0</p></td>
        </tr>
        <tr>
        <td><p class="tab-para">2</p></td>
        <td><p class="tab-para">0 0 0 0 0 0 1 0</p></td>
        </tr>
        <tr>
        <td><p class="tab-para">Source IP address</p></td>
        <td><p class="tab-para">10. 10. 20. 2</p></td>
        </tr>
        <tr>
        <td><p class="tab-para">Subnet mask</p></td>
        <td><p class="tab-para"><u>255. 255. 255. 0</u></p></td>
        </tr>
        <tr>
        <td><p class="tab-para">Subnet</p></td>
        <td><p class="tab-para">10. 10. 20. 0</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <p class="box-para">Therefore, the source host is in the 10.10.20.0 subnet (10.10.20.0 NET).</p>
        <p class="box-para"><strong>a.</strong> Determine the destination network for a data packet, given the following information:</p>
        <figure class="table">
        <table>
        <tbody>
        <tr>
        <td><p class="tab-para">Destination IP address</p></td>
        <td><p class="tab-para">10. 10. 1. 1</p></td>
        </tr>
        <tr>
        <td><p class="tab-para">Subnet mask</p></td>
        <td><p class="tab-para"><u>255.255.255. 0</u></p></td>
        </tr>
        <tr>
        <td><p class="tab-para">Subnet</p></td>
        <td><p class="tab-para">10. 10. 1. 0</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <p class="box-para"><span epub:type="pagebreak" id="page_362"></span><strong>Answer:</strong> The destination subnet address for Part a is 10.10.1.0. This is not in the same subnet as the 10.10.20.2 host (10.10.20.0 NET). Therefore, the data packet is forwarded to the default gateway.</p>
        <p class="box-para"><strong>b.</strong> Determine the destination network for a data packet, given the following information:</p>
        <figure class="table">
        <table>
        <tbody>
        <tr>
        <td><p class="tab-para">Destination IP address</p></td>
        <td><p class="tab-para">10. 10. 20. 3</p></td>
        </tr>
        <tr>
        <td><p class="tab-para">Subnet mask</p></td>
        <td><p class="tab-para"><u>255. 255. 255. 0</u></p></td>
        </tr>
        <tr>
        <td><p class="tab-para">Subnet</p></td>
        <td><p class="tab-para">10. 10. 20. 0</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <p class="box-para"><strong>Answer:</strong> The destination subnet address for Part b is 10.10.20.0, which is the same subnet as the host. Therefore, the data packet remains in the 10.10.20.0 subnet.</p>
        </aside>
        <p class="noindent">The router examines the IP address of the data packet sent from the source computer to the gateway and selects a next hop address. The gateway examines the destination IP addresses of all data packets arriving at its interface. The router uses a routing table to determine a network data path and the next hop address. As noted previously, a <em>routing table</em> lists the possible networks that can be used to route the data packets. Alternative data paths are usually provided so that a new route can be selected and data delivery can be maintained if a network route is down. The <a id="ch7key11" href="glossary.xhtml#glo406"><span class="gray_kt"><strong>next hop address</strong></span></a> is the IP address of the next networking device that can be used to forward a data packet to its destination.</p>
        <div class="box">
        <p class="box-title">Next Hop Address</p>
        <p class="box-para">The IP address of the next networking device that can be used to forward a data packet to its destination</p>
        </div>
        <p class="noindent">For example, refer to <a href="ch07.xhtml#ch07fig02">Figure 7-2</a> and assume that a data packet is to be delivered from a host in LAN A to a destination address in LAN C. The data packet is forwarded to the LAN A gateway, which is the FastEthernet0/0 (FA0/0) port on Router A. The router examines the data packet and determines that the data can be sent to the host in LAN C via Router A’s FastEthernet0/2 (FA0/2) interface over the 10.10.100.0 NET to Router C, then to Router B, and finally to LAN C. The routing table also shows that there is a route to LAN C via Router A’s FastEthernet0/1 (FA0/1) interface over the 10.10.200.0 NET. The next hop from Router A’s FastEthernet0/1 (FA0/1) interface is the FA0/2 FastEthernet interface on Router B. Which is the better route?</p>
        <p class="noindent">In terms of hops, data from LAN A will have to travel over two hops (Router C and Router B) to reach LAN C. The route to LAN C via Router B requires only one hop; therefore, Router A will select the 10.10.200.0 NET to route the data to LAN C because it involves fewer router hops. The IP address of the FastEthernet0/2 (FA0/2) port on Router B is the next hop address. In each case, the next hop address is the IP address of the next networking device. For example, if the data travels to LAN C via Router B, the next hop address from Router A is the IP address of the FastEthernet0/2 (FA0/2) port on Router B (10.10.200.2).</p>
        <p class="noindent">The MAC address is used to define the hardware address of the next hop in the network. When the next hop is defined, its MAC address is determined, and the data packet is relayed.</p>
        <p class="noindent"><span epub:type="pagebreak" id="page_363"></span>When the routes are fully configured, data packets can be exchanged between any LANs in the interconnected routed network. For example, data can be exchanged between any of the hosts in any of the LANs shown in <a href="ch07.xhtml#ch07fig02">Figure 7-2</a>. Computer A2 in LAN A can exchange data with computer D1 in LAN D, and computer C1 in LAN C can exchange data with computer B2 in LAN B. This differs from the simple office LAN that has restricted data packet delivery: The data packets can be exchanged only within the LAN. Using IP addressing and routers enables the data to be delivered outside the LAN. Recall that a <em>segment</em> in a network defines the physical link between two internetworking devices (for example, router–hub, router–switch, or router–router). For example, in an interconnected network, a segment is a link between a router and another router. Another example is the segment that connects a router to a LAN via a hub or a switch. Each network segment has its own network address. For the small campus network shown in <a href="ch07.xhtml#ch07fig02">Figure 7-2</a>, the network IP address for the segment connecting LAN A to the router is 10.10.20.0. All hosts connected to this segment must contain a 10.10.20.<em>x</em> address. For example, computer A1 is assigned the IP address 10.10.20.1.</p>
        <p class="noindent">The segment is sometimes called the <a id="ch7key12" href="glossary.xhtml#glo597"><span class="gray_kt"><strong>subnet</strong></span></a>, or <a href="glossary.xhtml#glo597"><span class="gray_kt"><strong>NET</strong></span></a>. These terms are associated with a network segment address, such as 10.10.20.0. In this case, the network is called the 10.10.20.0 NET. All hosts in the 10.10.20.0 NET have a 10.10.20.x IP address. The network addresses are used when configuring the routers and defining which networks are connected to the router. For example, the networks attached to Router A in <a href="ch07.xhtml#ch07fig02">Figure 7-2</a> are listed in <a href="ch07.xhtml#ch07tab02">Table 7-2</a>.</p>
        <div class="box">
        <p class="box-title">Subnet, NET</p>
        <p class="box-para">A network segment</p>
        </div>
        <figure class="table" id="ch07tab02">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 7-2</span> <strong>The Networks (Subnets) Attached to Router A in <a href="ch07.xhtml#ch07fig02">Figure 7-2</a></strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Router Port</p></th>
        <th class="borderb"><p class="tab-para">Subnet</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>FA0/0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>10.10.20.0</strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>FA0/1</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>10.10.200.0</strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>FA0/2</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>10.10.100.0</strong></p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <p class="noindent">The physical layer interface on a router provides a way to connect the router to other networking devices on the network. For example, the FastEthernet ports on the router are used to connect to other FastEthernet ports on other routers. Gigabit and 10 Gigabit Ethernet ports are also available on routers to connect to other high-speed Ethernet ports. (The sample network shown in <a href="ch07.xhtml#ch07fig02">Figure 7-2</a> includes only FastEthernet ports.) Routers also contain serial interfaces that are used to interconnect the router and the network to other serial communication devices. For example, connection to wide area networks (WANs) requires the use of a serial interface to connect to a communications carrier, such as T-Mobile, Verizon, or AT&amp;T. The data speeds for the serial communication ports on routers can vary from slow (56Kbps) up to high-speed DS-3 data rates (47Mbps+), OC-3 (155Mbps), OC-12 (622Mbps), or even OC-192 (9953Mbps).</p>
        <p class="noindent">To provide a summary of the discussion on layer 3 networks, <a href="ch07.xhtml#ch07fig05">Figure 7-5</a> shows the components of a layer 3 network. The source host computer has an installed network interface card (NIC) and an assigned IP address and subnet mask.</p>
        <span epub:type="pagebreak" id="page_364"></span>
        <figure class="image" id="ch07fig05">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig05.jpg" aria-describedby="Alch07fig05" alt="Illustration shows the components of a layer 3 network." width="691" height="269">
        <aside class="hidden" id="Alch07fig05">
        <p>A Source computer shows a downward arrow labeled "NIC and MAC address," and an upward arrow labeled "Host IP address, Gateway address, and Subnet Mask." The source is connected to a Switch, which is in turn connected to two routers with Dual Swivel antenna of Default Gateway represented as dashed lines. Each router is connected to another router at the bottom with the help of NET. The second antenna of the two routers is labeled "Routing Tables." The second router is connected to a switch that is connected to the Destination computer consisting of NIC and MAC address and an upward arrow labeled "Host IP address, Gateway address, and Subnet Mask."</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-5</strong></span> The components of a layer 3 network.</p>
        </figcaption>
        </figure>
        <p class="noindent">The subnet mask is used to determine whether the data should stay in the LAN or be forwarded to the default gateway provided by the router. The router uses its subnet mask to determine the destination network address. The destination network address is checked in the router’s routing table to select the best route to the destination. The data is then forwarded to the next router, which is the next hop address. The next router examines the data packet, determines the destination network address, checks its routing table, and then forwards the data to the next hop. If the destination network is directly connected to the router, it issues an ARP request to determine the MAC address of the destination host. Final delivery is then accomplished by forwarding the data using the destination host computer’s MAC address. Routing of the data through the networks occurs at layer 3, and the final delivery of data in the network occurs at layer 2.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch7lev2sec2">Section 7-2 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.2 Explain the characteristics of network topologies and network types.</p>
        <p class="s-para"><em>This section discusses how routers are used to interconnect a network to other serial communication devices. For example, connection to WANs requires the use of a serial interface to connect to a communications carrier.</em></p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em>As discussed in this section, a broadcast domain is a portion of a network in which any broadcast sent out on the network is seen by all hosts.</em></p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em>This section shows the TCP/IP dialog for setting the default gateway address for a computer.</em></p>
        <p class="s-paran">2.1 Compare and contrast various devices, their features, and their appropriate placement on the network.</p>
        <p class="s-para"><em>As discussed in this section, a segment in a network defines the physical link between two internetworking devices (for example, router–hub, router–switch, or router–router)</em>.</p>
        <p class="s-paran"><span epub:type="pagebreak" id="page_365"></span>2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>As discussed in this section, a layer 3 network uses IP addressing for routing data packets to the final destination. Delivery of data packets is made possible by the use of a destination MAC address, an IP address, network addresses, and routing tables.</em></p>
        <p class="s-paran">2.3 Given a scenario, configure and deploy common Ethernet switching features.</p>
        <p class="s-para"><em>As discussed in this section, any broadcast sent out on the network (for example, the broadcast associated with an ARP request) will be sent to all computers in the LAN.</em></p>
        <p class="s-paran">3.3 Explain high availability and disaster recovery concepts and summarize which is the best solution.</p>
        <p class="s-para"><em>This section introduces router configuration. Make sure you fully understand how to properly work with the command-line interface.</em></p>
        <p class="s-paran">5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>A router uses a routing table to determine a network data path and the next hop address. A routing table is a list of the possible networks that can be used to route data packets.</em></p>
        <p class="sidebar-title1" id="ch7lev2sec3">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">True or false: The purpose of a gateway is to allow data to enter and exit a LAN.</p></li>
        <li><p class="num">What is a broadcast domain?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A network where LANs share broadcasts</p></li>
        <li><p class="alpha">A place to which networks forward data packets that need to leave the domain</p></li>
        <li><p class="alpha">A portion of a network in which any broadcasts sent out on the network are seen by all hosts</p></li>
        <li><p class="alpha">Another name for a routed network</p></li>
        </ol></li>
        <li><p class="num">What is a next hop address?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Another name for the default gateway address</p></li>
        <li><p class="alpha">The IP address of the next networking device that can be used to forward a data packet to its destination</p></li>
        <li><p class="alpha">The IP address of the next networking device that can be used to forward a data packet to its source</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch7lev1sec3"><span epub:type="pagebreak" id="page_366"></span><span class="space">7-3</span> The Router’s User EXEC Mode (Router&gt;)</h3>
        <p class="noindent">This section introduces the use of Cisco Internetwork Operating System (Cisco IOS) for configuring Cisco routers. Cisco IOS, the standard interface software available on all Cisco routers, is regularly updated to provide improved configuration, management, and monitoring capabilities.</p>
        <p class="noindent">The Cisco IOS structure is fairly easy to navigate when you know a few basic commands. Cisco IOS uses a command-line interface (CLI) for inputting commands when configuring Cisco routers. This section explains some simple concepts, such as how to access the Help menu, how to use the <strong>show</strong> commands, and how to take advantage of configuration options. The text comes with the Net-Challenge software, which includes a router simulator specifically developed for this text. The simulator enables you to practice accessing various router modes and gain practice configuring a router for use in a network. The networking challenges presented in the text are available from this book’s companion website for testing your knowledge (refer to the Introduction).</p>
        <section>
        <h4 class="h4" id="ch7lev2sec4">The User EXEC Mode</h4>
        <p class="noindent">After a console connection is made to a router, the first text you see on the terminal screen is <strong>Router con0 is now available</strong>. This text confirms that you have connected to the router’s console port:</p>
        <p class="codelink"><a href="ch07.xhtml#p366pro01" id="p366pro01">Click here to view code image</a></p>
        <pre class="pre1">Router con0 is now available Press RETURN to get started! Router&gt;</pre>
        <p class="noindent">You are prompted to press Return to get started. Press <strong>Return</strong> (the <strong>Enter</strong> key on the keyboard) to connect to the router. The prompt <strong>Router&gt;</strong> indicates that you have connected to a router with the <a id="ch7key13" href="glossary.xhtml#glo253"><span class="gray_kt"><strong>hostname</strong></span></a> router, and the <strong>&gt;</strong> symbol indicates that you have entered the <a id="ch7key14" href="glossary.xhtml#glo655"><span class="gray_kt"><strong>user EXEC mode</strong></span></a> on the router. The user EXEC mode, also called the <a id="ch7key15" href="glossary.xhtml#glo656"><span class="gray_kt"><strong>user mode</strong></span></a>, is the unsecured first level of entry you pass through when accessing a router’s interface. It does not allow access to the router’s configuration options. However, it does allow you to view some of the router parameters, such as <span epub:type="pagebreak" id="page_367"></span>the version of the Cisco IOS software running on the machine, memory, flash, and the available commands.</p>
        <div class="box">
        <p class="box-title">Hostname</p>
        <p class="box-para">The name assigned to a networking device</p>
        <p class="box-title">User EXEC Mode</p>
        <p class="box-para">A router mode that allows a user to check the router status</p>
        <p class="box-title">User Mode</p>
        <p class="box-para">Another term for user EXEC mode</p>
        </div>
        <p class="noindent">One important point to keep in mind when connecting serially to a router is that the router’s logging messages are displayed on the console terminal. These messages are useful when troubleshooting but can be annoying when they show up in the middle of entering configuration commands. Recommended practice dictates that you <em>not</em> enable the debug mode and configure the router at the same time due to the sheer number of logging messages you would receive.</p>
        <p class="noindent">You can view the commands that are recognized at the user level by entering <strong>?</strong> after the <strong>Router&gt;</strong> prompt.<a id="ch7key16" href="glossary.xhtml#glo1"><span class="gray_kt"><strong>?</strong></span></a> is the universal help command in Cisco IOS that allows you to view the available commands from any prompt. The following is an example of using the <strong>?</strong> command to display the available commands from the <strong>Router&gt;</strong> prompt:</p>
        <div class="box">
        <p class="box-title">?</p>
        <p class="box-para">The help command, which can be used at any prompt in the command-line interface for the Cisco IOS software</p>
        </div>
        <p class="codelink"><a href="ch07.xhtml#p367pro01" id="p367pro01">Click here to view code image</a></p>
        <pre class="pre1">Router&gt; <strong>?</strong>
        Exec commands:
        access-enable    Create a temporary Access-List entry
                         clear Reset functions
        connect          Open a terminal connection disable Turn off
                         privileged commands
        disconnect       Disconnect an existing network connection
        enable           Turn on privileged commands
        exit             Exit from the EXEC
        help             Description of the interactive help system
        lock             Lock the terminal
        login            Log in as a particular user logout Exit from the EXEC
        mrinfo           Request neighbor and version information from a multicast router
        mstat            Show statistics after multiple multicast traceroutes
        mtrace           Trace reverse
        multicast        path from destination to source
        name-connection  Name an existing network connection
        pad              Open a X.29 PAD connection ping Send echo messages
        ppp              Start IETF Point-to-Point Protocol (PPP)
        resume           Resume an active network connection
        rlogin           Open an rlogin connection
        set              Set system parameter (not config) show
        Show             running system information
        slip             Start Serial-line IP (SLIP)
        systat           Display information about terminal lines
        telnet           Open a telnet connection
        terminal         Set terminal line parameters
        traceroute       Trace route to destination
        tunnel           Open a tunnel connection
        where            List active connections
        x28              Become an X.28 PAD
        x3               Set X.3 parameters on PAD
        </pre>
        <p class="noindent">It’s obvious from this <strong>Router&gt;</strong> help listing that the command options are quite extensive. It takes some time to master them all. This chapter introduces the fundamental commands required for navigating Cisco IOS and configuring the <span epub:type="pagebreak" id="page_368"></span>router interface. In particular, this section concentrates on the commands and procedures for configuring the router’s FastEthernet and serial ports.</p>
        <p class="noindent">Another way to display commands or features is to place a <strong>?</strong> after the command. A <strong>?</strong> can be used after any command from any prompt at the command-line interface in the Cisco IOS software. You can use <strong>?</strong> after the <strong>show</strong> command at the <strong>Router&gt;</strong> prompt to see the available options in the user mode for the <strong>show</strong> command, as demonstrated here:</p>
        <p class="codelink"><a href="ch07.xhtml#p368pro01" id="p368pro01">Click here to view code image</a></p>
        <pre class="pre1">Router&gt; <strong>show ?</strong>
        backup         Backup status
        clock          Display the system clock
        dialer         Dialer parameters and statistics
        flash          display information about flash: file system
        history        Display the session command history
        hosts          IP domain-name, lookup style, nameservers, and host table
        location       Display the system location
        modemcap       Show Modem Capabilities database
        ppp            PPP parameters and statistics
        rmon           rmon statistics
        rtr            Response Time Reporter (RTR)
        sessions       Information about Telnet connections
        snmp           snmp statistics
        tacacs         Shows tacacs + server statistics
        terminal       Display terminal configuration parameters
        traffic-shape  Traffic rate shaping configuration
        users          Display information about terminal lines
        version        System hardware and software status
        </pre>
        <p class="noindent">Two key options for <strong>show</strong> in the user (<strong>Router&gt;</strong>) mode are <a id="ch7key17" href="glossary.xhtml#glo546"><span class="gray_kt"><strong>show flash</strong></span></a> and <strong>show version</strong>. The <a href="glossary.xhtml#glo546"><span class="gray_kt"><strong>show flash</strong></span></a> command lists the details of the router’s flash memory, and <a id="ch7key18" href="glossary.xhtml#glo553"><span class="gray_kt"><strong>show version</strong></span></a> lists the version of the Cisco IOS software running on the router. Examples of each are provided in the output samples that follow.</p>
        <div class="box">
        <p class="box-title">show flash</p>
        <p class="box-para">A command that lists the details of a router’s flash memory</p>
        <p class="box-title">show version</p>
        <p class="box-para">A command that lists the version of the Cisco IOS software running on the router</p>
        </div>
        <p class="noindent">The show flash command displays the flash memory available and the amount of flash memory used. This command is typically used to verify whether sufficient memory is available to load a new version of the Cisco IOS software. In this example, IOS is already installed, the file length is 110493264 bytes, and the name of the file is c2900-universalk9-mz.SPA.157-3.M8.bin:</p>
        <p class="codelink"><a href="ch07.xhtml#p368pro02" id="p368pro02">Click here to view code image</a></p>
        <pre class="pre1">Router&gt; <strong>show flash</strong><br>
        -#- --length-- -----date/time------ path
        1     110493264 Mar 10 2021 04:03:56 +00:00 c2900-universalk9-<br>mz.SPA.157-3.M8.bin
        </pre>
        <p class="noindent">The following example of using <strong>show version</strong> indicates that the router is running version 15.7:</p>
        <p class="codelink"><a href="ch07.xhtml#p368pro03" id="p368pro03">Click here to view code image</a></p>
        <pre class="pre1">Router&gt; <strong>show version</strong>
        Cisco IOS Software, C2900 Software (C2900-UNIVERSALK9-M), Version
         15.7(3)M8, RELEASE SOFTWARE (fc2)
        <span epub:type="pagebreak" id="page_369"></span>
        Technical Support: <a href="http://www.cisco.com/techsupport">http://www.cisco.com/techsupport</a>
        Copyright (c) 1986-2014 by Cisco Systems, Inc.
        Compiled Wed 09-Mar-21 19:23 by prod_rel_team
        ROM: System Bootstrap, Version 15.0(1r)M16, RELEASE SOFTWARE (fc1)<br>
        Router uptime is 2 weeks, 3 days, 4 hours, 9 minutes
        System returned to ROM by power-on
        System image file is "flash0:c2900-universalk9-mz.SPA.157-3.M8.bin"
        Last reload type: Normal Reload
        Last reload reason: power-on<br>
        Cisco CISCO2901/K9 (revision 1.0) with 483328K/40960K bytes of memory.
        Processor board ID FGL182420YZ
        6 Gigabit Ethernet interfaces
        1 terminal line
        1 Virtual Private Network (VPN) Module
        DRAM configuration is 64 bits wide with parity enabled.
        255K bytes of non-volatile configuration memory.
        250880K bytes of ATA System CompactFlash 0 (Read/Write)
        </pre>
        <p class="noindent">Notice that the <strong>show version</strong> command also lists the <a id="ch7key19" href="glossary.xhtml#glo518"><span class="gray_kt"><strong>router uptime</strong></span></a>—the amount of time that the router has been running. In this example, the router has been running 2 weeks, 3 days, 4 hours, and 9 minutes, and the output indicates that the system was restarted by power-on. This is a good place to check when troubleshooting intermittent problems with a router. Recurring statements that the router was restarted by power-on could indicate that the router has an intermittent power supply problem or that the power to the router is intermittent. Another possibility is that someone is resetting the router. This is not common because access to a router is typically password protected.</p>
        <div class="box">
        <p class="box-title">Router Uptime</p>
        <p class="box-para">The amount of time a router has been running</p>
        </div>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec5">Router Configuration Challenge: User EXEC Mode</h4>
        <p class="noindent">For this challenge, you need to use the Net-Challenge software available from this book’s companion website. Click on Net-ChallengeV5.exe to start the software, and the program opens on your desktop with the screen shown in <a href="ch07.xhtml#ch07fig06">Figure 7-6</a>. The Net-Challenge software uses a three-router campus network scenario. The software allows you to configure each of the three routers and to configure the network interface for computers in the LANs attached to each router. You can connect to a router by clicking one of the three router buttons shown in <a href="ch07.xhtml#ch07fig06">Figure 7-6</a>. Clicking a router button connects the selected router to a console session, thus enabling the simulated console terminal access to all three routers. The routers are marked with their default hostnames Router A, Router B, and Router C.</p>
        <p class="noindent">This challenge tests your ability to use router commands in the user EXEC mode. In the Net-Challenge software, click the <strong>Select Challenge</strong> button to open a list of challenges available with the software. Select the <strong>User EXEC Mode</strong> challenge. The check box window shown in <a href="ch07.xhtml#ch07fig07">Figure 7-7</a> appears. The tasks in each challenge will be checked as you complete them.</p>
        <span epub:type="pagebreak" id="page_370"></span>
        <figure class="image" id="ch07fig06">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig06.jpg" aria-describedby="Alch07fig06" alt="Screenshot shows a Net challenge screen for Router A." width="657" height="398">
        <aside class="hidden" id="Alch07fig06">
        <p>A text reading, "Router con0 is now available. Press RETURN to begin!" is placed at the bottom left corner of the terminal screen. To the right, View Topology button and Select Challenge button are displayed. Text below reads: Default Password: Chile. Below it, buttons for Routers A, B, and C are displayed, where Router A is selected and a text pointing to it reads: Click on these buttons to establish a console connection, in the terminal screen area. The About Net challenge button is placed at the bottom.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-6</strong></span> The Net-Challenge screen.</p>
        </figcaption>
        </figure>
        <figure class="image" id="ch07fig07">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig07.jpg" alt="Screenshot shows a list of check boxes in the User EXEC Net-Challenge dialogue box. A Close button shown below is selected." width="225" height="367">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-7</strong></span>The check box window for the Net-Challenges oftware User EXEC Mode challenge.</p>
        </figcaption>
        </figure>
        <p class="noindent">To begin the User EXEC Mode challenge, follow these steps:</p>
        <ol class="number">
        <li><p class="num">Make sure you are connected to Router A by clicking the appropriate selection button.</p></li>
        <li><p class="num">Demonstrate that you can enter the router’s user EXEC mode. The router screen displays <strong>Router&gt;</strong> when you are in the user EXEC mode.</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_371"></span>Use the <strong>?</strong> command to see the available command options in the Net-<br>Challenge simulation software. You should see that the <strong>enable</strong>, <strong>exit</strong>, and <strong>show</strong> commands are available from the <strong>Router&gt;</strong> prompt. (The Net-Challenge software displays only the commands and options available within the software. This chapter provides examples of what the full command and help options look like.)</p></li>
        <li><p class="num">Enter <strong>exit</strong> at the <strong>Router&gt;</strong> prompt (<strong>Router&gt;exit)</strong>. You should now be back at the <strong>Press RETURN</strong> screen, shown in <a href="ch07.xhtml#ch07fig06">Figure 7-6</a>.</p></li>
        <li><p class="num">Reenter user EXEC mode by pressing <strong>Enter</strong>.</p></li>
        <li><p class="num">Enter the command <strong>show</strong> at the <strong>Router&gt;</strong> prompt (<strong>Router&gt;show</strong>). This step generates an “error unknown command” message. Include a <strong>?</strong> after the <strong>show</strong> command to see which options are available for <strong>show</strong>. You should see text like that in <a href="ch07.xhtml#ch07fig08">Figure 7-8</a> displayed on the terminal screen.</p>
        <figure class="image" id="ch07fig08">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig08.jpg" aria-describedby="Alch07fig08" alt="Screenshot shows a Net challenge screen for Router A which provides the information in the terminal window after the show command is executed." width="700" height="425">
        <aside class="hidden" id="Alch07fig08">
        <p>A text reading, "Router con0 is now available; Press RETURN to begin!; Router&gt;show?; version; flash; history; Router&gt;" To the right, View Topology button and Select Challenge button are displayed. Text below reads: Default Password: Chile. Below it, three buttons for Router A, B, and C are displayed. The About Net challenge button is shown at the bottom.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-8</strong></span> The display for step 6, using the <strong>show</strong> command.</p>
        </figcaption>
        </figure>
        </li>
        <li><p class="num">Enter the command <strong>show flash</strong> at the <strong>Router&gt;</strong> prompt. Describe the information displayed.</p></li>
        <li><p class="num">Enter the command <strong>show version</strong> at the <strong>Router&gt;</strong> prompt. Describe the information displayed.</p></li>
        <li><p class="num">Enter the command <strong>show history</strong> at the <strong>Router&gt;</strong> prompt. Describe the information displayed.</p></li>
        </ol>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch7lev2sec6"><span epub:type="pagebreak" id="page_372"></span>Section 7-3 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">2.1 Compare and contrast various devices, their features, and their appropriate placement on the network.</p>
        <p class="s-para"><em>This section introduces Cisco IOS and explains the steps involved in establishing the router’s console connection and operating in the user EXEC mode.</em></p>
        <p class="s-paran">3.3 Explain high availability and disaster recovery concepts and summarize which is the best solution.</p>
        <p class="s-para"><em>This section introduces the use of the router’s command line. Knowing how to navigate the CLI is extremely important.</em></p>
        <p class="s-paran">5.3 Given a scenario, use the appropriate network software tools and commands.</p>
        <p class="s-para"><em>This section introduces the use of the Net-Challenge software, which is available from this book’s companion website. This software will help you improve your use of the command line on a router.</em></p>
        <p class="sidebar-title1" id="ch7lev2sec7">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">Which command can you use to see the uptime for a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show uptime</strong></p></li>
        <li><p class="alpha"><strong>sh uptime</strong></p></li>
        <li><p class="alpha"><strong>show time</strong></p></li>
        <li><p class="alpha"><strong>show version</strong></p></li>
        </ol></li>
        <li><p class="num">True or false: The prompt for a router’s user EXEC mode is <strong>router/&gt;</strong>.</p></li>
        <li><p class="num">Which command can you use to view the details of a router’s flash memory?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show mem</strong></p></li>
        <li><p class="alpha"><strong>show details</strong></p></li>
        <li><p class="alpha"><strong>show history</strong></p></li>
        <li><p class="alpha"><strong>show flash</strong></p></li>
        </ol></li>
        <li><p class="num">What is the help command in Cisco IOS?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>?</strong></p></li>
        <li><p class="alpha"><strong>-help</strong></p></li>
        <li><p class="alpha"><strong>-h</strong></p></li>
        <li><p class="alpha"><strong>- help</strong></p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch7lev1sec4"><span epub:type="pagebreak" id="page_373"></span><span class="space">7-4</span> The Router’s Privileged EXEC Mode (Router#)</h3>
        <p class="noindent">Configuring a router interface requires you to enter <a id="ch7key20" href="glossary.xhtml#glo475"><span class="gray_kt"><strong>privileged mode</strong></span></a> on a router. Privileged mode (or privileged EXEC mode) allows full access for configuring the router interfaces and configuring a routing protocol. This section focuses on general configuration steps for a router and configuring a router’s interfaces, FastEthernet, and serial ports. (<a href="ch09.xhtml#ch9">Chapter 9</a>, “<a href="ch09.xhtml#ch9">Routing Protocols</a>,” discusses the configuration of routing protocols.)</p>
        <div class="box">
        <p class="box-title">Privileged Mode</p>
        <p class="box-para">A mode that enables configuration of router ports and routing features</p>
        </div>
        <pre class="pre1">Router&gt; <strong>enable</strong>
        Password:
        Router#
        </pre>
        <p class="noindent">You enter privileged mode by using the command <a id="ch7key21" href="glossary.xhtml#glo185"><span class="gray_kt"><strong>enable</strong></span></a> at the <strong>Router&gt;</strong> prompt:</p>
        <div class="box">
        <p class="box-title">enable</p>
        <p class="box-para">A command used to enter a router’s privileged mode</p>
        </div>
        <p class="noindent">The <strong>#</strong> sign after the router name (<a id="ch7key23" href="glossary.xhtml#glo519"><span class="gray_kt"><strong>Router#</strong></span></a>) indicates that you are in privileged EXEC mode.</p>
        <div class="box">
        <p class="box-title">enable</p>
        <p class="box-para">A command used to enter a router’s privileged mode</p>
        </div>
        <p class="noindent">Entry into the router’s privileged mode is typically password protected. The exception to this is when a router has not been configured and a password has not been assigned to it. In this case, pressing <strong>Enter</strong> on the keyboard from the <strong>Router&gt;</strong> prompt places you in the router’s privileged mode (<strong>Router#</strong>). The two different options for entering the router’s privileged mode are shown in <a href="ch07.xhtml#ch07fig09">Figure 7-9</a>: (a) no password protection and (b) password required.</p>
        <div class="box">
        <p class="box-title">Router#</p>
        <p class="box-para">The prompt for a router’s privileged EXEC mode</p>
        </div>
        <figure class="image" id="ch07fig09">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig09.jpg" aria-describedby="Alch07fig09" alt="An illustration shows two sections that represent the steps for entering the router's privileged EXEC mode with no password in section a and with password in section b." width="135" height="308">
        <aside class="hidden" id="Alch07fig09">
        <p>Section a shows a rectangular box that reads,</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-9</strong></span> The options for entering the router’s privileged EXEC mode: (a) no password and (b) password required.</p>
        </figcaption>
        </figure>
        <span epub:type="pagebreak" id="page_374"></span>
        <p class="noindent">It is important to use caution after entering the privileged mode on a router. It is easy to make mistakes, and incorrectly entered router configurations will adversely affect your network. Many options are available for configuring the router and the router’s interfaces from the <strong>Router#</strong> prompt. This section presents the key options needed to configure the router.</p>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">This text comes with the Net-Challenge router simulator (available at this book’s companion website) to help you gain experience with router configuration. In fact, most of the router configuration commands presented in this chapter can be implemented using this router simulator.</p>
        </div>
        <p class="noindent">To use the commands presented in this section, you need to enter the router’s terminal configuration mode. To enter the router’s configuration mode, you can enter the command <a id="ch7key24" href="glossary.xhtml#glo116"><span class="gray_kt"><strong>configure terminal</strong></span></a> at the <strong>Router#</strong> prompt:</p>
        <div class="box">
        <p class="box-title">configure terminal (conf t)</p>
        <p class="box-para">A command used to enter a router’s terminal configuration mode</p>
        </div>
        <p class="codelink"><a href="ch07.xhtml#p374pro01" id="p374pro01">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>configure terminal</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        Router(config)#
        </pre>
        <p class="noindent">Alternatively, you can enter the abbreviated version of the command, <a href="glossary.xhtml#glo116"><span class="gray_kt"><strong>conf t</strong></span></a>:</p>
        <p class="codelink"><a href="ch07.xhtml#p374pro02" id="p374pro02">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>conf t</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        Router(config)#
        </pre>
        <p class="noindent">As you can see in these examples, the prompt changes to <strong>Router(config)#</strong>. This indicates that the router is in terminal configuration mode.</p>
        <section>
        <h4 class="h4" id="ch7lev2sec8">The hostname Command</h4>
        <p class="noindent">The generic name or the name of an unconfigured Cisco router is <em>router</em>, and the <strong>hostname</strong> command enables you to change the name to specifically identify the router. For example, valid hostname structures include RouterA, Router-A, and Router_A; however, Router A is not valid because hostnames cannot contain spaces. In addition, the word <em>router</em> does not have to be used in the hostname. The hostname can, for example, reflect the manner in which the router is being used. A router may serve as the network gateway for the LANs in a building; for example, for a building named Goddard, the router could be called <em>Goddard_gate</em>. This name tells the network administrator the location and purpose of the router.</p>
        <p class="noindent">In the privileged mode (<strong>Router#</strong>), enter the command <strong>hostname [</strong><em>router-name</em><strong>]</strong> and press <strong>Enter</strong> to set the hostname for the router to <em>router-name</em>. The following example demonstrates how the router’s hostname is changed to <strong>RouterA</strong>:</p>
        <p class="codelink"><a href="ch07.xhtml#p374pro03" id="p374pro03">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>hostname RouterA</strong>
        RouterA#(config)
        </pre>
        <span epub:type="pagebreak" id="page_375"></span>
        <p class="noindent">Notice the change in the router’s name from the first line to the second line after the <strong>hostname</strong> command is entered</p>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec9">The enable secret Command</h4>
        <p class="noindent">You configure password protection for privileged (enable) mode by using <strong>enable secret</strong>, as shown here:</p>
        <ol class="number">
        <li><p class="num">Enter the router’s configure terminal mode by entering <strong>configure terminal</strong> or <strong>conf t</strong> at the <strong>Router#</strong> prompt.</p></li>
        <li><p class="num">Enter the command <strong>enable secret [</strong><em>your-password</em><strong>]</strong> and press <strong>Enter</strong>.</p></li>
        </ol>
        <p class="noindent">The following is an example of the commands you use to enable password protection for privileged mode:</p>
        <p class="codelink"><a href="ch07.xhtml#p375pro01" id="p375pro01">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>conf t</strong>
        Router(config)#
        Router(config)# <strong>enable secret my-secret</strong>
        </pre>
        <p class="noindent">This example sets the password for entering the router’s privileged EXEC mode to <strong>my-secret</strong>. The password entered is automatically encrypted. The password for entering the router’s privileged mode must now be entered to gain access to the mode. Cisco has 16 different privilege levels, defined using the numbers 0 to 15. When you do not specify a privilege level with the <strong>enable secret</strong> command, the privilege level defaults to the highest privilege level, which is 15.</p>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec10">Setting the Line Console Passwords</h4>
        <p class="noindent">A router has three line connections through which a user can gain access to the router. The line connections available on a router can be displayed using the <strong>line ?</strong> command at the <a id="ch7key25" href="glossary.xhtml#glo520"><span class="gray_kt"><strong>Router(config)#</strong></span></a> prompt. The available line connections are as follows:</p>
        <div class="box">
        <p class="box-title">Router(config)#</p>
        <p class="box-para">The prompt for a router’s terminal configuration mode</p>
        </div>
        <ul class="bullet">
        <li><p class="bullet"><strong>aux:</strong> Auxiliary line</p></li>
        <li><p class="bullet"><strong>console:</strong> Primary terminal line (console port)</p></li>
        <li><p class="bullet"><strong>vty:</strong> Virtual terminal (for a Telnet connection)</p></li>
        </ul>
        <p class="noindent"><em>Console</em> (primary terminal line) is the console port, <em>vty</em> is the virtual terminal used for Telnet and SSH connections, and <em>aux</em> is used to establish an external modem connection. The following steps demonstrate how to configure password protection for the console port and the virtual terminal:</p>
        <ol class="number">
        <li><p class="num">Enter the command <strong>line console 0</strong> and then press <strong>Enter</strong>.</p></li>
        <li><p class="num">Enter the command <strong>login</strong> and then press <strong>Enter</strong>.</p></li>
        <li><p class="num">Type the command <strong>password [</strong><em>my-secret2</em><strong>]</strong>, where <em>my-secret2</em> is the console port password.</p></li>
        </ol>
        <p class="noindent"><span epub:type="pagebreak" id="page_376"></span>The following example shows how to use these commands to configure a console port:</p>
        <p class="codelink"><a href="ch07.xhtml#p376pro01" id="p376pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>line console 0</strong>
        Router(config-line)# <strong>login</strong>
        Router(config-line)# <strong>password [my-secret2]</strong>
        </pre>
        <p class="noindent">Note the change in the router prompt to <a id="ch7key26" href="glossary.xhtml#glo520"><span class="gray_kt"><strong>Router(config-line)#,</strong></span></a> which indicates that you are in the router’s line configuration mode.</p>
        <div class="box">
        <p class="box-title">Router (config-line)#</p>
        <p class="box-para">A prompt that indicates that you are in the router’s line configuration mode</p>
        </div>
        <p class="noindent">You set password protection for the virtual terminal (line vty) from the router’s configuration mode. You use the virtual terminal for entering the router via a Telnet connection:</p>
        <ol class="number">
        <li><p class="num">Enter the command <strong>line vty 0 4</strong>. This places the router in the line configuration mode (config-line). The <strong>0 4</strong> represents the number of vty lines to which the configuration parameters that follow will be applied. The five virtual terminal connections are identified as 0, 1, 2, 3, and 4.</p></li>
        <li><p class="num">Enter the command <strong>password [</strong><em>my-secret3</em><strong>]</strong>, where <em>my-secret3</em> is the password for the virtual terminal connection.</p></li>
        <li><p class="num">Enter <strong>login</strong> and press <strong>Enter</strong>.</p></li>
        </ol>
        <p class="noindent">The following example shows how to use these commands to enable password protection for a virtual terminal:</p>
        <p class="codelink"><a href="ch07.xhtml#p376pro02" id="p376pro02">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>line vty 0 4</strong>
        Router(config-line)# <strong>password [my-secret3]</strong>
        Router(config-line)# <strong>login</strong>
        </pre>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec11">FastEthernet Interface Configuration</h4>
        <p class="noindent">Routers can have Ethernet (10Mbps), Fast Ethernet (100Mbps), Gigabit Ethernet (1000Mbps), and 10 Gigabit Ethernet (10Gbps) interfaces. These routers can have multiple interfaces supporting 10/100/1000Mbps and 10Gbps connections, and the steps for configuring the different interfaces are basically the same. Each interface is assigned a number. For example, a router could have three FastEthernet interfaces identified as follows:</p>
        <ul class="bullet">
        <li><p class="bullet">FastEthernet0/0</p></li>
        <li><p class="bullet">FastEthernet0/1</p></li>
        <li><p class="bullet">FastEthernet0/2</p></li>
        </ul>
        <p class="noindent">The notation after FastEthernet indicates the interface card slot and port; for example, 0/0 indicates interface card slot 0 and port 0.</p>
        <p class="noindent">The following steps show how to configure a router’s FastEthernet0/0 port (which can also be presented as fa0/0 or FA0/0):</p>
        <ol class="number">
        <li><p class="num"><span epub:type="pagebreak" id="page_377"></span>In the router’s configuration mode—that is, at the <strong>Router(config)#</strong> prompt—enter <strong>interface fa0/0</strong> and press <strong>Enter</strong>. This changes the router’s prompt to <a id="ch7key27" href="glossary.xhtml#glo521"><span class="gray_kt"><strong>Router(config-if)#</strong></span></a>, which indicates that you are in the router’s interface configuration mode. The router keeps track of the interface you are configuring. The abbreviated command <strong>int fa0/0</strong> is used to access the FastEthernet0/0 interface. The router prompt still shows <strong>Router(config-if)#</strong>.</p>
        <div class="box">
        <p class="box-title">Router(config-if)#</p>
        <p class="box-para">A prompt which indicates that you are in the router’s interface configuration mode</p>
        </div></li>
        <li><p class="num">Enter the assigned IP address for the FastEthernet0/0 port—for example, <strong>ip address 10.10.20.250 255.255.255.0</strong>—and press <strong>Enter</strong>.</p></li>
        <li><p class="num">Enable the router interface by using the <a id="ch7key28" href="glossary.xhtml#glo410"><span class="gray_kt"><strong>no shutdown</strong></span></a> (<a href="glossary.xhtml#glo410"><span class="gray_kt"><strong>no shut</strong></span></a>) command.</p>
        <div class="box">
        <p class="box-title">no shutdown (no shut)</p>
        <p class="box-para">A command that enables a router’s interface</p>
        </div></li>
        </ol>
        <p class="noindent">The following example shows how to use these commands to configure a FastEthernet interface:</p>
        <p class="codelink"><a href="ch07.xhtml#p377pro01" id="p377pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>int fa0/0</strong>
        Router(config-if)# <strong>ip address 10.10.20.250 255.255.255.0</strong>
        Router(config-if)# <strong>no shut</strong>
        2w0d: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/0,
        changed state to up
        </pre>
        <p class="noindent">Notice that the router prompts you that the line protocol on interface FastEthernet0/0 changed state to up. Repeat the previous steps for each of the FastEthernet interfaces. The command <a id="ch7key29" href="glossary.xhtml#glo547"><span class="gray_kt"><strong>show ip interface brief</strong></span></a> (<a href="glossary.xhtml#glo547"><span class="gray_kt"><strong>sh ip int brief</strong></span></a>) can be entered at the enable prompt (<strong>Router#</strong>) to verify the status of the router interfaces. The following is an example:</p>
        <div class="box">
        <p class="box-title">show ip interface brief (sh ip int brief)</p>
        <p class="box-para">A command used to verify the status of a router’s interfaces</p>
        </div>
        <p class="codelink"><a href="ch07.xhtml#p377pro02" id="p377pro02">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>sh ip int brief</strong>
        Interface          IP-Address     OK?    Method    Status   Protocol
        FastEthernet0      10.10.20.250   YES    manual    up       up
        FastEthernet1      10.10.200.1    YES    manual    up       up
        FastEthernet2      10.10.100.1    YES    manual    up       up
        </pre>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec12">Serial Interface Configuration</h4>
        <p class="noindent">A router’s serial ports are used to interface to other serial communication devices. The serial communications link is often used in campus networks to connect to WANs or the Internet. To configure the serial port, you need to answer the following questions:</p>
        <ul class="bullet">
        <li><p class="bullet">What is the IP address of the interface?</p></li>
        <li><p class="bullet">What is the subnet mask for the interface?</p></li>
        <li><p class="bullet">Which interfaces are responsible for providing clocking?</p></li>
        </ul>
        <p class="noindent">A router’s serial communication link has a <a id="ch7key30" href="glossary.xhtml#glo137"><span class="gray_kt"><strong>DCE</strong></span></a> end and a <a id="ch7key31" href="glossary.xhtml#glo171"><span class="gray_kt"><strong>DTE</strong></span></a> end. The serial cables on older routers are called <em>V.35</em> cables. Examples are shown in <a href="ch07.xhtml#ch07fig10">Figure 7-10</a>. DCE stands for data communication equipment; DTE stands for data terminal equipment. The DTE interface on the V.35 cable is designed for connecting the router to a CSU/DSU and outside digital communication services. In regard to clocking, the <span epub:type="pagebreak" id="page_378"></span>serial interface defined to be the DCE is responsible for providing clocking. This section shows how to check to see whether your serial connection is DCE or DTE. Modern routers have a built-in CSU/DSU and use an RJ-45 cable to establish a WAN or Internet connection.</p>
        <div class="box">
        <p class="box-title">DCE</p>
        <p class="box-para">Data communications equipment, the serial interface responsible for clocking</p>
        <p class="box-title">DTE</p>
        <p class="box-para">Data terminal equipment, the serial interface designed for connecting to a CSU/DSU and outside digital communication services</p>
        </div>
        <figure class="image" id="ch07fig10">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig10.jpg" alt="Photograph of DCE and DTE ends of V.35 serial cable." width="702" height="198">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-10</strong></span> The (a) DCE and (b) DTE ends of V.35 serial cable (courtesy of StarTech.com).</p>
        </figcaption>
        </figure>
        <p class="noindent">You configure a serial interface by following these steps:</p>
        <ol class="number">
        <li><p class="num">At the router’s <strong>Router(config)#</strong> prompt, enter the command <strong>int s0/0</strong> to access the Serial0/0 interface. The router’s prompt changes to <strong>Router(config-if)#</strong> to indicate that the interface configuration has been entered. Notice that this is the same prompt you see when configuring the FastEthernet interfaces.</p></li>
        <li><p class="num">Configure the IP address and subnet mask for the serial interface by entering the command <strong>ip address 10.10.50.30 255.255.255.0</strong>.</p></li>
        </ol>
        <p class="noindent">The following example shows how to use these commands to configure the Serial0/0 interface:</p>
        <p class="codelink"><a href="ch07.xhtml#p378pro01" id="p378pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>int s0/0</strong>
        Router(config-if)# <strong>ip address 10.10.50.30 255.255.255.0</strong>
        </pre>
        <p class="noindent">If this is a serial DCE connection, you must set the clock rate. The serial connection can have either a DCE or DTE end. Routers use RJ-45 and V.35 connections to connect to the serial interface. In the case of V.35 cables, the DCE end of the serial connection is the female end, and the DTE end of the cable is the male end (refer to <a href="ch07.xhtml#ch07fig10">Figure 7-10</a>). There are three ways to check a cable to see whether the connection is DCE or DTE:</p>
        <ul class="bullet">
        <li><p class="bullet">Use the command <strong>show controllers serial [</strong><em>interface number</em><strong>]</strong> to get an abbreviated list of the displayed results for the <strong>show controllers serial 0/0</strong> command. The Serial0/0 interface is a V.35 DCE cable. This command should be used when you have an RJ-45 connection.</p></li>
        <li><p class="bullet">A V.35 cable is typically labeled to indicate whether it is a DTE or DCE cable.</p></li>
        <li><p class="bullet">Inspect the end of the V.35 cable to determine whether it is male (DTE) or female (DCE).</p></li>
        </ul>
        <p class="noindent"><span epub:type="pagebreak" id="page_379"></span>The customer is usually the DTE end, and the clock rate is set by the communications carrier. The exception to this is when a customer is setting up a back-to-back serial connection within the customer network. In this case, the customer sets the clock rate. The following example shows how to use the <strong>show controllers</strong> command for a DCE interface:</p>
        <p class="codelink"><a href="ch07.xhtml#p379pro01" id="p379pro01">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>sh controllers serial 0/0</strong>
        HD unit 0,   idb    0xCF958,  driver structure at  0xD4DC8
        Buffer size  1524    HD   unit 0, V.35  DCE  cable
        cpb   0x21,  eda  0x4940,  cda  0x4800
        </pre>
        <p class="noindent">The next example shows the results of using the command <strong>show controllers serial [</strong><em>interface number</em><strong>]</strong> for a DTE interface. This example shows the Serial0/1 interface being checked:</p>
        <p class="codelink"><a href="ch07.xhtml#p379pro02" id="p379pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh controllers serial 0/1</strong>
        HD unit 1, idb 0xD9050, driver structure at 0xDE4C0
        buffer size 1524 HD unit 1, V.35 DTE cable
        cpb 0x22, eda 0x30A0, cda 0x30B4
        .
        .
        .
        </pre>
        <p class="noindent">You set the clocking for the serial interface by using the <strong>clock rate</strong> command followed by a data rate. The clock rate for the serial interface on the router can be set for between 1200bps and 4Mbps. The following command sets the clock rate to 56000:</p>
        <p class="codelink"><a href="ch07.xhtml#p379pro03" id="p379pro03">Click here to view code image</a></p>
        <pre class="pre1">Router(config-if)# <strong>clockrate 56000</strong></pre>
        <p class="noindent">Next, you enable the serial interface by using the <strong>no shut</strong> command:</p>
        <p class="codelink"><a href="ch07.xhtml#p379pro04" id="p379pro04">Click here to view code image</a></p>
        <pre class="pre1">Router(config-if)# <strong>no shut</strong>
        2w0d: %LINK-3-UPDOWN: Interface Serial0/0, changed state to up
        2w0d: %LINEPROTO-5-UPDOWN: Line protocol on Interface Serial0/0,
        changed state to up
        </pre>
        <p class="noindent">The router prompts the console port that interface Serial0/0 changed state to up. This command needs to be repeated for all the serial interfaces.</p>
        <p class="noindent">You can check the status of the serial interfaces by using the <strong>sh ip int brief</strong> command, as demonstrated here:</p>
        <p class="codelink"><a href="ch07.xhtml#p379pro05" id="p379pro05">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>sh ip int brief</strong>
        Interface           IP-Address     OK?    Method Status Protocol
        FastEthernet0       10.10.20.250   YES    manual   up     up
        FastEthernet1       10.10.200.1    YES    manual   up     up
        FastEthernet2       10.10.100.1    YES    manual   up     up
        Serial0             10.10.128.1    YES    manual   up     up
        Serial1             10.10.64.1     YES    manual   up     up
        </pre>
        <p class="noindent">The configuration changes take effect right away, and it is important that you save them to the router as you go. These changes are made to the running configuration, <span epub:type="pagebreak" id="page_380"></span>which is not saved in the router’s nonvolatile random access memory (NVRAM). This means that when the router reboots, the configuration changes will be lost. To save the changes to the router’s NVRAM to the startup configuration, use the <strong>copy running-configuration startup-configuration</strong> (or <strong>copy run start</strong> for short) command:</p>
        <pre class="pre1">RouterA# <strong>copy run start</strong></pre>
        <p class="noindent">To verify the changes made and to view the running configuration, use the command <strong>show running-configuration</strong> (or <strong>show run</strong> for short). To view the saved configuration in NVRAM, use the command <strong>show startup-configuration</strong>:</p>
        <p class="codelink"><a href="ch07.xhtml#p380pro01" id="p380pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show run</strong>
        RouterA# <strong>show startup-configuration</strong>
        </pre>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec13">Router Configuration Challenge: Privileged EXEC Mode</h4>
        <p class="noindent">For this challenge, you need to use the Net-Challenge software available from this book’s companion website. Click the Net-ChallengeV5.exe file, and the program opens on your desktop (refer to <a href="ch07.xhtml#ch07fig06">Figure 7-6</a>). The Net-Challenge software uses a three-router campus network scenario. You can view the topology for the network by clicking the <strong>View Topology</strong> button. <a href="ch07.xhtml#ch07fig11">Figure 7-11</a> shows the network topology used in the software. The software allows you to configure each of the three routers and to configure the network interface for computers in the LANs attached to each router. Clicking one of the router diagram symbols in the topology enables you to view the IP address for the router required for the configuration.</p>
        <figure class="image" id="ch07fig11">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig11.jpg" aria-describedby="Alch07fig11" alt="Illustration shows the network topology for Net Challenge with four LAN networks." width="657" height="507">
        <aside class="hidden" id="Alch07fig11">
        <p>In LAN A, the systems A1 and A2 connected to a switch labeled, "LAN A," which is again connected to the first Router through the port Fa 0/0. In LAN B, the systems B1 and B2 are connected to a switch labeled, "LAN B," which is again connected to the second router through a port Fa 0/1. In LAN C, the systems C1 and C2 are connected to a switch labeled "LAN C," which is again connected to the second router through the port Fa 0/2. In LAN D, the systems D1 and D2 are connected to a switch labeled, "LAN D" which is further connected to the third router through the port Fa 0/1. The first and the second routers are connected through the ports Fa 0/1 and Fa 0/0. The second and the third routers are connected through the ports Fa 0/3 and Fa 0/0. The first and the third routers are connected through the port Fa 0/2 and text representing the connection reads "Click on the router symbols to display the IP address settings."</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-11</strong></span> The network topology for Net-Challenge. The arrows indicate where to click to display the router IP address configurations.</p>
        </figcaption>
        </figure>
        <span epub:type="pagebreak" id="page_381"></span>
        <p class="noindent">You can connect to a router by clicking one of the three router buttons shown in <a href="ch07.xhtml#ch07fig08">Figure 7-8</a>, earlier in this chapter. An arrow points to the buttons used to establish a console connection. Clicking a button connects the selected router to a terminal console session, enabling the simulated console terminal access to all three routers. The routers are marked with their default hostnames, Router A, Router B, and Router C.</p>
        <p class="noindent">This challenge tests your ability to use router commands in privileged EXEC mode, also called enable mode. In the Net-Challenge software, click the <strong>Select Challenge</strong> button to open a list of challenges available with the software. Select the <strong>Privileged EXEC Mode</strong> challenge to open the associated check box window. The tasks in each challenge will be checked as you complete them.</p>
        <p class="noindent">To begin the Privileged EXEC Mode challenge, follow these steps:</p>
        <ol class="number">
        <li><p class="num">Make sure you are connected to Router A by clicking the appropriate selection button.</p></li>
        <li><p class="num">Demonstrate that you can enter the router’s privileged EXEC mode. The router screen should display <strong>Router#</strong>. The password is <strong>Chile</strong>.</p></li>
        <li><p class="num">Place the router in terminal configuration mode [<strong>Router(config)#</strong>].</p></li>
        <li><p class="num">Use the <strong>hostname</strong> command to change the router’s hostname to RouterA.</p></li>
        <li><p class="num">Set the enable secret for the router to <strong>Chile</strong>.</p></li>
        <li><p class="num">Set the vty password to <strong>ConCarne</strong>.</p></li>
        <li><p class="num">Configure the three FastEthernet interfaces on RouterA as follows:</p>
        <p class="codelink"><a href="ch07.xhtml#p381pro01" id="p381pro01">Click here to view code image</a></p>
        <pre class="pre1">     FastEthernet0/0  (fa0/0)   10.10.20.250     255.255.255.0
             FastEthernet0/1  (fa0/1)   10.10.200.1      255.255.255.0
             FastEthernet0/2  (fa0/2)   10.10.100.1      255.255.255.0
        </pre></li>
        <li><p class="num">Enable each of the router FastEthernet interfaces by using the <strong>no shut</strong> command.</p></li>
        <li><p class="num">Use the <strong>sh ip interface brief</strong> (or <strong>sh ip int brief</strong>) command to verify that the interfaces have been configured and are functioning. For this challenge, the interfaces on Router B and Router C have already been configured.</p></li>
        <li><p class="num">Configure the serial interfaces on the router. Serial0/0 is the DCE. Set the clock rate to 56000 and set the IP addresses and subnet masks as follows:</p>
        <p class="codelink"><a href="ch07.xhtml#p381pro02" id="p381pro02">Click here to view code image</a></p>
        <pre class="pre1">     Serial 0/0   10.10.128.1   255.255.255.0
             Serial 0/1   10.10.64.1    255.255.255.0
        </pre></li>
        <li><p class="num">Use the <strong>sh ip int brief</strong> command to verify that the serial interfaces are properly configured. For this challenge, the interfaces on Router B and Router C have already been configured.</p></li>
        <li><p class="num">Use the <strong>ping</strong> command to verify that you have network connections for the following interfaces:</p>
        <p class="codelink"><a href="ch07.xhtml#p381pro03" id="p381pro03">Click here to view code image</a></p>
        <pre class="pre1">     RouterA FA0/1 (10.10.200.1) to RouterB FA0/2 (10.10.200.2)
             RouterA FA0/2 (10.10.100.1) to RouterC FA0/2 (10.10.100.2)
        </pre></li>
        </ol>
        <span epub:type="pagebreak" id="page_382"></span>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch7lev2sec14">Section 7-4 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.2 Explain the characteristics of network topologies and network types.</p>
        <p class="s-para"><em>As discussed in this section, a CSU/DSU is used to establish a WAN or Internet connection.</em></p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em>The</em> <strong><em>telnet</em></strong> <em>command is still used, but because it isn’t secure, other commands, such as</em> <strong><em>ssh</em></strong><em>, are preferred.</em></p>
        <p class="s-paran">2.1 Compare and contrast various devices, their features, and their appropriate placement on the network.</p>
        <p class="s-para"><em>This section introduces routers and their various interfaces. Make sure you know about the DCE and DTE interfaces.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section introduces privileged EXEC mode, which allows full access for configuring the router interfaces and configuring a routing protocol.</em></p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>When configuring a router, it is important that you save changes to the router as you go. These changes are made to the running configuration, which is not saved in the router’s nonvolatile memory (NVRAM). This means that when the router reboots, the configuration changes will be lost. To save the changes to the router’s NVRAM, use the</em> <strong><em>copy running-configuration startup-configuration</em></strong> <em>(or</em> <strong><em>copy run start</em></strong> <em>for short) command to save changes to the startup configuration.</em></p>
        <p class="s-paran">5.3 Given a scenario, use the appropriate network software tools and commands.</p>
        <p class="s-para"><em>This section presents the command-line instructions available while in the router’s privileged EXEC mode.</em></p>
        <p class="sidebar-title1" id="ch7lev2sec15">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">Which router interface is most commonly used to interconnect LANs to a campus network?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Serial</p></li>
        <li><p class="alpha">Parallel</p></li>
        <li><p class="alpha">Console port</p></li>
        <li><p class="alpha">Ethernet</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_383"></span>Serial interfaces on a router are typically used to ____.</p>
        <ol class="lower-alpha">
        <li><p class="alpha">connect to console ports</p></li>
        <li><p class="alpha">connect to communication carriers</p></li>
        <li><p class="alpha">connect to auxiliary ports</p></li>
        <li><p class="alpha">interconnect routers</p></li>
        </ol></li>
        <li><p class="num">True or false: The prompt for a router’s terminal configuration mode is <strong>router(config-term)#</strong>.</p></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch7lev1sec5"><span class="space">7-5</span> Configuring the Network Interface: Auto-negotiation</h3>
        <p class="noindent">Most modern internetworking technologies (for example, hubs, switches, bridges, and routers) now incorporate the <a id="ch7key32" href="glossary.xhtml#glo52"><span class="gray_kt"><strong>auto-negotiation</strong></span></a> protocol, which enables Ethernet equipment to automate many installation steps, including automatically configuring the operating speeds (for example, 10/100/1000Mbps) and the selection of full- or half-duplex operation for the data link. The auto-negotiation protocol is defined in the IEEE Ethernet standard 802.3x for Fast Ethernet.</p>
        <div class="box">
        <p class="box-title">Auto-negotiation</p>
        <p class="box-para">A protocol used by interconnected electronic devices to negotiate a link speed</p>
        </div>
        <p class="noindent">The auto-negotiation protocol uses a <a id="ch7key33" href="glossary.xhtml#glo203"><span class="gray_kt"><strong>fast link pulse (FLP)</strong></span></a> to carry the information between the ends of a data link. <a href="ch07.xhtml#ch07fig12">Figure 7-12</a> shows a data link. The data rate for the fast link pulses is 10Mbps, which is the same as for 10BASE-T. The link pulses were designed to operate over the limited bandwidth supported by CAT3 cabling. Therefore, even if a link is negotiated, there is no guarantee that the negotiated data rate will work over the link. Other tests on the cable link must be used to certify that the cable can carry the negotiated data link configuration (refer to <a href="ch02.xhtml#ch2">Chapter 2</a>, “<a href="ch02.xhtml#ch2">Physical Layer Cabling: Twisted-Pair</a>”).</p>
        <div class="box">
        <p class="box-title">Fast Link Pulse (FLP)</p>
        <p class="box-para">A burst that carries configuration information between the ends of a data link</p>
        </div>
        <figure class="image" id="ch07fig12">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig12.jpg" aria-describedby="Alch07fig12" alt="A figure depicts the auto-negotiation protocol." width="436" height="251">
        <aside class="hidden" id="Alch07fig12">
        <p>The figure shows two link partners, a computer and a switch on either side connected via a link. The computer is marked, 10 Mbps, and the switch is marked 10/100 Mbps.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-12</strong></span> The two ends of a data link negotiating the operating parameters.</p>
        </figcaption>
        </figure>
        <section>
        <h4 class="h4" id="ch7lev2sec16"><span epub:type="pagebreak" id="page_384"></span>Auto-negotiation Steps</h4>
        <p class="noindent">During auto-negotiation, each link partner shares or advertises its data link capabilities with the other link partner. The two link partners then use the advertised capabilities to establish the fastest possible data link rate for both links. In the example of the link partners shown in <a href="ch07.xhtml#ch07fig12">Figure 7-12</a>, the computer advertises that its interface supports 10Mbps and 100Mbps. The switch advertises that it supports 10Mbps, 100Mbps, and 1000Mbps. The network interfaces on each link partner are set for auto-negotiation; therefore, the 100Mbps operating mode is selected. This is the fastest data rate that can be used in this data link. The data rate is limited by the 100Mbps capabilities of the computer’s network interface.</p>
        <p class="noindent">You use the following commands to configure the speed auto-negotiation on Cisco routers and switches:</p>
        <p class="codelink"><a href="ch07.xhtml#p384pro01" id="p384pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>int GigabitEthernet0/0</strong>
        Router(config-if)# <strong>speed auto</strong>
        </pre>
        <p class="noindent">Keep in mind that both endpoints must be configured with the same auto-negotiation.</p>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">Auto-negotiation is established when an Ethernet link is established. The link information is sent only one time, when the link is established. The negotiated link configuration remains until the link is broken or the interfaces are reconfigured.</p>
        </div>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec17">Full-Duplex/Half-Duplex</h4>
        <p class="noindent">Modern network interfaces for computer networks are capable of running the data over the links in either full-duplex or half-duplex mode. As noted previously, <em>full-duplex</em> means that the communications device can transmit and receive at the same time. <a id="ch7key34" href="glossary.xhtml#glo241"><span class="gray_kt"><strong>Half-duplex</strong></span></a> means the communications device can transmit or receive but cannot do both at the same time.</p>
        <div class="box">
        <p class="box-title">Half-duplex</p>
        <p class="box-para">A mode in which a communications device can transmit or receive, but cannot do both at the same time</p>
        </div>
        <p class="noindent">In full-duplex operation (10/100Mbps), the media must have separate transmit and receive data paths. This is provided for in UTP cable with pairs 1–2 (transmit) and pairs 3–6 (receive). Full-duplex with Gigabit and 10 Gigabit data rates requires the use of all four wire pairs (1–2, 3–6, 4–5, 7–8). According to the IEEE standards, Gigabit speed and above support only full-duplex. It is important to note that full-duplex mode in computer network links is only for point-to-point links. This means there can be only two end stations on a link. The CSMA/CD protocol is turned off; therefore, there can’t be another networking device competing for use of the link.</p>
        <p class="noindent">An example of networking devices that can run full-duplex is computers connected to a switch. The switch can be configured to run full-duplex mode. In addition, each end station on the link must be configurable to run full-duplex mode.</p>
        <p class="noindent">In half-duplex operation, the link uses the CSMA/CD protocol. This means only one device talks at a time, and while the one device is talking, the other networking <span epub:type="pagebreak" id="page_385"></span>devices “listen” to the network traffic. <a href="ch07.xhtml#ch07fig13">Figure 7-13</a> shows examples of networks configured for full- and half-duplex modes. In full-duplex operation [<a href="ch07.xhtml#ch07fig13">Figure 7-13</a>(a)], CSMA/CD is turned off, and computers 1 and 2 and the switch are transmitting and receiving at the same time. In half-duplex mode [<a href="ch07.xhtml#ch07fig13">Figure 7-13</a>(b)], CSMA/CD is turned on, computer 1 is transmitting, and computer 2 is “listening,” or receiving the data transmission.</p>
        <figure class="image" id="ch07fig13">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig13.jpg" aria-describedby="Alch07fig13" alt="Full-duplex and half-duplex operations are demonstrated." width="412" height="473">
        <aside class="hidden" id="Alch07fig13">
        <p>The first figure, titled full-duplex mode shows a switch at the center connected to two computers, 1 and 2 on either side. Dashed lines corresponding to data transmission and data receival are shown at the connection between the computers and the switch. The second figure titled, half-duplex mode shows a hub at the center connected to two computers, 1 and 2 on either side. Dashed line corresponding to data transmission is shown between computer 1 and the hub, and dashed line for data transmission is shown at the connection between computer 1 and the hub.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-13</strong></span> (a) Computer 1 transmits and receives at the same time; (b) computer 1 transmits, and others listen.</p>
        </figcaption>
        </figure>
        <p class="noindent">You use the following commands to configure duplex auto-negotiation on Cisco routers and switches:</p>
        <p class="codelink"><a href="ch07.xhtml#p385pro01" id="p385pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>int GigabitEthernet0/0</strong>
        Router(config-if)# <strong>duplex auto</strong>
        </pre>
        <p class="noindent"><a href="ch07.xhtml#ch07fig14">Figure 7-14</a> provides an example of the port management features available with a Cisco switch using the Cisco Network Assistant software. <a href="ch07.xhtml#ch07fig14">Figure 7-14</a>(a) shows the settings for the speed. <a href="ch07.xhtml#ch07fig14">Figure 7-14</a>(b) provides an example of setting the switch for auto (that is, auto-negotiate), half-duplex, and full-duplex.</p>
        <p class="noindent">It is very important to make sure both ends of the network are properly configured. If the speeds and half- and full-duplex modes are not properly specified, you can end up with a duplex speed mismatch and, as a result, a loss of the data link. <a href="ch07.xhtml#ch07tab03">Table 7-3</a> provides a summary of the advantages and disadvantages of the auto-negotiation protocol.</p>
        <span epub:type="pagebreak" id="page_386"></span>
        <figure class="image" id="ch07fig14">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig14.jpg" aria-describedby="Alch07fig14" alt="Screenshots of Port settings are displayed." width="700" height="367">
        <aside class="hidden" id="Alch07fig14">
        <p>At the top of the first screenshot, a, Devices section is displayed. Within the Devices section, Hostname drop-down, set to Switch is shown. Configuration settings tab (selected), and Runtime Status tab are placed. A list of 24 rows is shown below, Under the header Speed, a drop-down is revealed, where "auto" is selected. Filer, Modify, and Describe buttons are placed below the list. Ok button at the bottom is selected. The second screenshot, b is the top section of the first screenshot, a.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-14</strong></span> An example of the port management options available with a Cisco switch: (a) speed auto-negotiation option; (b) duplex auto option.</p>
        </figcaption>
        </figure>
        <figure class="table" id="ch07tab03">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 7-3</span> <strong>Advantages and Disadvantages of the Auto-negotiation Protocol</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Advantages</p></th>
        <th class="borderb"><p class="tab-para">Disadvantages</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>Useful in LANs that have multiple users with multiple connection capabilities.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Not recommended for fixed data links such as the backbone in a network.</strong></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>The auto-negotiation feature can maximize throughput on the data links.</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>A failed negotiation on a functioning link can cause a link failure.</strong></p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch7lev2sec18">Section 7-5 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.3 Summarize the types of cables and connectors and explain which is the appropriate type for a solution.</p>
        <p class="s-para"><em>Most modern internetworking technologies (for example, hubs, switches, bridges, and routers) now incorporate the auto-negotiation protocol, which enables Ethernet equipment to automate many installation steps, including automatically configuring the operating speeds (for example, 10/100/1000Mbps) and the selection of full- or half-duplex operation for the data link.</em></p>
        <p class="s-paran">1.7 Explain basic corporate and datacenter network architecture.</p>
        <p class="s-para"><em>The auto-negotiation protocol is not recommended for fixed data links such as the backbone in a network.</em></p>
        <p class="s-paran">2.3 Given a scenario, configure and deploy common Ethernet switching features.</p>
        <p class="s-para"><em>It is very important to make sure both ends of a network are properly configured. If the speeds and half-/full-duplex modes are not properly specified, then you may have a duplex speed mismatch and, as a result, a loss of the data link</em>.</p>
        <p class="s-paran"><span epub:type="pagebreak" id="page_387"></span>5.2 Given a scenario, troubleshoot common cable connectivity issues and select the appropriate tools.</p>
        <p class="s-para"><em>This section mentions that the auto-negotiation feature can maximize throughput on data links.</em></p>
        <p class="sidebar-title1" id="ch7lev2sec19">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">Which of the following is a disadvantage of the auto-negotiation protocol?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It is useful only in LANs that have multiple connection capabilities.</p></li>
        <li><p class="alpha">A failed negotiation on a functioning link can cause a link failure.</p></li>
        <li><p class="alpha">It should be used only in critical network data paths.</p></li>
        <li><p class="alpha">It works at 10Mbps.</p></li>
        </ol></li>
        <li><p class="num">What does the fast link pulse do? (Select all that apply.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It carries configuration information between the ends of a data link.</p></li>
        <li><p class="alpha">It is used in auto-negotiation.</p></li>
        <li><p class="alpha">It uses a 100Mbps data rate.</p></li>
        <li><p class="alpha">It uses a 1Mbps data rate.</p></li>
        </ol></li>
        <li><p class="num">Which of the following are advantages of auto-negotiation? (Select all that apply.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It is useful in LANs that have multiple users with multiple connection capabilities.</p></li>
        <li><p class="alpha">It can maximize the data link throughput.</p></li>
        <li><p class="alpha">It simplifies the backbone configuration.</p></li>
        <li><p class="alpha">It simplifies LAN configuration.</p></li>
        <li><p class="alpha">All of the answers are correct.</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch7lev1sec6"><span class="space">7-6</span> Troubleshooting the Router Interface</h3>
        <p class="noindent">This section examines one of the router commands most commonly used for troubleshooting and isolating problems that might be related to the router configuration and router interfaces: <strong>show ip interface brief</strong> (or <strong>sh ip int brief</strong>). Typically, a network administrator can use SSH to enter a router and establish a secure virtual terminal connection. The virtual terminal enables the administrator to connect to the router without physically plugging in to it. The virtual terminal connection looks the same as the console port connection. Remember that the virtual interface <span epub:type="pagebreak" id="page_388"></span>is password protected, and only authorized users can access the router through this interface.</p>
        <p class="noindent">The <strong>sh ip int brief</strong> command enables you to check the status of the interfaces and verify that the interfaces are attached to another networking device. The command output provides a quick look at information about the interfaces and includes the following columns:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>Interface:</strong> Ethernet: 10Mbps, Fast Ethernet: 100Mbps, Gigabit Ethernet: 1000Mbps, or Serial: From 2500bps to 4Mbps and higher for high-speed serial interfaces.</p></li>
        <li><p class="bullet"><strong>IP-Address:</strong> The IP address assigned to the interface.</p></li>
        <li><p class="bullet"><strong>OK?:</strong> Whether the interface is functioning.</p></li>
        <li><p class="bullet"><strong>Method:</strong> How the interface was brought up (for example, manually, via TFTP).</p></li>
        <li><p class="bullet"><strong>Status:</strong> Current router status: <strong>up</strong>, <strong>down</strong>, or <strong>administratively down</strong>. (Displayed results differ for FastEthernet and the serial interfaces. For FastEthernet, the status <strong>up</strong> indicates that the FastEthernet interface has been administratively brought up.)</p></li>
        <li><p class="bullet"><strong>Protocol:</strong> Protocol status <strong>up</strong> indicates that you are seeing the <a id="ch7key35" href="glossary.xhtml#glo314"><span class="gray_kt"><strong>keepalive packet</strong></span></a>, which means the FastEthernet interface is connected to another networking device, such as a hub, switch, or router. Protocol status <strong>down</strong> indicates that the Ethernet port is not physically connected to another network device. This is not the same as the link integrity pulse that activates the link light. The link integrity pulse does not send a small Ethernet packet; a keepalive does send such a packet.</p>
        <div class="box">
        <p class="box-title">Keepalive Packet</p>
        <p class="box-para">A packet which indicates that the Ethernet interface is connected to another networking device, such as a hub, switch, or router</p>
        </div></li>
        </ul>
        <p class="noindent">The following example demonstrates how to use the <strong>sh ip int brief</strong> command to check the status of the interfaces for different conditions, such as status down, status up/protocol down, and status/protocol down. You will learn how to interpret the results displayed by the <strong>sh ip int brief</strong> command, which is particularly important when you’re troubleshooting a possible cable or link failure. When a FastEthernet interface cable is not attached or when the link is broken, the protocol shows <strong>down</strong>. If a serial interface cable is not attached or the link is broken, the status and the protocol both show <strong>down</strong>.</p>
        <p class="noindent">The following are text outputs from a Cisco router that demonstrate how the router status and protocol settings change based on the interface configuration and setup. The first output shows that the three Ethernet interfaces and two serial interfaces are properly configured. The status <strong>up</strong> means that the interface has been administratively turned on by the network administrator:</p>
        <p class="codelink"><a href="ch07.xhtml#p388pro01" id="p388pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip int brief</strong>
        Interface        IP-Address        OK     Method    Status    Protocol
        FastEthernet0/0  10.10.20.250      YES    manual    up        up
        FastEthernet0/1  10.10.200.1       YES    manual    up        up
        FastEthernet0/2  10.10.100.1       YES    manual    up        up
        Serial0/0        10.10.128.1       YES    manual    up        up
        Serial0/1        10.10.64.1        YES    manual    up        up
        </pre>
        <p class="noindent"><span epub:type="pagebreak" id="page_389"></span>The next example demonstrates that the router provides a prompt if the link between the router’s FastEthernet0/0 interface and another networking device is lost. Within a few seconds of losing the link, the prompt shown appears:</p>
        <p class="codelink"><a href="ch07.xhtml#p389pro01" id="p389pro01">Click here to view code image</a></p>
        <pre class="pre1">2w0d: %LINEPROTO-5-UPDOWN: Line protocol on Interface
        FastEthernet0/0, changed state to down
        </pre>
        <p class="noindent">The <strong>sh ip int brief</strong> command shows that the protocol for FastEthernet0/0 is <strong>down</strong>, and the status is still <strong>up</strong>, meaning the interface is still enabled but the router is not communicating with another networking device, such as a hub, switch, or router:</p>
        <p class="codelink"><a href="ch07.xhtml#p389pro02" id="p389pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip int brief</strong>
        Interface           IP-Address     OK?     Method   Status    Protocol
        FastEthernet0/0     10.10.20.250   YES     manual   up        down
        FastEthernet0/1     10.10.200.1    YES     manual   up        up
        FastEthernet0/2     10.10.100.1    YES     manual   up        up
        Serial0/0           10.10.128.1    YES     manual   up        up
        Serial0/1           10.10.64.1     YES     manual   up        up
        </pre>
        <p class="noindent">The protocol <strong>down</strong> condition for the FastEthernet interface, as viewed with the <strong>sh ip int brief</strong> command, indicates that there is a loss of communication between the router and a connected networking device. With a <strong>down</strong> condition, you might have to physically check the router’s FastEthernet interface for a link light. In this example, a link light check on the router showed that there was not a link and, in fact, the RJ-45 plug connected to the router had come loose.</p>
        <p class="noindent">Reconnecting the RJ-45 cable reestablishes the link for the FastEthernet0/0 interface and the networking device. The router provides a prompt that the FastEthernet0/0 line protocol has changed state to <strong>up</strong>. The <strong>sh ip int brief</strong> command now shows the interface status is <strong>up</strong> and protocol is <strong>up</strong> for all the interfaces:</p>
        <p class="codelink"><a href="ch07.xhtml#p389pro03" id="p389pro03">Click here to view code image</a></p>
        <pre class="pre1">2w0d: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet0/0, changed state to up
        RouterA# <strong>sh ip int brief</strong>
        Interface         IP-Address       OK?     Method   Status    Protocol
        FastEthernet0/0   10.10.20.250     YES     manual   up        up
        FastEthernet0/1   10.10.200.1      YES     manual   up        up
        FastEthernet0/2   10.10.100.1      YES     manual   up        up
        Serial0/0         10.10.128.1      YES     manual   up        up
        Serial0/1         10.10.64.1       YES     manual   up        up
        </pre>
        <p class="noindent">The router’s serial ports behave differently from the FastEthernet interfaces, as shown with the following examples. The previous router text display using the <strong>sh ip int brief</strong> command shows that the Serial0/0 interface status is <strong>up</strong> and the protocol is <strong>up</strong>. If the serial link is lost or disconnected, the interface goes down, and a prompt is sent to the console screen, as shown earlier. The prompt advises the administrator that the Serial0/0 interface has changed state to <strong>down</strong>, and the line protocol for Serial0/0 is also <strong>down</strong>. The <strong>sh ip int brief</strong> command now shows that the status and line protocol for Serial0/0 are <strong>down</strong>:</p>
        <p class="codelink"><a href="ch07.xhtml#p389pro04" id="p389pro04">Click here to view code image</a></p>
        <pre class="pre1">2w0d: %LINK-3-UPDOWN: Interface Serial0/0, changed state to down
        2w0d: %LINEPROTO-5-UPDOWN: Line protocol on Interface Serial0/0, changed state to down
        <span epub:type="pagebreak" id="page_390"></span>RouterA# <strong>sh ip int brief</strong><br>
        Interface          IP-Address      OK?    Method   Status     Protocol
        FastEthernet0/0    10.10.20.250    YES    manual   up         up
        FastEthernet0/1    10.10.200.1     YES    manual   up         up
        FastEthernet0/2    10.10.100.1     YES    manual   up         up
        Serial0/0          10.10.128.1     YES    manual   down       down
        Serial1/1          10.10.64.1      YES    manual   up         up
        </pre>
        <p class="noindent">Reestablishing the serial connection changes the status back to <strong>up</strong> and the protocol back to <strong>up</strong>, as shown here:</p>
        <p class="codelink"><a href="ch07.xhtml#p390pro02" id="p390pro02">Click here to view code image</a></p>
        <pre class="pre1">2w0d: %LINK-3-UPDOWN: Interface Serial0, changed state to up
        2w0d: %LINEPROTO-5-UPDOWN: Line protocol on Interface Serial0, changed state to up
        [Resuming connection 1 to 10.10.128.1 ... ]
        RouterA# <strong>sh ip int brief</strong>
        Interface          IP-Address     OK?     Method    Status    Protocol
        FastEthernet0/0    10.10.20.250   YES     manual    up        up
        FastEthernet0/1    10.10.200.1    YES     manual    up        up
        FastEthernet0/2    10.10.100.1    YES     manual    up        up
        Serial0/0          10.10.128.1    YES     manual    up        up
        Serial10/1         10.10.64.1     YES     manual    up        up
        </pre>
        <p class="noindent">Note that the prompt includes a statement that communication to 10.10.128.1 has been resumed. This is the IP address of the serial interface attached to the router’s Serial0 interface.</p>
        <p class="noindent">There is also a physical method to troubleshoot the wiring of an Ethernet interface and a T1 serial interface; it involves using a loopback adapter. This type of adapter simply loops the transmit signal wires back into the system on the receive signal wires, which redirects the data being sent back into the system. The adapter can connect to the wall jack or the end of a network cable currently connected to an active piece of network equipment. If the wiring is good, the LED light of the interface lights up, and the interface status is <strong>up</strong>.</p>
        <p class="noindent">The following output shows that the Serial0 interface is <strong>administratively down</strong>:</p>
        <p class="codelink"><a href="ch07.xhtml#p390pro03" id="p390pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip int brief</strong>
        Interface       IP-Address   OK? Method Status                Protocol
        FastEthernet0/0 10.10.20.250 YES manual up                    up
        FastEthernet0/1 10.10.200.1  YES manual up                    up
        FastEthernet0/2 10.10.100.1  YES manual up                    up
        Serial0/0       10.10.128.1  YES manual administratively down up
        Serial0/1       10.10.64.1   YES manual up                    up
        </pre>
        <p class="noindent">The term <a id="ch7key36" href="glossary.xhtml#glo24"><span class="gray_kt"><strong>administratively down</strong></span></a> indicates that the router interface has been shut off by the administrator. Note the difference between the terms <em>down</em> and <em>administratively down</em>. Reissuing the command <strong>no shut</strong> for the Serial0/0 interface should correct the problem.</p>
        <div class="box">
        <p class="box-title">Administratively Down</p>
        <p class="box-para">An indication that the router interface has been shut off by an administrator</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_391"></span>The command <strong>show ip int brief</strong> gives a summary view of the interface’s status. To examine an interface in more detail, you would instead want to use the command <strong>show interface</strong> (or <strong>sh int</strong>). This command gives detailed information about all interfaces belonging to the router. The following output is part of the result from the command <strong>sh int</strong>:</p>
        <p class="codelink"><a href="ch07.xhtml#p391pro01" id="p391pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh int</strong>
        FastEthernet0/0 is up, line protocol is up
         Hardware is MV96340 Ethernet, address is 40f4.ecb9.1010 (bia 40f4.
         ecb9.1010)
         Internet address is 10.10.20.250/24
         MTU 1500 bytes, BW 100000 Kbit/sec, DLY 100 usec,
         reliability 255/255, txload 7/255, rxload 6/255
         Encapsulation ARPA, loopback not set
         Keepalive set (10 sec)
         Full-duplex, 100Mb/s, 100BaseTX/FX
         ARP type: ARPA, ARP Timeout 04:00:00
         Last input 00:00:00, output 00:00:00, output hang never
         Last clearing of “show interface” counters never
         Input queue: 0/75/0/0 (size/max/drops/flushes); Total output drops: 0
         Queueing strategy: fifo
         Output queue: 0/40 (size/max)
         5 minute input rate 2623000 bits/sec, 556 packets/sec
         5 minute output rate 2892000 bits/sec, 485 packets/sec
         48430288 packets input, 206222517 bytes
         Received 633291 broadcasts, 0 runts, 0 giants, 0 throttles
         2 input errors, 2 CRC, 0 frame, 0 overrun, 0 ignored
         0 watchdog
         0 input packets with dribble condition detected
         43353888 packets output, 2673132365 bytes, 0 underruns
         0 output errors, 0 collisions, 0 interface resets
         0 unknown protocol drops
         0 babbles, 0 late collision, 0 deferred
         0 lost carrier, 0 no carrier
         0 output buffer failures, 0 output buffers swapped out
        </pre>
        <p class="noindent">The <strong>sh int</strong> command shows the status of the interface FastEthernet0/0, and it also displays statistical information regarding the interface, such as input and output rate in bits per second and packets per second, broadcast packets, and error packets. Here, it shows that the interface received two input errors—both of which are CRC-type errors. This command is very useful when troubleshooting something beyond basic connectivity issues such as speed, performance, and throughput.</p>
        <p class="noindent">It is a best practice to always verify the router configuration. At the end of the output above, the status of the interface reflects how the router is programmed. When making changes to the router configuration, you make the changes to the running configuration. You can use the command <strong>show running-config</strong> (or <strong>sh run</strong>) to display the most current configuration of the router. The running configuration is stored in random access memory (RAM), which loses its content when the router is powered off. You can save the router configuration by issuing the command <strong>copy running-config startup-config</strong> (or <strong>copy run start</strong>). This saves the router <span epub:type="pagebreak" id="page_392"></span>configuration to the startup configuration, which is stored in NVRAM. This type of memory does not lose its contents after the power down.</p>
        <p class="noindent">In this section, you have seen how to use the <strong>show ip int brief</strong> command to troubleshoot and isolate router interface problems. The status differs for the Ethernet and serial interfaces. This is an important concept and something you will encounter when working with routers.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch7lev2sec20">Section 7-6 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>This section examines the use of the</em> <strong><em>show ip interface brief</em></strong> <em>command and how to interpret its results for both Ethernet and serial interface connections. This is a very important command for troubleshooting and isolating router problems.</em></p>
        <p class="s-paran">4.3 Given a scenario, apply network hardening techniques.</p>
        <p class="s-para"><em>It is a best practice to verify the router configuration. The status of an interface reflects how the router is programmed.</em></p>
        <p class="s-paran">4.4 Compare and contrast remote access methods and security implications.</p>
        <p class="s-para"><em>This section examines the steps involved in establishing a secure virtual terminal connection to a router or a switch. This section also looks at connecting to a router’s console port by using an SSH connection.</em></p>
        <p class="s-paran">5.2 Given a scenario, troubleshoot common cable connectivity issues and select the appropriate tools.</p>
        <p class="s-para"><em>This section mentions that there a physical method for troubleshooting the wiring of an Ethernet interface and a T1 serial interface: You can use a loopback adapter. If the wiring is good, the LED light of the interface lights up, and the interface status is up.</em></p>
        <p class="sidebar-title1" id="ch7lev2sec21">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">True or false: The purpose of the keepalive packet is to indicate that the Ethernet interface is connected to another networking device.</p></li>
        <li><p class="num">True or false: When the <strong>show ip interface brief</strong> command shows <strong>Yes</strong> in the <strong>OK?</strong> column, this indicates that keepalive packets are being exchanged.</p></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch7lev1sec7"><span epub:type="pagebreak" id="page_393"></span>Summary</h3>
        <p class="noindent">This chapter presents an overview of routers, a technique for establishing a console port connection, and the basic steps in configuring a router’s interface. You should understand the difference between a router’s user and privileged EXEC modes. <a href="ch07.xhtml#ch07tab04">Table 7-4</a> provides a list of the router prompts encountered in this chapter.</p>
        <figure class="table" id="ch07tab04">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 7-4</span> <strong>Router Prompts and Their Definitions</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Prompt</p></th>
        <th class="borderb"><p class="tab-para">Definition</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>Router&gt;</strong></p></td>
        <td class="borderb"><p class="tab-para">User EXEC mode</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>Router#</strong></p></td>
        <td class="borderb"><p class="tab-para">Privileged EXEC mode</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>Router(config)#</strong></p></td>
        <td class="borderb"><p class="tab-para">Configuration mode</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>Router(config-if)#</strong></p></td>
        <td class="borderb"><p class="tab-para">Interface configuration mode</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>Router(config-line)#</strong></p></td>
        <td class="borderb"><p class="tab-para">Line terminal configuration mode</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <p class="noindent">You should understand and be able to demonstrate the steps involved in configuring Ethernet and serial interfaces. These concepts are used repeatedly in the following chapters. In this chapter, you have also learned about the router troubleshooting command <strong>sh ip int brief</strong>.</p>
        </section>
        <section>
        <h3 class="h3" id="ch7lev1sec8">Questions and Problems</h3>
        <section>
        <h4 class="h4" id="ch7lev2sec22">Section 7-1</h4>
        <ol class="number">
        <li><p class="num">What is the command-line interface used for on a Cisco router?</p></li>
        <li><p class="num">What does Cisco IOS stand for?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec23">Section 7-2</h4>
        <ol class="number" start="3">
        <li><p class="num">Define broadcast domain.</p></li>
        <li><p class="num">What is a flat network?</p></li>
        <li><p class="num">What is a layer 3 network?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_394"></span>What is the purpose of a gateway?</p></li>
        <li><p class="num">Where is the default gateway address assigned in Windows?</p></li>
        <li><p class="num">A computer with host IP address 10.10.5.1 sends a data packet with destination IP address 10.10.5.2. Subnet mask 255.255.255.0 is being used. Determine whether the packet stays in the LAN or is sent to the gateway. Show your work.</p></li>
        <li><p class="num">Repeat problem 8 with the destination IP address for the data packet as 10.5.10.2 and the subnet mask the same. Show your work.</p></li>
        <li><p class="num">Repeat problem 9 with the subnet mask changed to 255.0.0.0. Show your work.</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_395"></span>Repeat problem 9 with the subnet mask changed to 255.255.0.0. Show your work.</p></li>
        <li><p class="num">The IP address for computer C2 is 10.10.1.2. The IP address for computer B1 is 10.10.10.1. Subnet mask 255.255.0.0 is being used. Are the computers in the same network? Does the data packet stay in the LAN? Show your work.</p></li>
        <li><p class="num">Determine the router hop count from LAN A to LAN D in the network shown in <a href="ch07.xhtml#ch07fig15">Figure 7-15</a> for the route with the fewest hops.</p></li>
        <li><p class="num">List all the possible routes from LAN B to LAN D in the network shown in <a href="ch07.xhtml#ch07fig15">Figure 7-15</a>.</p></li>
        <li><p class="num">List the subnets attached to Router B in <a href="ch07.xhtml#ch07fig15">Figure 7-15</a>.</p>
        <span epub:type="pagebreak" id="page_396"></span>
        <figure class="image" id="ch07fig15">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/07fig15.jpg" aria-describedby="Alch07fig15" alt="Figure shows the network topology for four LANs with fewest hops." width="700" height="599">
        <aside class="hidden" id="Alch07fig15">
        <p>Figure shows the interconnections within the LANs. Four LANs, "LAN A, LAN B, LAN C, and LAN D," are shown. In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, a switch connects C1 from port 14 and C2 from the port 23 labeled, "LAN C server." In LAN D, a switch connects D1 from port 14 and D2 from NIC. From port 24, in LAN A, the data is transmitted to router A through the fast Ethernet FA0/0 with IP address 10.10.20.0 Net. From port 24 in LAN B, the data is transmitted to Router B, through the fast Ethernet port FA0/0 and IP address 10.10.10.0 Net. In LAN C the data is transmitted to Router B from port 13 through the fast Ethernet port FA0/1 and IP address 10.10.1.0 Net. In LAN D the data is transmitted to Router C from port 13 through the fast Ethernet port FA0/0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the port FA0/2 and through the IP address: 10.10.100.0 Net. From Router A, it transmits from the fast Ethernet port FA0/1 to FA0/2 in Router B and in IP address 10.10.200.0 Net. From Router B, it transmits from the fast Ethernet port FA0/3 to Router FA0/1 with IP address: 10.0.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer table 8.12</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 7-15</strong></span> Network topology for problems 13–18.</p></figcaption>
        </figure>
        </li>
        <li><p class="num">List the subnets attached to Router C in <a href="ch07.xhtml#ch07fig15">Figure 7-15</a>.</p></li>
        <li><p class="num">What is the next hop address for the FastEthernet port 1 on Router A in <a href="ch07.xhtml#ch07fig15">Figure 7-15</a>?</p></li>
        <li><p class="num">What is the next hop address for the FastEthernet port 2 on Router C in <a href="ch07.xhtml#ch07fig15">Figure 7-15</a>?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec24">Section 7-3</h4>
        <ol class="number" start="19">
        <li><p class="num">What command is used to determine the version of IOS running on a Cisco router? Show the prompt and the command.</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_397"></span>What is the help command in Cisco IOS?</p></li>
        <li><p class="num">What command can be used to see the uptime for a router?</p></li>
        <li><p class="num">What command is used to verify that there is sufficient memory available to load a new version of the Cisco IOS software?</p></li>
        <li><p class="num">What is the router prompt for user EXEC mode?</p></li>
        <li><p class="num">If you enter <strong>exit</strong> from the <strong>Router&gt;</strong> prompt, where does it place you?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec25">Section 7-4</h4>
        <ol class="number" start="25">
        <li><p class="num">What is the router prompt for privileged EXEC mode?</p></li>
        <li><p class="num">What command is used to enter a router’s privileged mode?</p></li>
        <li><p class="num">What command is used to change a router’s hostname to <strong>Tech-router</strong>?</p></li>
        <li><p class="num">What command is used to enter a router’s terminal configuration mode?</p></li>
        <li><p class="num">What is the router prompt for terminal configuration mode?</p></li>
        <li><p class="num">What is the command for setting password protection for privileged mode if the password is <strong>Tech</strong>?</p></li>
        <li><p class="num">What does the command <strong>line vty 0 4</strong> mean?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_398"></span>List the commands used to configure and enable a FastEthernet0/1 router interface with IP address 10.10.20.250 and subnet mask 255.255.0.0.</p></li>
        <li><p class="num">What is the most efficient command for viewing the router interface status and protocol?</p></li>
        <li><p class="num">Is clocking of a router’s serial interface set by the DCE or the DTE?</p></li>
        <li><p class="num">What are the three ways to see if a router’s serial port is a DCE or DTE end?</p></li>
        <li><p class="num">What command is used to set the data speed on a router’s serial port to 56Kbps?</p></li>
        <li><p class="num">What is the router prompt for interface configuration mode?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec26">Section 7-5</h4>
        <ol class="number" start="38">
        <li><p class="num">What is the purpose of the fast link pulse?</p></li>
        <li><p class="num">Define full-duplex.</p></li>
        <li><p class="num">Define half-duplex.</p></li>
        <li><p class="num">Which of the following is a disadvantage of the auto-negotiation protocol?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It is useful only in LANs that have multiple connection capabilities.</p></li>
        <li><p class="alpha">A failed negotiation on a functioning link can cause a link failure.</p></li>
        <li><p class="alpha">It’s recommended for use in critical network data paths.</p></li>
        <li><p class="alpha">It works at 10Mbps.</p></li>
        </ol></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec27"><span epub:type="pagebreak" id="page_399"></span>Section 7-6</h4>
        <ol class="number" start="42">
        <li><p class="num">What is the purpose of a keepalive packet?</p></li>
        <li><p class="num">The <strong>sh ip interface brief</strong> command indicates that the protocol for a FastEthernet interface is <strong>down</strong>. What does this mean?</p></li>
        <li><p class="num">In a serial interface, what is the difference between the status <strong>down</strong> and the status <strong>administratively down</strong>?</p></li>
        <li><p class="num">What command should be used to look at collision errors?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec28">Critical Thinking</h4>
        <ol class="number" start="46">
        <li><p class="num">What does the command <strong>line vty 0 1</strong> mean?</p></li>
        <li><p class="num">How can you check to see if the FastEthernet interface on a router is connected to the FastEthernet interface on another networking device?</p></li>
        <li><p class="num">You suspect that a router’s LAN gateway is down. Describe how you would troubleshoot the problem.</p></li>
        <li><p class="num">Can the following configurations be accomplished on Router A? Explain your answers.</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><a href="ch07.xhtml#p399pro01" id="p399pro01">Click here to view code image</a></p>
        <pre class="pre1"><strong>interface FastEthernet 0/0</strong>
        IP address 10.1.0.5 255.255.255.252<br>
        interface FastEthernet 1/0
        IP address 10.1.0.5 255.255.255.252</pre></li>
        <li><p class="alpha"><a href="ch07.xhtml#p400pro01" id="p400pro01">Click here to view code image</a></p>
        <pre class="pre1"><span epub:type="pagebreak" id="page_400"></span><strong>interface FastEthernet 0/0</strong>
        IP address 10.1.0.5 255.255.255.252<br>
        interface FastEthernet 1/0
        IP address 10.1.0.6 255.255.255.252</pre></li>
        <li><p class="alpha"><a href="ch07.xhtml#p400pro02" id="p400pro02">Click here to view code image</a></p>
        <pre class="pre1"><strong>interface FastEthernet 0/0</strong>
        IP address 10.1.0.4 255.255.255.252<br>
        interface FastEthernet 1/0
        IP address 10.1.0.5 255.255.255.252</pre></li>
        <li><p class="alpha"><a href="ch07.xhtml#p400pro03" id="p400pro03">Click here to view code image</a></p>
        <pre class="pre1"><strong>interface FastEthernet 0/0</strong>
        IP address 10.1.0.5 255.255.255.252<br>
        interface FastEthernet 1/0
        IP address 10.1.0.9 255.255.255.252</pre></li>
        </ol>
        </li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch7lev2sec29">Certification Questions</h4>
        <ol class="number" start="50">
        <li><p class="num">Which of the following is the most efficient command to use to view the router’s interface status and protocol status?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>sh int brief</strong></p></li>
        <li><p class="alpha"><strong>show interface brief</strong></p></li>
        <li><p class="alpha"><strong>show ip interface brief</strong></p></li>
        <li><p class="alpha"><strong>show status</strong></p></li>
        </ol></li>
        <li><p class="num">The designation fa0/0 indicates ____.</p>
        <ol class="lower-alpha">
        <li><p class="alpha">FastEthernet interface 0/0</p></li>
        <li><p class="alpha">external port 0/0</p></li>
        <li><p class="alpha">exit port 0/0</p></li>
        <li><p class="alpha">FastEthernet input port 0/0</p></li>
        <li><p class="alpha">FastEthernet output port 0/0</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_401"></span>The IP address of the networking device used for the default gateway must ____.</p>
        <ol class="lower-alpha">
        <li><p class="alpha">be in the same subnet as the LAN</p></li>
        <li><p class="alpha">use subnet mask 255.255.255.0</p></li>
        <li><p class="alpha">use CIDR block /22</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">What is the command for setting password protection for privileged mode if the password is <strong>tech</strong>?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>enable tech</strong></p></li>
        <li><p class="alpha"><strong>enable secret tech</strong></p></li>
        <li><p class="alpha"><strong>enabling secret tech</strong></p></li>
        <li><p class="alpha"><strong>enabling tech</strong></p></li>
        </ol></li>
        <li><p class="num">True or false: Clocking for the serial port on a router occurs at the DTE end.</p></li>
        <li><p class="num">True or false: These are the three ways to see if your router’s serial port is a DTE or the DCE:</p>
        <ul class="bullet">
        <li><p class="bullet">Inspect the ends of the V.35 cable; DCE is male.</p></li>
        <li><p class="bullet">Check the label on the V.35 cable.</p></li>
        <li><p class="bullet">Use the <strong>show serial [</strong><em>interface name</em><strong>]</strong> command.</p></li>
        </ul></li>
        <li><p class="num">True or false: The following is the sequence of commands and prompts used to change the hostname of a router to <strong>Network</strong>:</p>
        <pre class="pre1">  router&gt; <strong>enable</strong>
          router# <strong>enable</strong>
          router# <strong>conf t</strong>
          router# <strong>hostname Network</strong>
          Network#
        </pre></li>
        <li><p class="num">True or false: The router prompt for the interface configuration mode on a Cisco router is <strong>Router(config-if)#</strong>.</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_402"></span>True or false: The following are the settings for the console serial communication port on a Cisco router:</p>
        <p class="num">Bits per seconds: 9600</p>
        <p class="num">Data bits: 8</p>
        <p class="num">Parity: none</p>
        <p class="num">Stop bits: 1</p>
        <p class="num">Flow control: none</p></li>
        <li><p class="num">The command <strong>sh ip int brief</strong> is executed from what prompt?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>Router(config)</strong></p></li>
        <li><p class="alpha"><strong>Router(config-if)#</strong></p></li>
        <li><p class="alpha"><strong>Router#</strong></p></li>
        <li><p class="alpha"><strong>Router(config)#</strong></p></li>
        </ol></li>
        </ol>
        <span epub:type="pagebreak" id="page_403"></span>
        </section>
        </section>
        </section>
        </div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/9780137455799.css" crossorigin="anonymous"></div></div></section>
</div>


<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section epub:type="chapter">
        <div class="chap">
        <h2 class="h2" id="ch9"><span epub:type="pagebreak" id="page_444"></span><span class="big">9</span><br>CHAPTER</h2>
        </div>
        <div class="chap1">
        <h2 class="h2a">Routing Protocols</h2>
        </div>
        <div class="chap-out">
        <p class="chap-out-t" id="ch9-chap-out"><span epub:type="pagebreak" id="page_445"></span>Chapter Outline</p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec1">9-1 Introduction</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec2">9-2 Static Routing</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec3">9-3 Dynamic Routing Protocols</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec4">9-4 Distance Vector Protocols</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec5">9-5 Configuring RIP and RIPv2</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec6">9-6 Link State Protocols</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec7">9-7 Configuring the Open Shortest Path First (OSPF) Routing Protocol</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec8">9-8 Advanced Distance Vector Routing Protocol: Configuring Enhanced Interior Gateway Routing Protocol (EIGRP)</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec9">9-9 Internet Routing with Border Gateway Protocol (BGP)</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec10">9-10 IPv6 Routing</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec11">Summary</a></p>
        <p class="chap-lev"><a href="ch09.xhtml#ch9lev1sec12">Questions and Problems</a></p>
        <p class="chap-out-t" id="ch9-chap-obj">Objectives</p>
        <ul class="bullet">
        <li><p class="chap-obj">Describe the difference between static and dynamic routing protocols</p></li>
        <li><p class="chap-obj">Describe the difference between distance vector and link state protocols</p></li>
        <li><p class="chap-obj">Know how to configure a basic setup for a static routing protocol</p></li>
        <li><p class="chap-obj">Understand the relative amount of traffic generated by each protocol</p></li>
        <li><p class="chap-obj">Understand the basics of the OSPF, IS-IS, and EIGRP routing protocols</p></li>
        <li><p class="chap-obj">Know how to configure a basic setup for the RIP and RIPv2 routing protocols</p></li>
        <li><p class="chap-obj">Know how to configure a basic setup for the OSPF, EIGRP, and BGP routing protocols</p></li>
        <li><p class="chap-obj">Examine how to apply various routing protocols to IPv6</p></li>
        </ul>
        <p class="chap-out-t" id="ch9-chap-key">Key Terms</p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key1">static route</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key2"><strong>netstat -r</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key3"><strong>route print</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key4">loopback</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key5"><strong>ip route</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key6">variable-length subnet masking (VLSM)</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key7"><strong>show ip route (sh ip route)</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key8">routing table code S</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key9">routing table code C</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key10">gateway of last resort</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key11"><strong>show ip route static (sh ip route static)</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key12"><strong>show running-config (sh run)</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key13"><strong>show startup-config (sh start)</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key14"><strong>copy running-configuration startup-configuration (copy run start)</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key15"><strong>write memory (wr m)</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key16">dynamic routing protocol</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key17">administrative distance</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key18">distance vector protocol</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key19">RIP</a></p>
        <p class="chap-key">RIPv2</p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key20">routing loop</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key21">advertise</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key22">class network address</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key23">classful addressing</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key24">contiguous network</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key25"><strong>show ip protocol (sh ip protocol)</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key26">link state protocol</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key27">OSPF</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key28">IETF</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key29">link state advertisement (LSA)</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key30">hello packets</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key31">areas</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key32">backbone</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key33">variable-length subnet mask</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key34">route flapping</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key35">IS-IS</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key36">NET</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key37"><strong>router ospf [</strong><em>process id</em><strong>]</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key38">network number</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key39">wildcard bits</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key40">area 0</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key41">EIGRP</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key42">RIPng</a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key43"><strong>[</strong><em>rip_tag</em><strong>]</strong></a></p>
        <p class="chap-key"><a href="ch09.xhtml#ch9key44">OSPFv3</a></p>
        <p class="chap-key">BGP</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_446"></span>This chapter introduces routing protocols, which provide a standardized format for route management, including selecting routes, sharing route status with neighbor routers, and calculating alternative routes if the best path route is down. The focus of this chapter is on the use of routing protocols in a campus network environment.</p>
        <section>
        <h3 class="h3" id="ch9lev1sec1"><span class="space">9-1</span> Introduction</h3>
        <p class="noindent">The routing types presented in this chapter include the static routing protocols RIPv2, OSPF, EIGRP, and BGP. This chapter includes several networking challenges you can complete by using the Net-Challenge software, which is downloadable from the textbook’s companion website. (See the Introduction for information on how to access this site.) These challenges enable you to test your ability to configure static, RIPv2, OSPF, and EIGRP routing on a virtual router.</p>
        <p class="noindent"><a href="ch09.xhtml#ch9lev1sec2">Section 9-2</a>, “<a href="ch09.xhtml#ch9lev1sec2">Static Routing</a>,” includes examples of how to configure static routes and view the routes in a routing table. It includes a discussion of when and where static protocols are used and also when and why it is not advantageous to use a static routing protocol. <a href="ch09.xhtml#ch9lev1sec3">Section 9-3</a>, “<a href="ch09.xhtml#ch9lev1sec3">Dynamic Routing Protocols</a>,” presents an overview of dynamic protocols, which are divided into two types: distance vector and link state. Distance vector protocols are introduced in <a href="ch09.xhtml#ch9lev1sec4">Section 9-4</a>, “<a href="ch09.xhtml#ch9lev1sec4">Distance Vector Protocols</a>.” The steps for configuring the distance vector protocols RIP and RIPv2 are presented in <a href="ch09.xhtml#ch9lev1sec5">Section 9-5</a>, “<a href="ch09.xhtml#ch9lev1sec5">Configuring RIP and RIPv2</a>.” A discussion of link state protocols is presented in <a href="ch09.xhtml#ch9lev1sec6">Section 9-6</a>, “<a href="ch09.xhtml#ch9lev1sec6">Link State Protocols</a>.” The steps for configuring the OSPF routing protocol are presented in <a href="ch09.xhtml#ch9lev1sec7">Section 9-7</a>, “<a href="ch09.xhtml#ch9lev1sec7">Configuring the Open Shortest Path First (OSPF) Routing Protocol</a>.” <a href="ch09.xhtml#ch9lev1sec8">Section 9-8</a>, “<a href="ch09.xhtml#ch9lev1sec8">Advanced Distance Vector Routing Protocol: Configuring Enhanced Interior Gateway Routing Protocol (EIGRP)</a>,” provides an introduction to configuring the EIGRP routing protocol. <a href="ch09.xhtml#ch9lev1sec9">Section 9-9</a>, “<a href="ch09.xhtml#ch9lev1sec9">Internet Routing with Border Gateway Protocol (BGP)</a>,” examines Internet routing using the BGP routing protocol.</p>
        <p class="noindent"><a href="ch09.xhtml#ch9lev1sec10">Section 9-10</a>, “<a href="ch09.xhtml#ch9lev1sec10">IPv6 Routing</a>,” demonstrates that the routing protocols for IPv6 work the same way as the routing protocols with IPv4.</p>
        <p class="noindent"><a href="ch09.xhtml#ch09tab01">Table 9-1</a> outlines the CompTIA Network+ objectives related to this chapter and identifies the chapter section that covers each objective. At the end of each chapter section you will find a review with comments on the Network+ objectives presented in that section. These comments are provided to help reinforce your understanding of each Network+ objective. The chapter review also includes “Test Your Knowledge” questions to help you understand key concepts before you advance to the next section of the chapter. At the end of the chapter you will find a complete set of questions as well as sample certification exam-type questions.</p>
        <span epub:type="pagebreak" id="page_447"></span>
        <figure class="table" id="ch09tab01">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 9-1</span> <strong><a href="ch09.xhtml#ch9">Chapter 9</a> CompTIA Network+ Objectives</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Domain/Objective Number</p></th>
        <th class="borderb"><p class="tab-para">Domain/Objective Description</p></th>
        <th class="borderb"><p class="tab-para">Section Where Objective Is Covered</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>1.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Networking Fundamentals</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.4</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec2">9-2</a>, <a href="ch09.xhtml#ch9lev1sec5">9-5</a>, <a href="ch09.xhtml#ch9lev1sec6">9-6</a>, <a href="ch09.xhtml#ch9lev1sec8">9-8</a>, <a href="ch09.xhtml#ch9lev1sec10">9-10</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.5</p></td>
        <td class="borderb"><p class="tab-para">Explain common ports and protocols, their application, and encrypted alternatives.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec2">9-2</a>, <a href="ch09.xhtml#ch9lev1sec5">9-5</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.6</p></td>
        <td class="borderb"><p class="tab-para">Explain the use and purpose of network services.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec3">9-3</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">1.8</p></td>
        <td class="borderb"><p class="tab-para">Summarize cloud concepts and connectivity options.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec9">9-9</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>2.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Implementations</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">2.1</p></td>
        <td class="borderb"><p class="tab-para">Compare and contrast various devices, their features, and their appropriate placement on the network.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec2">9-2</a>, <a href="ch09.xhtml#ch9lev1sec3">9-3</a>, <a href="ch09.xhtml#ch9lev1sec4">9-4</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">2.2</p></td>
        <td class="borderb"><p class="tab-para">Compare and contrast routing technologies and bandwidth management concepts.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec2">9-2</a>, <a href="ch09.xhtml#ch9lev1sec3">9-3</a>, <a href="ch09.xhtml#ch9lev1sec4">9-4</a>, <a href="ch09.xhtml#ch9lev1sec5">9-5</a>, <a href="ch09.xhtml#ch9lev1sec6">9-6</a>, <a href="ch09.xhtml#ch9lev1sec7">9-7</a>, <a href="ch09.xhtml#ch9lev1sec8">9-8</a>, <a href="ch09.xhtml#ch9lev1sec9">9-9</a>, <a href="ch09.xhtml#ch9lev1sec10">9-10</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">2.3</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, configure and deploy common Ethernet switching features.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec8">9-8</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>3.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Operations</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">3.1</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec2">9-2</a>, <a href="ch09.xhtml#ch9lev1sec3">9-3</a>, <a href="ch09.xhtml#ch9lev1sec6">9-6</a>, <a href="ch09.xhtml#ch9lev1sec7">9-7</a>, <a href="ch09.xhtml#ch9lev1sec10">9-10</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">3.3</p></td>
        <td class="borderb"><p class="tab-para">Explain high availability and disaster recovery concepts and summarize which is the best solution.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec2">9-2</a>, <a href="ch09.xhtml#ch9lev1sec3">9-3</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>4.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Security</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">4.1</p></td>
        <td class="borderb"><p class="tab-para">Explain common security concepts.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec5">9-5</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para"><strong>5.0</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>Network Troubleshooting</strong></p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">5.1</p></td>
        <td class="borderb"><p class="tab-para">Explain the network troubleshooting methodology.</p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">5.2</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, troubleshoot common cable connectivity issues and select the appropriate tools.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec3">9-3</a>, <a href="ch09.xhtml#ch9lev1sec4">9-4</a>, <a href="ch09.xhtml#ch9lev1sec5">9-5</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">5.3</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, use the appropriate network software tools and commands.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec7">9-7</a></p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">5.5</p></td>
        <td class="borderb"><p class="tab-para">Given a scenario, troubleshoot general networking issues.</p></td>
        <td class="borderb"><p class="tab-para"><a href="ch09.xhtml#ch9lev1sec2">9-2</a>, <a href="ch09.xhtml#ch9lev1sec3">9-3</a>, <a href="ch09.xhtml#ch9lev1sec4">9-4</a>, <a href="ch09.xhtml#ch9lev1sec5">9-5</a>, <a href="ch09.xhtml#ch9lev1sec7">9-7</a>, <a href="ch09.xhtml#ch9lev1sec9">9-9</a></p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec2"><span class="space">9-2</span> Static Routing</h3>
        <div class="box">
        <p class="box-title">Static Route</p>
        <p class="box-para">A data traffic route that has been manually entered into either a router’s or a computer’s routing table</p>
        </div>
        <p class="noindent">The objective of this section is to demonstrate how data packets are routed in a network using a static routing protocol. It presents techniques for configuring static <span epub:type="pagebreak" id="page_448"></span>routes so that data packets can be forwarded. A <a id="ch9key1" href="glossary.xhtml#glo588"><span class="gray_kt"><strong>static route</strong></span></a> is a list of IP addresses to which data traffic can be forwarded that has been manually entered into either a router’s or a computer’s routing table. A static route is specified in a PC in terms of the computer’s default gateway, and routers sometimes use a static route when specifying where the network data traffic is to be forwarded.</p>
        <p class="noindent">The static route most commonly used in a host computer is the default gateway, or default route. The <em>default gateway</em> specifies where the data traffic is to be sent when the destination address for the data is not in the same LAN or is unknown. If you don’t have a route specified for a subnet in your network or if you have a missing route, the default route is used. For example, if your PC is on the 10.10.0.0 network and wants to send data to 100.100.20.1, the data is sent to the default gateway, as specified by the TCP/IP setup on the PC. <a href="ch09.xhtml#ch09fig01">Figure 9-1</a>a shows an example of setting the host computer’s default gateway for Windows, and <a href="ch09.xhtml#ch09fig01">Figure 9-1</a>b shows an example of setting the host computer’s default gateway for macOS. In this example, the default gateway IP address is 10.10.20.250, with a subnet mask of 255.255.255.0 for the computer in LAN A with IP address 10.10.20.1.</p>
        <figure class="image" id="ch09fig01">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig01.jpg" aria-describedby="Alch09fig01" alt="Screenshots show the default gateway address in Windows and MAC." width="700" height="345">
        <aside class="hidden" id="Alch09fig01">
        <p>Screenshot (a) shows "Internet Protocol Version 4 (TCP/IPv4) Properties dialog box in Windows with the General tab selected. "Obtain an IP address automatically, Use the following IP address, Obtain DNS address automatically, and Use the following DNS addresses" radio buttons are shown. "Use the following IP address" radio button is selected and "IP address, Subnet mask, and Default gateway" fields within it are displayed. "Use the following DNS addresses" radio button is selected, "Preferred DNS server and Alternate DNS server" fields within it are displayed. Advanced, OK, and Cancel buttons are shown at the bottom with the OK button selected. Screenshot (b) shows "Network" dialog box in MAC OS with the Network tab selected. "Location" and "Show" drop-down list is displayed. On the bottom of the screen, "TC/IP, PPPoE, AppleTalk, Proxies, and Ethernet" tabs are displayed, TC/IP is selected. Configure IPv4 drop-down list and "IP Address, Subnet Mask, and Router" fields are shown.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-1</strong></span> Setting the default gateway address or default static route on a host computer (PC and macOS).</p>
        </figcaption>
        </figure>
        <p class="noindent">The routing tables for the host PC can be obtained by entering the command <a id="ch9key2" href="glossary.xhtml#glo397"><span class="gray_kt"><strong>netstat -r</strong></span></a> at the PC’s command prompt and from the macOS terminal screen. <a href="ch09.xhtml#ch09fig02">Figure 9-2</a>(a) shows an example. The command <a id="ch9key3" href="glossary.xhtml#glo514"><span class="gray_kt"><strong>route print</strong></span></a> can also be used to view the active routes from the host PC, as shown in <a href="ch09.xhtml#ch09fig02">Figure 9-2</a>(b).</p>
        <div class="box">
        <p class="box-title">netstat -r</p>
        <p class="box-para">A command used to obtain the routing table for a host PC computer</p>
        <p class="box-title">route print</p>
        <p class="box-para">A command used to obtain the routing table for a host PC computer</p>
        </div>
        <p class="noindent">The default route is specified in the routing table by a 0.0.0.0 network address entry with subnet mask 0.0.0.0. The gateway address 10.10.20.250 is the IP address of the FastEthernet port of the router connected to the LAN. The IP address 10.10.20.1 for the interface is the IP address for the host computer’s network interface card (NIC). The network destination 10.10.20.0 is returned to the computer’s NIC at IP address 10.10.20.1. The gateway for the network destination 10.10.20.1 is <span epub:type="pagebreak" id="page_449"></span>127.0.0.1, which is a <a id="ch9key4" href="glossary.xhtml#glo342"><span class="gray_kt"><strong>loopback</strong></span></a> to the host computer. A loopback means the data is routed directly back to the source. In this case, the source is the computer’s NIC. The loopback can be used to check whether the network interface is working; if it is, pinging IP address 127.0.0.1 generates a reply. In IPv6, the IPv6 loopback address is 0000:0000:0000:0000:0000:0000:0000:0001, which can be simplified to ::1.</p>
        <div class="box">
        <p class="box-title">Loopback</p>
        <p class="box-para">A mechanism by which data is routed directly back to the source</p>
        </div>
        <p class="noindent">What about setting static routes for a router in a small campus network? Let’s examine how data packets travel from one LAN to another in the three-router campus network shown in <a href="ch09.xhtml#ch09fig03">Figure 9-3</a>. Specifically, how is information sent from a host computer in LAN A (10.10.20.0 subnet) to a host computer in LAN B (10.10.10.0 subnet)? The data packets must travel from LAN A to the RouterA gateway (FA0/0 interface), from RouterA to RouterB via the 10.10.200.0 subnet, and then to LAN B via the RouterB gateway (FA0/0 interface). A physical communications link must be established between the routers, and a routing protocol must be defined for RouterA and RouterB before data packets can be exchanged. The physical connection is typically CAT6 or higher UTP or fiber.</p>
        <figure class="image" id="ch09fig02">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig02.jpg" aria-describedby="Alch09fig02" alt="Screenshots show the command screens that view routing tables and active routes in MAC OS." width="700" height="835">
        <aside class="hidden" id="Alch09fig02">
        <p>Screenshot (a) shows "netstat -r" command prompt with the "Interface list," "Active routes," and "Persistent routes" listed. Screenshot (b) shows "C:\route print" command prompt with the "Interface list," "Active routes," and "Persistent routes" listed.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-2</strong></span> (a) A host computer’s static route listing, obtained by using the <strong>netstat -r</strong> command; (b) a host computer’s static route listing, obtained by using the <strong>route print</strong> command.</p>
        </figcaption>
        </figure>
        <p class="noindent"><span epub:type="pagebreak" id="page_450"></span>A simplified network can be used to demonstrate what is required to develop static routes in a multiple-router network. For this example, let’s use two routers from the campus network. The two routers, RouterA and RouterB, connect to LAN A and LAN B, as shown in <a href="ch09.xhtml#ch09fig04">Figure 9-4</a>. This simplified network will be used to describe how data packets travel from LAN A to RouterA to RouterB to LAN B and what is required to define the static routes.</p>
        <figure class="image" id="ch09fig03">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig03.jpg" aria-describedby="Alch09fig03" alt="Illustration shows three-router campus LAN with a table below it." width="701" height="557">
        <aside class="hidden" id="Alch09fig03">
        <p>Illustration shows "LAN A, LAN B, LAN C, and LAN D." In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, the switch connects C1 from port 12 and C2 is connected from port 24 labeled, "LAN C server." In LAN D, a switch connects D1 from port 13 and 14. From port 24, in LAN A, the data is transmitted to the router A through Ethernet port E0 and IP address 10.10.20.0 Net. From port 24 in LAN B, the data is transmitted to Router B, through the Ethernet port E0 and IP address 10.10.10.0 Net. In LAN C, the data is transmitted to Router B from port 13 through Ethernet port E1 and IP address 10.10.1.0 Net. In LAN D, the data is transmitted to Router C from port 13 through the Ethernet port E0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the Ethernet port E2 and with IP address: 10.10.100.0 Net. From Router A, it transmits from the Ethernet port E1 to E2 in Router B with IP address 10.10.200.0 Net. From Router B, it transmits from Ethernet port E3 to E1 of Router C with IP address: 10.10.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer Table: Figure 9.3</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-3</strong></span> A three-router campus network.</p>
        </figcaption>
        </figure>
        <figure class="image" id="ch09fig04">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig04.jpg" aria-describedby="Alch09fig04" alt="Illustration depicts two-router network with two routers and two LANs." width="700" height="351">
        <aside class="hidden" id="Alch09fig04">
        <p>PC A1 is connected to LAN A and PC B1 is connected to LAN B. LAN A is connected to Router A through "10.10.20.0 NET" and LAN B is connected to Router B through 10.10.10.0 NET. FA0/1 of Router A is connected to FA0/2 of Router B through 10.10.200.0 NET.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-4</strong></span> A simplified two-router network.</p>
        </figcaption>
        </figure>
        <p class="noindent"><span epub:type="pagebreak" id="page_451"></span>The data packets pass through three subnets (indicated by <em>NET</em>) when traveling from LAN A to LAN B. The IP subnets for the networks are as follows:</p>
        <p class="uln-indent">10.10.20.0 NET: LAN A</p>
        <p class="uln-indent">10.10.200.0 NET: RouterA connection to RouterB</p>
        <p class="uln-indent">10.10.10.0 NET: LAN B</p>
        <div class="box">
        <p class="box-title">ip route</p>
        <p class="box-para">The router configuration command for manually setting the next hop IP address</p>
        </div>
        <p class="noindent">In this network, there are only two routers, and RouterA is directly connected to RouterB. This means that the only route between the routers is via the 10.10.200.0 NET, which is the connection between RouterA and RouterB. The static route information is entered from the router’s configure terminal prompt <strong>(config)#</strong>, using the <a id="ch9key5" href="glossary.xhtml#glo294"><span class="gray_kt"><strong>ip route</strong></span></a> command, which has the following syntax:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p451pro01a" id="p451pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>ip route</strong> <strong>[</strong><em>destination</em><strong>] [</strong><em>subnet mask</em><strong>] [</strong><em>next hop</em><strong>]</strong></pre>
        <p class="noindent">where <em>destination</em> is the network’s destination IP address (NET), <em>subnet mask</em> is what has been defined for the subnets, and <em>next hop</em> is the IP address of the next router’s interface in the link. The command for routing the data to the 10.10.10.0 subnet is as follows:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p451pro02a" id="p451pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip route</strong> <strong>10.10.10.0 255.255.255.0 10.10.200.2</strong></pre>
        <p class="noindent">The following configuration information is entered into RouterA:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>Destination subnet IP address:</strong> 10.10.10.0</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        <li><p class="bullet"><strong>Next hop IP address:</strong> 10.10.200.2</p></li>
        </ul>
        <p class="noindent">The next hop IP address is the IP address of the Ethernet2 port on RouterB. Now the router knows how to deliver data packets from host computers in the 10.10.20.0 NET (LAN A) to destination computers in the 10.10.10.0 NET (LAN B).</p>
        <div class="note">
        <p class="note-t">Note</p>
        <p class="note-para">Each static route can use a different subnet mask. This is accomplished using <a id="ch9key6" href="glossary.xhtml#glo662"><span class="gray_kt"><strong>variable-length subnet masking (VLSM)</strong></span></a>. For example, one static route could have subnet mask 255.255.255.0 and another could have subnet mask 255.255.255.252.</p>
        </div>
        <div class="box">
        <p class="box-title">Variable-Length Subnet Masking (VLSM)</p>
        <p class="box-para">A process in which routes can be configured using different subnet masks</p>
        </div>
        <div class="box">
        <p class="box-title">show ip route (sh ip route)</p>
        <p class="box-para">The command that displays the routes and the routing address entry into the routing table</p>
        </div>
        <p class="noindent">You can verify the routing address entry into the routing table by entering the command <a id="ch9key7" href="glossary.xhtml#glo549"><span class="gray_kt"><strong>show ip route (sh ip route)</strong></span></a> from the router’s <strong>(config)#</strong> prompt, as shown in this example:</p>
        <span epub:type="pagebreak" id="page_452"></span>
        <p class="codelink"><a href="ch09_images.xhtml#p451pro03a" id="p451pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static
        route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 3 subnets, 2 masks
        S 10.10.10.0/24 [1/0] via 10.10.200.2
        C 10.10.200.0/24 is directly connected, FastEthernet0/1
        L 10.10.200.1/32 is directly connected, FastEthernet0/1
        </pre>
        <p class="noindent">The static route configured on RouterA only dictates how the 10.10.10.0 network should be routed from RouterA’s perspective—and that is in the outgoing, or egress, direction only. This does not influence how the returned traffic will come back to RouterA. Routing is bidirectional; therefore, when a route is configured at one end, the reverse has to be configured at the other end.</p>
        <p class="noindent">What about data traffic flow from the 10.10.10.0 NET (LAN B) to the 10.10.20.0 NET (LAN A)? Once again, the data packets pass through three subnets (indicated by NET) when traveling from LAN B to LAN A. The IP addresses for the subnets are as follows:</p>
        <p class="uln-indent">10.10.10.0 NET: LAN B</p>
        <p class="uln-indent">10.10.200.0 NET: RouterB connection to RouterA</p>
        <p class="uln-indent">10.10.20.0 NET: LAN A</p>
        <p class="noindent">In this scenario, LAN B connects directly to RouterB, and the only route to LAN A from RouterB is via the 10.10.200.0 NET, which is the connection between Routers B and A. The destination network IP address is 10.10.20.0. The command input to RouterB for routing the data to the 10.10.20.0 subnet is as follows:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p452pro02a" id="p452pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterB(config)# <strong>ip route 10.10.20.0 255.255.255.0 10.10.200.1</strong></pre>
        <p class="noindent">The following information is entered into the router:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>Destination subnet IP address:</strong> 10.10.20.0</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        <li><p class="bullet"><strong>Next hop IP address:</strong> 10.10.200.1</p></li>
        </ul>
        <p class="noindent">The next hop IP address is the IP address of the FastEthernet0/1 port on RouterA. Now a static route has been configured on RouterB to route data packets from host computers in the 10.10.10.0 NET (LAN B) to destination computers in the 10.10.20.0 NET (LAN A). The entries into RouterB’s routing table can be confirmed by using the command <strong>sh ip route</strong> at the <strong>Router#</strong> prompt, as shown here:</p>
        <span epub:type="pagebreak" id="page_453"></span>
        <p class="codelink"><a href="ch09_images.xhtml#p452pro03a" id="p452pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>sh ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static
        route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 3 subnets, 2 masks
        S 10.10.20.0/24 [1/0] via 10.10.200.1
        C 10.10.200.0/24 is directly connected, FastEthernet0/2
        L 10.10.200.2/32 is directly connected, FastEthernet0/2
        </pre>
        <div class="box">
        <p class="box-title">routing table code S</p>
        <p class="box-para">The router code for a static route</p>
        <p class="box-title">routing table code C</p>
        <p class="box-para">The router code for specifying a directly connected network</p>
        </div>
        <p class="noindent">The <strong>sh ip route</strong> command lists a table of codes first, followed by the routes. This output above shows a static route (<a id="ch9key8" href="glossary.xhtml#glo525"><span class="gray_kt"><strong>S</strong></span></a>) 10.10.20.0 via 10.10.200.1, which indicates that a static route to the destination 10.10.20.0 subnet can be reached via the next hop address 10.10.200.1. The <a id="ch9key9" href="glossary.xhtml#glo526"><span class="gray_kt"><strong>C</strong></span></a> indicates that the 10.10.200.0 network is directly connected to the FastEthernet0/2 port.</p>
        <p class="noindent">This simplified network has only one route; therefore, the entries for the static routes using the <strong>sh ip route</strong> command are limited but were required for each router. Static routes are sometimes used when configuring the routers for routing in a small network. Static routing is not the best choice, as you will learn, but it can be suitable in a small network (for example, a two-router network). It can be suitable for situations in which there is only one route to the destination, such as in a wide area network (WAN) or an Internet feed. This concept is examined in <a href="ch09.xhtml#ch9">Chapter 9</a>-9.</p>
        <p class="noindent">What about using static routes in the three-router campus network shown in <a href="ch09.xhtml#ch09fig03">Figure 9-3</a>? A computer in LAN A (10.10.20.0 NET) sends data to a computer in LAN B (10.10.10.0 NET). This is the same requirement specified in the two-router network example. Once again, a static route must be entered into RouterA’s routing table, telling the router how to forward data to the 10.10.10.0 NET. However, in this example, there are two possible choices for a data packet to travel to the 10.10.10.0 NET from RouterA. The IP addresses for the two possible next hops are 10.10.200.2 and 10.10.100.2. These are the router commands:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p453pro02a" id="p453pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip route 10.10.10.0 255.255.255.0 10.10.200.2</strong>
        RouterA(config)# <strong>ip route 10.10.10.0 255.255.255.0 10.10.100.2</strong>
        </pre>
        <p class="noindent">What about sending information from LAN A to LAN C or to LAN D? This requires four additional <strong>ip route</strong> entries into the router’s routing table, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p453pro03a" id="p453pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip route 10.10.1.0 255.255.255.0 10.10.200.2</strong>
        RouterA(config)# <strong>ip route 10.10.1.0 255.255.255.0 10.10.100.2</strong>
        RouterA(config)# <strong>ip route 10.10.5.0 255.255.255.0 10.10.200.2</strong>
        RouterA(config)# <strong>ip route 10.10.5.0 255.255.255.0 10.10.100.2</strong>
        </pre>
        <p class="noindent">But wait! You aren’t done. You must enter return static routes for all the LANs back to LAN A and then enter the static routes for the other three LANs. For troubleshooting purposes, you want to be able to ping all the Ethernet interfaces on the subnets, so you need to add static IP routes to each subnet (NET). For example, <span epub:type="pagebreak" id="page_454"></span>when defining a route to the 10.10.150.0 NET, the following are the static IP route entries:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p454pro01a" id="p454pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip route 10.10.150.0 255.255.255.0 10.10.200.2</strong>
        RouterA(config)# <strong>ip route 10.10.150.0 255.255.255.0 10.10.100.2</strong>
        </pre>
        <p class="noindent">This means that many static route entries must be made for the routes in this network to be completely defined. This requires a lot of time, and if routes change in the network, new static entries must be made and old static routes must be deleted. The problem with using a static routing protocol in a network is the amount of maintenance required by the network administrator to keep the route selections up to date in a large network. Say that a network connection uses five router hops. The entries for the static routes on each router are numerous, and if the routes change, the routing tables in all routers must be manually updated to account for the data path changes.</p>
        <p class="noindent">When static routes are used, the network administrator in essence becomes the routing protocol. In other words, the network administrator makes all the decisions regarding data traffic routing. This requires the administrator to know all network data routes, set up the routes to each subnet, and be constantly aware of any route changes. In contrast, dynamic routing protocols communicate routing information between the routers to determine the best route to use to forward the data packets. The concept of a dynamic routing protocol is introduced in <a href="ch09.xhtml#ch9lev1sec3">Section 9-3</a>.</p>
        <section>
        <h4 class="h4" id="ch9lev2sec1">Gateway of Last Resort</h4>
        <div class="box">
        <p class="box-title">Gateway of Last Resort</p>
        <p class="box-para">The IP address of the router in a network to which data packets with unknown routes should be forwarded</p>
        </div>
        <p class="noindent">One of the most important applications for a static route is for configuring the gateway of last resort on a router. The <a id="ch9key10" href="glossary.xhtml#glo230"><span class="gray_kt"><strong>gateway of last resort</strong></span></a> is the IP address of the router in a network where data packets with unknown routes should be forwarded. The purpose of this is to configure a route for data packets that do not have a destination route configured in the routing table. In this case, a default route can be configured that instructs the router to forward the data packet(s) with an unknown route to another router. This is the command for doing this:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p454pro02a" id="p454pro02">Click here to view code image</a></p>
        <pre class="pre1">ip route 0.0.0.0 0.0.0.0 <strong>[</strong><em>next hop address</em><strong>]</strong></pre>
        <p class="noindent">If this static route has not been configured, the router displays the following message when the <strong>show ip route</strong> command is entered:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p454pro03a" id="p454pro03">Click here to view code image</a></p>
        <pre class="pre1">Gateway of last resort is not set</pre>
        <p class="noindent">This means the router does not know how to route a data packet with a destination IP address that differs from the routes stored in the routing table. Without the gateway of last resort, a router drops any data packets with destination networks that are not in its routing table.</p>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec2">Configuring Static Routes</h4>
        <p class="noindent">This section describes how to configure static routes on a Cisco router. The topology used here is the three-router campus network shown in <a href="ch09.xhtml#ch09fig03">Figure 9-3</a>. This demonstration is for configuring the static routes for RouterA only.</p>
        <p class="noindent"><span epub:type="pagebreak" id="page_455"></span>The first step is to connect to the router via a console or virtual terminal connection. Next, enter the privileged EXEC mode, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p455pro01a" id="p455pro01">Click here to view code image</a></p>
        <pre class="pre1">Router con0 is now available Press RETURN to get started!
        RouterA&gt;<strong>en</strong>
        RouterA#
        </pre>
        <p class="noindent">Next, enter the configure terminal mode on the router (<strong>RouterA(config)#</strong>), using the <strong>configure terminal</strong> (<strong>conf t</strong>) command. Before configuring the static routes, make sure the interfaces are configured. The FastEthernet0/1 interface is configured with the assigned IP address 10.10.200.1 and the subnet mask 255.255.255.0, and the FastEthernet0/2 interface is assigned the 10.10.100.1 IP address and subnet mask 255.255.255.0. Use the <strong>no shut</strong> command to enable the FastEthernet ports. The following example shows these commands in use:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p455pro02a" id="p455pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>conf t</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        RouterA(config)# <strong>int fa0/1</strong>
        RouterA(config-if)# <strong>ip address 10.10.200.1 255.255.255.0</strong>
        RouterA(config-if)# <strong>no shut</strong>
        00:19:07: %LINK-3-UPDOWN: Interface FastEthernet0/1, changed state to up
        RouterA(config)# <strong>int fa0/2</strong>
        RouterA(config-if)# <strong>ip address 10.10.100.1 255.255.255.0</strong>
        RouterA(config-if)# <strong>no shut</strong>
        00:21:05: %LINK-3-UPDOWN: Interface FastEthernet0/2, changed state 
        to up
        </pre>
        <p class="noindent">Notice that the FastEthernet0/1 and FastEthernet0/2 interfaces change state to <strong>up</strong> after the <strong>no shut</strong> command is issued. It is a good idea to verify the interface status by using the <strong>show ip interface brief</strong> (<strong>sh ip int brief</strong>) command, as follows:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p455pro03a" id="p455pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip int brief</strong>
        00:22:18: %SYS-5-CONFIG_I: Configured from console
        Interface IP-Address OK? Method Status Protocol
        FastEthernet0/1 10.10.200.1 YES manual up down
        FastEthernet0/2 10.10.100.1 YES manual up down</pre>
        <p class="noindent">The status for both FastEthernet ports indicates that they are <strong>up</strong>; however, <strong>down</strong> indicates that no physical connection is established between the routers. You can fix this problem of the protocol being down by reestablishing the physical connection between the routers.</p>
        <p class="noindent">The static routes are entered using the <strong>ip route</strong> command after the interfaces are configured. You don’t have to enter all routes at once, but all routes must be properly entered for the network to work. To keep the following example brief, only the routes to the 10.10.10.0 NET are listed:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p455pro04a" id="p455pro04">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>ip route 10.10.10.0 255.255.255.0 10.10.200.2</strong>
        RouterA(config)# <strong>ip route 10.10.10.0 255.255.255.0 10.10.100.2</strong>
        </pre>
        <div class="box">
        <p class="box-title">show ip route static (sh ip route static)</p>
        <p class="box-para">The command that limits the routes displayed to only static ones</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_456"></span>There are two places to verify whether static routes are properly configured. First, verify that the routes are in the routing table by using either the <strong>show ip route</strong> command or the <a id="ch9key11" href="glossary.xhtml#glo550"><span class="gray_kt"><strong>show ip route static (sh ip route static)</strong></span></a> command. Adding the word <strong>static</strong> after <strong>show ip route</strong> limits the routes displayed to only those that are <strong>static</strong>. Note that with the <strong>show ip route</strong> command, the routes are displayed only if the line protocol is <strong>up</strong>. The following is an example:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p456pro01a" id="p456pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static
        route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 6 subnets, 2 masks
        S 10.10.10.0/24 [1/0] via 10.10.200.2
        S 10.10.10.0/24 [1/0] via 10.10.100.2
        C 10.10.200.0/24 is directly connected, FastEthernet0/1
        L 10.10.200.1/32 is directly connected, FastEthernet0/1
        C 10.10.100.0/24 is directly connected, FastEthernet0/2
        L 10.10.100.1/32 is directly connected, FastEthernet0/2
        </pre>
        <p class="noindent">This is the command for showing only the static routes:</p>
        <pre class="pre1">RouterA# <strong>sh ip route static</strong></pre>
        <div class="box">
        <p class="box-title">show running-config (sh run)</p>
        <p class="box-para">The command that displays the router’s running configuration</p>
        </div>
        <p class="noindent">The other place to check the routing configuration is by examining the router’s running configuration file by using the command <a id="ch9key12" href="glossary.xhtml#glo551"><span class="gray_kt"><strong>show running-config (sh run)</strong></span></a>, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p456pro02a" id="p456pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh run</strong>
        Using 519 out of 32762 bytes
        !
        version 12.0
        service timestamps debug uptime
        service timestamps log uptime
        no service password-encryption
        !
        hostname Router
        !
        !
        ip subnet-zero
        !
        interface FastEthernet0/1
        ip address 10.10.200.1 255.255.255.0
        no ip directed-broadcast no keepalive
        !
        interface FastEthernet0/2
        ip address 10.10.100.1 255.255.255.0
        no ip directed-broadcast no keepalive
        !
        ip classless
        ip route 10.10.10.0 255.255.255.0 10.10.200.2
        ip route 10.10.10.0 255.255.255.0 10.10.100.2
        !
        line con 0
        transport input none line aux 0
        line vty 0 4
        !
        end
        </pre>
        <span epub:type="pagebreak" id="page_457"></span>
        <div class="box">
        <p class="box-title">show startup-config (sh start)</p>
        <p class="box-para">The command that displays the router’s startup configuration</p>
        </div>
        <p class="noindent">This command displays the current configuration of the router, but it does not show what is currently saved in the router’s nonvolatile memory (NVRAM). The command <a id="ch9key13" href="glossary.xhtml#glo552"><span class="gray_kt"><strong>show startup-config (sh start)</strong></span></a> displays the router’s configuration saved in NVRAM. After the configuration is saved, the show run and show config commands should both present the same result for the configuration.</p>
        <div class="box">
        <p class="box-title">copy running-configuration startup-configuration (copy run start)</p>
        <p class="box-para">The command for copying the running configuration to the startup configuration</p>
        <p class="box-title">write memory (wr m)</p>
        <p class="box-para">The command that saves configuration changes to memory</p>
        </div>
        <p class="noindent">It is important to save your configuration changes to the router as you go. You can save changes to the router configuration by using the <a id="ch9key14" href="glossary.xhtml#glo123"><span class="gray_kt"><strong>copy running-configuration startup-configuration (copy run start)</strong></span></a> command or <a id="ch9key15" href="glossary.xhtml#glo694"><span class="gray_kt"><strong>write memory (wr m)</strong></span></a>, as follows:</p>
        <pre class="pre1">RouterA# <strong>copy run start</strong>
        RouterA# <strong>wr m</strong>
        </pre>
        <p class="noindent">Using write memory is the same as issuing the <strong>copy run start</strong> command, which is the command most commonly used for saving configuration.</p>
        <p class="noindent"><a href="ch09.xhtml#ch09tab02">Table 9-2</a> describes a number of the commands used for configuring static routes.</p>
        <figure class="table" id="ch09tab02">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 9-2</span> <strong>Commands Used to Configure Static Routing</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Command</p></th>
        <th class="borderb"><p class="tab-para">Description</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">ip route</p></td>
        <td class="borderb"><p class="tab-para">Specifies the destination IP address, the subnet mask, and the next hop IP address</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">show ip route</p></td>
        <td class="borderb"><p class="tab-para">Displays the IP routes listed in the routing table</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">show ip route static</p></td>
        <td class="borderb"><p class="tab-para">Displays only the static IP routes listed in the routing table</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">show running-configuration</p></td>
        <td class="borderb"><p class="tab-para">Displays the router’s running configuration</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">show startup-configuration</p></td>
        <td class="borderb"><p class="tab-para">Displays the router’s saved configuration in NVRAM</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">write memory</p></td>
        <td class="borderb"><p class="tab-para">Copies the current router changes to memory (NVRAM)</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">copy run start</p></td>
        <td class="borderb"><p class="tab-para">Copies the current router changes to memory (NVRAM)</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <div class="box">
        <p class="box-title" id="ch9lev2sec3"><span epub:type="pagebreak" id="page_458"></span>Networking Challenge: Static Routes</p>
        <p class="box-para">Use the Net-Challenge software included with the text’s companion website to demonstrate that you can configure static routes for a router. Select the <strong>Static Routes</strong> challenge and use the software to demonstrate that you can complete the following tasks.</p>
        <p class="box-para">This challenge requires you to configure the static routes for RouterA. Do the following:</p>
        <ol class="number">
        <li><p class="num">Click the <strong>RouterA</strong> button and press <strong>Enter</strong> to get started.</p></li>
        <li><p class="num">Configure the IP address, subnet mask, and default gateway address for computerA1 in LAN A (10.10.20.250). To do so, click the <strong>computerA1</strong> icon in the LAN topology to bring up the TCP/IP Properties menu. Click <strong>OK</strong> on the menu and press <strong>Enter</strong> to see the check.</p></li>
        <li><p class="num">Enter the privileged EXEC mode using the password <strong>Chile</strong>.</p></li>
        <li><p class="num">Configure the IP addresses for the FastEthernet0/0 and FastEthernet0/1 ports. (<em>Note:</em> Click the <strong>RouterA</strong> symbol in the topology to display the IP address and subnet mask for the router.)</p></li>
        <li><p class="num">Use the <strong>no shut</strong> command to enable both FastEthernet ports.</p></li>
        <li><p class="num">Use the <strong>show ip int brief</strong> command to view the current interface status.</p></li>
        <li><p class="num">Use the <strong>ip route</strong> command to configure two routes to the 10.10.10.0 subnet (NET). (<em>Note:</em> Click the <strong>RouterB</strong> and <strong>RouterC</strong> symbols in the network topology to display the IP addresses for the router interfaces.) (Use subnet mask 255.255.255.0.)</p></li>
        <li><p class="num">Use the <strong>show ip route</strong> command to view whether the routes are entered into the router’s routing table.</p></li>
        <li><p class="num">Use the <strong>show run</strong> command to verify whether the static routes are listed in the router’s running configuration.</p></li>
        </ol>
        </div>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec4">Section 9-2 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em>This section presents the concept of a loopback, which means the data is routed directly back to the source.</em></p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em><a href="ch09.xhtml#ch09fig01">Figure 9-1</a> shows the TCP/IP setup menu on a PC.</em></p>
        <p class="s-paran">2.1 Compare and contrast various devices, their features, and their appropriate placement on the network.</p>
        <p class="s-para"><em>This section presents documentation of a three-router campus network that lists the interface IP addresses, the assigned subnet masks, and the gateway address.</em></p>
        <p class="s-paran"><span epub:type="pagebreak" id="page_459"></span>2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section demonstrates how static routes are entered using the</em> <strong><em>ip route</em></strong> <em>command.</em></p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>This section mentions that the command for copying the running configuration to the startup configuration is</em> <strong><em>write memory</em></strong> <em>(</em><strong><em>wr m</em></strong><em>).</em></p>
        <p class="s-paran">3.3 Explain high availability and disaster recovery concepts and summarize which is the best solution.</p>
        <p class="s-para"><em>In this section, notice that the interfaces change state to</em> <strong><em>up</em></strong> <em>after the</em> <strong><em>no shut</em></strong> <em>command is issued.</em></p>
        <p class="s-paran">5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>This section presents examples using both the</em> <strong><em>netstat -r</em></strong> <em>and</em> <strong><em>route print</em></strong> <em>commands. The routing tables for the host PC computer can be obtained by entering the command</em> <strong><em>netstat -r</em></strong> <em>at the PC’s command prompt and from the macOS terminal screen.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec5">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">The default gateway specifies which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Where the data is to be sent when the source address for the data is not in the same subnet or is unknown</p></li>
        <li><p class="alpha">Where the data is to be sent when the destination address for the data is in the same subnet or is unknown</p></li>
        <li><p class="alpha">Where the data is to be sent when the destination address for the data is not in the same subnet or is unknown</p></li>
        <li><p class="alpha">Where the data is to be routed when the source and the destination addresses for the data are not in the same subnet or are unknown</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">Which of the following is the generic command for configuring a static route?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">router(config) <strong>ip route [</strong><em>destination</em><strong>] [</strong><em>subnet mask</em><strong>] [</strong><em>next hop ip address</em><strong>]</strong></p></li>
        <li><p class="alpha">router(config-static)# <strong>ip route [</strong><em>destination</em><strong>] [</strong><em>subnet mask</em><strong>] [</strong><em>next hop ip address</em><strong>]</strong></p></li>
        <li><p class="alpha">router(config)# <strong>router static</strong> router(config)# <strong>ip route [</strong><em>destination</em><strong>] [</strong><em>subnet mask</em><strong>] [</strong><em>next hop ip address</em><strong>]</strong></p></li>
        <li><p class="alpha">router(config)# <strong>ip route [</strong><em>destination ip address</em><strong>] [</strong><em>subnet mask</em><strong>] [</strong><em>next hop ip address</em><strong>]</strong></p></li>
        <li><p class="alpha">router(config)# <strong>ip route</strong> <strong>[</strong><em>next hop ip address</em><strong>] [</strong><em>subnet mask</em><strong>] [</strong><em>destination ip address</em><strong>]</strong></p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec3"><span epub:type="pagebreak" id="page_460"></span><span class="space">9-3</span> Dynamic Routing Protocols</h3>
        <p class="noindent">As you learned in <a href="ch09.xhtml#ch9lev1sec2">Section 9-2</a>, the time required for entering and maintaining static routes can be problematic. Therefore, static routing protocols are of limited use for campuswide network routing. However, they are essential when configuring the default route (gateway of last resort) on routers. Static routes are used in situations such as configuring small networks with few routes.</p>
        <div class="box">
        <p class="box-title">Dynamic Routing Protocol</p>
        <p class="box-para">A protocol that dynamically updates a routing table to account for loss of or changes in routes or changes in data traffic</p>
        </div>
        <p class="noindent">This section introduces an improvement over static routing: the use of <a id="ch9key16" href="glossary.xhtml#glo173"><span class="gray_kt"><strong>dynamic routing protocols</strong></span></a>, which enable a router’s routing tables to be dynamically updated to account for losses of or changes in routes or changes in data traffic. The routers update their routing tables using information obtained from adjacent routers. A dynamic routing protocol is responsible for managing the exchange of routing information between the routers, and the choice of protocol defines how the routing information is exchanged and used.</p>
        <p class="noindent">Dynamic routing protocols are responsible for four primary features:</p>
        <ul class="bullet">
        <li><p class="bullet">What information is exchanged between routers</p></li>
        <li><p class="bullet">When updated routing information is exchanged</p></li>
        <li><p class="bullet">Steps for reacting to changes in the network</p></li>
        <li><p class="bullet">Criteria for establishing the best route selection</p></li>
        </ul>
        <p class="noindent">Four key issues are associated with dynamic routing protocols:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>Path determination:</strong> This is a procedure in the protocol that is used to determine the best route.</p></li>
        <li><p class="bullet"><strong>Metric:</strong> A metric is a numeric measure assigned to a route that can be used to rank routes from best to worst; the smaller the number, the better.</p></li>
        <li><p class="bullet"><strong>Convergence:</strong> Convergence occurs when a router obtains a clear view of the routes in a network. The time it takes for the router to obtain a clear view is called the <em>convergence time</em>.</p></li>
        <li><p class="bullet"><strong>Load balancing:</strong> Load balancing is a procedure in a protocol that enables routers to use any of the multiple data paths available from multiple routers to reach the destination. The purpose of load balancing is to distribute data traffic across multiple links or routers, thereby improving the reliability of a route.</p></li>
        </ul>
        <p class="noindent"><span epub:type="pagebreak" id="page_461"></span>Examples of route metrics are as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>Hop count:</strong> The number of routers the data packet must pass through to reach the destination network.</p></li>
        <li><p class="bullet"><strong>Reliability:</strong> A measure of the reliability of the link, typically in terms of the number of errors.</p></li>
        <li><p class="bullet"><strong>Bandwidth:</strong> The data capacity of the networking link. For example, a 1000Mbps link has greater data capacity than a 100Mbps or 10Mbps Ethernet link.</p></li>
        <li><p class="bullet"><strong>Delay:</strong> The time it takes for a data packet to travel from source to destination.</p></li>
        <li><p class="bullet"><strong>Cost:</strong> A value assigned by a routing protocol or a network administrator to a link or an interface. Typically, the value is based on the referenced bandwidth.</p></li>
        <li><p class="bullet"><strong>Load:</strong> The network activity on a link or router.</p></li>
        <li><p class="bullet"><strong>Ticks:</strong> The measured delay time in terms of clock ticks, where each tick is approximately 55 milliseconds (1⁄18 second).</p></li>
        <li><p class="bullet"><strong>Latency:</strong> A measure of how much time it takes for a data packet to get from the input into a network to its output. Latency results in poor throughput in a computer network and should be minimized.</p></li>
        </ul>
        <div class="box">
        <p class="box-title">Administrative Distance</p>
        <p class="box-para">A feature used by routers to select the best path when more than one path is available</p>
        </div>
        <p class="noindent">There are two types of internal dynamic routing protocols: distance vector and link state. These protocols are briefly introduced in <a href="ch09.xhtml#ch9lev1sec4">Sections 9-4</a> and <a href="ch09.xhtml#ch9lev1sec6">9-6</a>. Another concept related to metrics is <a id="ch9key17" href="glossary.xhtml#glo23"><span class="gray_kt"><strong>administrative distance</strong></span></a>, which enables routing protocols to select the best path when more than one path is available. For example, say that there are two network routes: One is an OSPF route, and the other is an EIGRP route. If the OSPF route has an administrative distance of 110, and the EIGRP route has an administrative distance of 90, the EIGRP route will be selected as the preferred route. <a href="ch09.xhtml#ch09tab03">Table 9-3</a> provides a short list of administrative distances for common routing protocols.</p>
        <figure class="table" id="ch09tab03">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 9-3</span> <strong>Administrative Distances for Common Routing Protocols</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Routing Protocol</p></th>
        <th class="borderb"><p class="tab-para">Default Distance Values</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">Connected</p></td>
        <td class="borderb"><p class="tab-para">0</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">Static</p></td>
        <td class="borderb"><p class="tab-para">1</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">BGP</p></td>
        <td class="borderb"><p class="tab-para">20</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">EIGRP</p></td>
        <td class="borderb"><p class="tab-para">90</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">OSPF</p></td>
        <td class="borderb"><p class="tab-para">110</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">RIP</p></td>
        <td class="borderb"><p class="tab-para">120</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec6"><span epub:type="pagebreak" id="page_462"></span>Section 9-3 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.6 Explain the use and purpose of network services.</p>
        <p class="s-para"><em>This section looks at load balancing. The purpose of a load balancer is to distribute data traffic across routes and servers, thereby improving the reliability of a route or a server.</em></p>
        <p class="s-paran">2.1 Compare and contrast various devices, their features, and their appropriate placement on the network.</p>
        <p class="s-para"><em>This section introduces dynamic routing protocols that enable a router’s routing tables to be dynamically updated to account for loss or changes in routes or changes in data traffic.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section introduces four key issues that are associated with dynamic routing protocols: path determination, metric, convergence, and load balancing.</em></p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>This section introduces various routing metrics, including hop count, bandwidth, cost, latency, and administrative distance. Understanding these metrics is important when planning routing for a network.</em></p>
        <p class="s-paran">3.3 Explain high availability and disaster recovery concepts and summarize which is the best solution.</p>
        <p class="s-para"><em>This section introduces load balancing, which is a procedure in a protocol that enables routers to use any of the multiple data paths available from multiple routers to reach the destination. The purpose of load balancing is to distribute data traffic across multiple links or routers, thereby improving the reliability of a route.</em></p>
        <p class="s-paran">5.2 Given a scenario, troubleshoot common cable connectivity issues and select the appropriate tools.</p>
        <p class="s-para"><em>This section introduces latency, which results in poor throughput in a computer network and should be minimized.</em></p>
        <p class="s-paran">5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>This section discusses dynamic routing protocols, which enable a router’s routing tables to be dynamically updated to account for loss of or changes in routes or changes in data traffic.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec7"><span epub:type="pagebreak" id="page_463"></span>Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">What is a metric?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A numeric measure assigned to a route that is used to rank routes from best to worst; the larger the number, the better</p></li>
        <li><p class="alpha">A numeric measure assigned to a route that is used to rank routes from best to worst; the smaller the number, the better</p></li>
        <li><p class="alpha">A numeric measure assigned to a route that is used to rank routes from best to worst; a number equal to 100 indicates the best route</p></li>
        <li><p class="alpha">A numeric measure assigned to a route that is used to rank routes from best to worst; the number indicates the ticks</p></li>
        </ol></li>
        <li><p class="num">What is hop count?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A value typically assigned by a network administrator that takes into account bandwidth and expense</p></li>
        <li><p class="alpha">The number of routing devices a data packet must pass through to reach the destination network</p></li>
        <li><p class="alpha">The data capacity of the networking link; a 1000Mbps link has greater data capacity than a 100Mbps or a 10Mbps Ethernet link</p></li>
        <li><p class="alpha">The measured delay time in terms of clock ticks, where each tick is approximately 55 milliseconds (1⁄18 second)</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec4"><span class="space">9-4</span> Distance Vector Protocols</h3>
        <div class="box">
        <p class="box-title">Distance Vector Protocol</p>
        <p class="box-para">A routing algorithm that periodically sends the entire routing table to its neighboring or adjacent router</p>
        </div>
        <p class="noindent">A <a id="ch9key18" href="glossary.xhtml#glo159"><span class="gray_kt"><strong>distance vector protocol</strong></span></a> is a routing algorithm that periodically sends the entire routing table to its neighboring or adjacent router. When the neighboring router receives the table, it assigns a distance vector number to each route. The distance vector number is typically specified by some metric, such as hop count.</p>
        <p class="noindent">With a distance vector protocol, the router first determines its neighbors or adjacent routers. All the connected routes have a distance or hop count of 0, as illustrated in <a href="ch09.xhtml#ch09fig05">Figure 9-5</a>. Routers use the hop count metric to determine the best route for forwarding a data packet. <a href="ch09.xhtml#ch09fig06">Figure 9-6</a> provides an example of determining the hop count to a destination subnet.</p>
        <span epub:type="pagebreak" id="page_464"></span>
        <figure class="image" id="ch09fig05">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig05.jpg" alt="Figure shows Router A labeled, “neighbor router (hop count = 0),” Router B, and Router C labeled, “neighbor router (hop count = 0).” Data passes from router A to router B through IP address 10.10.10.0. Router B passes the data to Router C through IP address 10.10.20.0." width="396" height="263">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-5</strong></span> An example of router neighbors (hop count = 0).</p>
        </figcaption>
        </figure>
        <figure class="image" id="ch09fig06">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig06.jpg" aria-describedby="Alch09fig06" alt="Figure shows an example of determining the router hops." width="592" height="396">
        <aside class="hidden" id="Alch09fig06">
        <p>Data is transmitted from Router A to Router B through "10.10.200.0 NET," Router B transmits the data to Router C through "10.10.150.0 NET," and Router C transmits the data to another router through "10.10.50.0 NET." Below the figure, Hop count is tabulated. The column headers read: "From, To, and Hop Count." Row one reads: "Router A, 10.10.200.0, and 0," row two reads: "Router A, 10.10.150.0, and 1," and row 3 reads: "Router A, 010.10.50.0, and 2."</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong><strong>FIGURE 9-6</strong></strong></span> An example of determining the router hops.</p>
        </figcaption>
        </figure>
        <p class="noindent">The hop counts from RouterA to the 10.10.200.0, 10.10.150.0, and 10.10.50.0 subnets are as follows:</p>
        <figure class="table">
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">From</p></th>
        <th class="borderb"><p class="tab-para">To</p></th>
        <th class="borderb"><p class="tab-para">Hop Count</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">RouterA</p></td>
        <td class="borderb"><p class="tab-para">10.10.200.0</p></td>
        <td class="borderb"><p class="tab-para">0</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">RouterA</p></td>
        <td class="borderb"><p class="tab-para">10.10.150.0</p></td>
        <td class="borderb"><p class="tab-para">1</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">RouterA</p></td>
        <td class="borderb"><p class="tab-para">10.10.50.0</p></td>
        <td class="borderb"><p class="tab-para">2</p></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <p class="noindent">With a distance vector protocol, each router determines its neighbors, builds its list of neighboring routers, and sends its routing table to its neighbors. The neighboring routers update their routing table based on the received information. When this is complete, each router’s routing table provides a list of known routes within the network.</p>
        <div class="box">
        <p class="box-title">RIP</p>
        <p class="box-para">Routing Information Protocol</p>
        <p class="box-title">Routing Loop</p>
        <p class="box-para">A situation in which data is forwarded back to the router that sent the data packets</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_465"></span>Routing Information Protocol (<a id="ch9key19" href="glossary.xhtml#glo503"><span class="gray_kt"><strong>RIP</strong></span></a>) is a dynamic routing protocol, which means the routers periodically exchange routes. RIP is classified as a distance vector protocol, and it uses router hop count as the metric. RIP permits a maximum of 15 hops to prevent <a id="ch9key20" href="glossary.xhtml#glo523"><span class="gray_kt"><strong>routing loops</strong></span></a>. A routing loop occurs when a router forwards packets back to the router that sent them, as graphically shown in <a href="ch09.xhtml#ch09fig07">Figure 9-7</a>. RIP and other distance vector routing protocols send the entire routing table to neighbor routers at regular intervals. Sometimes the routing tables can be quite large, and the transfer can consume network bandwidth. This is of great concern in networks with limited bandwidth (also called throughput) because the periodic exchange can lead to slowdowns in data traffic. The default time interval for RIP for exchanging routing tables is 30 seconds. This results in slow route convergence, and if multiple routers are sharing RIP routes, the convergence time is even longer.</p>
        <figure class="image" id="ch09fig07">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig07.jpg" alt="Figure shows two routers interconnected via two arrows in a circular manner." width="522" height="143">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-7</strong></span> An example of data packet travel in a routing loop. Note that the packets never leave the routes between the two routers.</p>
        </figcaption>
        </figure>
        <p class="noindent">RIP is a relatively simple-to-configure routing protocol. However, RIP is good only for very small networks; it is not suited for networks that need fast convergence. RIP is a standards-based protocol, not a proprietary protocol, which means the use of RIP is not limited to certain equipment manufacturers. <a href="ch09.xhtml#ch9lev1sec5">Section 9-5</a> examines the procedures for configuring a router to use the RIP and RIPv2 dynamic routing protocols.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec8">Section 9-4 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">2.1 Compare and contrast various devices, their features, and their appropriate placement on the network.</p>
        <p class="s-para"><em>This section introduces the concept of distance vector protocols.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section discusses Routing Information Protocol (</em><strong>RIP</strong><em>), which is a dynamic routing protocol, which means the routers periodically exchange routes. RIP is classified as a distance vector protocol, and it uses router hop count as the metric.</em></p>
        <p class="s-paran">5.2 Given a scenario, troubleshoot common cable connectivity issues and select the appropriate tools.</p>
        <p class="s-para"><em>This section says that sometimes the routing tables can be quite large, and the transfer can consume network bandwidth. This is of great concern</em> <span epub:type="pagebreak" id="page_466"></span><em>in networks with limited bandwidth (also called throughput) because the periodic exchange can lead to slowdowns in data traffic.</em></p>
        <p class="s-paran">5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>This section states that RIP permits a maximum of 15 hops to prevent</em> <strong>routing loops</strong><em>. A routing loop occurs when a router forwards packets back to the router that sent them, as graphically shown in <a href="ch09.xhtml#ch09fig07">Figure 9-7</a>.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec9">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">RIP is classified as which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Distance vector protocol</p></li>
        <li><p class="alpha">Dynamic routing protocol</p></li>
        <li><p class="alpha">Link state protocol</p></li>
        <li><p class="alpha">Both a and c</p></li>
        <li><p class="alpha">Both a and b</p></li>
        <li><p class="alpha">Both b and c</p></li>
        </ol></li>
        <li><p class="num">When does a routing loop occur?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">When the cost of a route is too low</p></li>
        <li><p class="alpha">When the cost of a route is too high</p></li>
        <li><p class="alpha">When a router forwards packets back to the router that sent them</p></li>
        <li><p class="alpha">When static routing is used</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec5"><span class="space">9-5</span> Configuring RIP and RIPv2</h3>
        <p class="noindent">You enable the RIP routing protocol on a router by entering the command <strong>router rip</strong> at the <strong>Router(config)#</strong> prompt in privileged EXEC mode. Next, <strong>network</strong> statements are required to declare which networks will be advertised by the RIP routing protocol. To <a id="ch9key21" href="glossary.xhtml#glo26"><span class="gray_kt"><strong>advertise</strong></span></a> the network means to share the routing table containing <span epub:type="pagebreak" id="page_467"></span>the network with neighbors. The <strong>network</strong> command requires the use of a <a id="ch9key22" href="glossary.xhtml#glo99"><span class="gray_kt"><strong>class network address</strong></span></a> (Class A, Class B, Class C) after the <strong>network</strong> command. This is called <a id="ch9key23" href="glossary.xhtml#glo102"><span class="gray_kt"><strong>classful addressing</strong></span></a>. A class network address, or classful address, is the network portion of an address for a particular class of network. For example, LAN A in the campus network in <a href="ch09.xhtml#ch09fig08">Figure 9-8</a> is on the 10.10.20.0 NET. This is a Class A network, and the network portion of the address is 10.0.0.0. The structure of the <strong>network</strong> command is <strong>network [</strong><em>network address</em><strong>]</strong>, where <em>network address</em> is the network where RIP is to be advertised; therefore, the command with RIP is <strong>network 10.0.0.0</strong>.</p>
        <div class="box">
        <p class="box-title">Advertise</p>
        <p class="box-para">To share route information</p>
        </div>
        <div class="box">
        <p class="box-title">Class Network Address</p>
        <p class="box-para">The network portion of an IP address, based on the class of the network</p>
        <p class="box-title">Classful Addressing</p>
        <p class="box-para">Addressing that requires the network portion of a particular network address</p>
        </div>
        <figure class="image" id="ch09fig08">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig08.jpg" aria-describedby="Alch09fig08" alt="Illustration shows three-router campus LAN with a table below it." width="701" height="557">
        <aside class="hidden" id="Alch09fig08">
        <p>Illustration shows "LAN A, LAN B, LAN C, and LAN D." In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, the switch connects C1 from port 12 and C2 is connected from port 24 labeled, "LAN C server." In LAN D, a switch connects D1 from port 13 and 14. From port 24, in LAN A, the data is transmitted to the router A through Ethernet port E0 and IP address 10.10.20.0 Net. From port 24 in LAN B, the data is transmitted to Router B, through the Ethernet port E0 and IP address 10.10.10.0 Net. In LAN C, the data is transmitted to Router B from port 13 through Ethernet port E1 and IP address 10.10.1.0 Net. In LAN D, the data is transmitted to Router C from port 13 through the Ethernet port E0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the Ethernet port E2 and with IP address: 10.10.100.0 Net. From Router A, it transmits from the Ethernet port E1 to E2 in Router B with IP address 10.10.200.0 Net. From Router B, it transmits from Ethernet port E3 to E1 of Router C with IP address: 10.10.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer Table: Figure 9.8</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-8</strong></span> Multiple LANs in a campus network.</p>
        </figcaption>
        </figure>
        <p class="noindent">This section explains how to initialize RIP and how to set the networks attached to the router. After these commands are entered, any interfaces that are part of the 10.0.0.0 network will run the RIP routing protocol. Note that subnets or subnet masks are not specified with the RIP <strong>network</strong> command because the class network address is used, and all IP addresses in the network (for example, 10.0.0.0) are enabled to use RIP. To configure RIP, you will need to enter the privileged EXEC mode. Then at the (config)# prompt, enter the command “router rip” and enter the specific network which will be running the RIP protocol as shown below.</p>
        <p class="codelink"><a href="ch09_images.xhtml#p467pro01a" id="p467pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>router rip</strong>
        Router(config-router)# <strong>network 10.0.0.0</strong>
        </pre>
        <p class="noindent">RIP can be used only in <a id="ch9key24" href="glossary.xhtml#glo121"><span class="gray_kt"><strong>contiguous networks</strong></span></a>, which means the networks and routes must have the same class network address. The router addresses for the <span epub:type="pagebreak" id="page_468"></span>network connecting the routers must be the same class as the LAN connected to the router (see <a href="ch09.xhtml#ch09fig09">Figure 9-9</a>). LAN A and LAN B have a 10.#.#.# address (also called a <em>10 network</em> address). The network address connecting the two routers must also be a 10 network address. The IP address for the network connecting the two routers in <a href="ch09.xhtml#ch09fig09">Figure 9-9</a>(a) is 10.10.200.0. This is a 10 network address. The network shown in <a href="ch09.xhtml#ch09fig09">Figure 9-9</a>(b) uses the IP address 192.168.10.0 for the network connecting the two routers. This address is in the 192.168.10.0 network and is not part of the 10.0.0.0 network; therefore, the 192.168.10.0 address is not suitable for use with RIP.</p>
        <div class="box">
        <p class="box-title">Contiguous Networks</p>
        <p class="box-para">Networks and routes that have the same class network address</p>
        </div>
        <figure class="image" id="ch09fig09">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig09.jpg" aria-describedby="Alch09fig09" alt="Figure shows a contiguous network and a discontiguous network." width="577" height="548">
        <aside class="hidden" id="Alch09fig09">
        <p>Figure (a) shows LAN A labeled, "10.10.20.0 NET" connected to a router and LAN B labeled, "10.10.10.0 NET" connected to another router. The routers are interconnected through 10.10.200.0 NET. Figure (b) shows LAN A labeled, "10.10.20.0 NET" connected to a router and LAN B labeled, "10.10.10.0 NET" connected to another router. The routers are interconnected through 192.168.10.0 NET. Text reading, "must be a "10" network" points to the connection between the routers and the connection is crossed.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-9</strong></span> An example of (a) a contiguous network and (b) a discontiguous network.</p>
        </figcaption>
        </figure>
        <section>
        <h4 class="h4" id="ch9lev2sec10">Configuring Routes with RIP</h4>
        <p class="noindent">The first step in configuring a router for RIP is to set up the interfaces, which involves assigning an IP address and a subnet mask to the interface by using the command <strong>ip address</strong> <em>A.B.C.D. subnet-mask</em>. Next, you enable the interface by using the <strong>no shut</strong> command. The following example shows how to configure the FastEthernet0/0 and FastEthernet 0/1 interfaces on RouterA in the campus network shown in <a href="ch09.xhtml#ch09fig09">Figure 9-9</a>:</p>
        <span epub:type="pagebreak" id="page_469"></span>
        <p class="codelink"><a href="ch09_images.xhtml#p468pro01a" id="p468pro01">Click here to view code image</a></p>
        <pre class="pre1">Router con0 is now available
        Press RETURN to get started.
        RouterA&gt; <strong>en</strong>
        Password:
        RouterA# <strong>conf t</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        RouterA(config)# <strong>int fa0/0</strong>
        RouterA(config-if)# <strong>ip address 10.10.20.250 255.255.255.0</strong>
        RouterA(config-if)# <strong>no shut</strong>
        00:59:03: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet1, changed state to up Router(config)# <strong>int fa0/1</strong>
        RouterA(config-if)# <strong>ip address 10.10.200.1 255.255.255.0</strong>
        RouterA(config-if)# <strong>no shut</strong>
        00:59:03: %LINEPROTO-5-UPDOWN: Line protocol on Interface FastEthernet1, changed state to up
        </pre>
        <p class="noindent">Next, you enter the router’s configuration mode and input the command <strong>router rip</strong> to use RIP as the routing protocol and then specify the network that uses RIP for routing, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p469pro01a" id="p469pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>router rip</strong>
        RouterA(config-router)# <strong>network 10.0.0.0</strong>
        </pre>
        <p class="noindent">The command <strong>router rip</strong> enables the RIP routing protocol, and the command <strong>network 10.0.0.0</strong> instructs the router to use RIP on the 10 network. Remember that RIP requires the use of a class network address (for example, 10.0.0.0). Notice that the <strong>router rip</strong> command places the router in the router configuration mode, as shown in the prompt (<strong>RouterA(config)#</strong>). This indicates that the router is in the state for specifying the networks using RIP.</p>
        <p class="noindent">It’s a good idea to periodically check that the router interfaces are properly configured. To do this, you can use the command <strong>show ip interface brief</strong> (<strong>sh ip int brief</strong>). This is an important troubleshooting command when you’re trying to figure out why a router is not working. Use this command to check whether the IP address has been assigned to the interface and to check the status and protocol settings. In this case, the FastEthernet0/1 port has been assigned the IP address 10.10.200.1, the status is <strong>up</strong>, and the protocol is <strong>up</strong>. You can see here that the FastEthernet0/2 port for RouterA has not been configured, the status is <strong>administratively down</strong>, and the protocol is <strong>down</strong>:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p469pro02a" id="p469pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip int brief</strong>
        Interface IP-Address OK? Method Status Protocol
        FastEthernet 0/0 10.10.20.250 YES manual up up
        FastEthernet 0/1 10.10.200.1 YES manual up up
        FastEthernet 0/2 unassigned YES unset administratively down down
        </pre>
        <div class="box">
        <p class="box-title">show ip protocol (sh ip protocol)</p>
        <p class="box-para">The command that displays the routing protocols running on the router</p>
        </div>
        <p class="noindent">The command <a id="ch9key25" href="glossary.xhtml#glo548"><span class="gray_kt"><strong>show ip protocol (sh ip protocol)</strong></span></a> is used to display the routing protocols running on a router, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p469pro03a" id="p469pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip protocol</strong>
        Routing Protocol is "rip"
        Sending updates every 30 seconds, next due in 5 seconds
        Invalid after 180 seconds, hold down 180, flushed after 240
        Outgoing update filter list for all interfaces is Incoming update 
        filter list for all interfaces is Redistributing: rip
        Default version control: send version 1, receive any version
        Interface Send Recv Key-chain
        FastEthernet0/0 1 1 2
        FastEthernet0/1 1 1 2
        FastEthernet0/2 0 0 0
        Routing for Networks:
        10.0.0.0
        Routing Information Sources:
        Gateway Distance Last Update
        10.10.200.2 120 00:00:14
        Distance: (default is 120)
        </pre>
        <span epub:type="pagebreak" id="page_470"></span>
        <p class="noindent">This command displays protocol information only after the routing protocol has been enabled and the network addresses are specified. Notice that there are no values specified for the FastEthernet0/0 and FastEthernet0/2 ports. Neither of these interfaces has been configured. The <strong>show ip protocol</strong> command also shows that router updates are being sent every 30 seconds and indicates that the next update is due in 5 seconds.</p>
        <p class="noindent">The routes configured for the router can be displayed by using the <strong>show ip route</strong> (<strong>sh ip route</strong>) command, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p470pro02a" id="p470pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip route</strong>
        Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP
        I - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, * candidate default
        U - per-user static route, o - ODR T - traffic engineered route
        Gateway of last resort is not set
        10.0.0.0/24 is subnetted, 1 subnets
        C 10.10.20.0 is directly connected, FastEthernet0/0
        C 10.10.200.0 is directly connected, FastEthernet0/1
        </pre>
        <p class="noindent">In this example, the FastEthernet 0/0 and FastEthernet0/1 ports for RouterA have been configured and are displayed as connected networks. This routing table shows the connected networks, but RIP (<strong>R</strong>) is not enabled for any networks. Why? At this point, RIP has been enabled only on RouterA in the campus network. RouterB and RouterC also need to have RIP enabled. Use the commands <strong>router rip</strong> and <strong>network</strong> to enable RIP on RouterB. RIP is next configured on RouterB, and the updated routing table for RouterA is provided:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p470pro03a" id="p470pro03">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>sh ip route</strong>
        Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP
        I - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, * candidate default
        U - per-user static route, o - ODR T - traffic engineered route
        Gateway of last resort is not set
        10.0.0.0/24 is subnetted, 5 subnets
        R 10.10.1.0 [120/1] via 10.10.200.2, 00:00:05, FastEthernet0/1
        R 10.10.10.0 [120/1] via 10.10.200.2, 00:00:05, FastEthernet0/1
        C 10.10.20.0 is directly connected, FastEthernet0/0
        C 10.10.200.0 is directly connected, FastEthernet0/1
        </pre>
        <span epub:type="pagebreak" id="page_471"></span>
        <p class="noindent">Now, the networks (10.10.10.0 and 10.10.1.0) from LAN B and LAN C, respectively, are shown in this routing table. RouterA learns these network routes via its FastEthernet0/1 port from the IP address 10.10.200.2, which is the FastEthernet0/2 interface of RouterB.</p>
        <p class="noindent">You can verify the settings in the running configuration file by using the <strong>sh run</strong> command. (Recall that this is the abbreviated version of <strong>show running-configuration</strong>.) The configuration list should show that the interfaces have been assigned an IP address and that RIP has been configured. <a href="ch09.xhtml#ch09tab04">Table 9-4</a> provides some commented output from the <strong>sh run</strong> command.</p>
        <figure class="table" id="ch09tab04">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 9-4</span> <strong>sh run Command Output</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Output</p></th>
        <th class="borderb"><p class="tab-para">Comments</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">RouterA# <strong>sh run</strong></p></td>
        <td class="borderb"><p class="tab-para"><strong>sh run</strong> command</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">Building configuration</p></td>
        <td class="borderb"><p class="tab-para">Assembling the data file</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">!</p></td>
        <td class="borderb"><p class="tab-para">! is used for spaces or comments</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">version 12.0</p></td>
        <td class="borderb"><p class="tab-para">Displays the Cisco IOS version</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">service timestamps debug uptime</p></td>
        <td class="borderb"><p class="tab-para">Displays time in debug mode since last reboot</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">service timestamps log uptime</p></td>
        <td class="borderb"><p class="tab-para">Records time in syslog since last reboot</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">no service password-encryption</p></td>
        <td class="borderb"><p class="tab-para">The enable (line 14) and vty (line 42) passwords, which appear as plaintext</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">hostname RouterA</p></td>
        <td class="borderb"><p class="tab-para">The name of the router</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">enable secret 5 $1$6EWO$kWlakDz89zac.koh/pyG4.</p></td>
        <td class="borderb"><p class="tab-para">The encrypted enable secret</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">enable password Salsa</p></td>
        <td class="borderb"><p class="tab-para">The enable password</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">ip subnet-zero</p></td>
        <td class="borderb"><p class="tab-para">Enables subnet zero routing</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">interface FastEthernet0/0 ip address 10.10.20.0 255.255.255.0 no ip directed-broadcast</p></td>
        <td class="borderb"><p class="tab-para">FastEthernet0/0 settings</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">interface FastEthernet0/1 ip address 10.10.200.1 255.255.255.0 no ip directed-broadcast no mop enabled</p></td>
        <td class="borderb"><p class="tab-para">FastEthernet0/1 settings</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">interface FastEthernet0/2 ip address 10.10.100.1 255.255.255.0 no ip directed-broadcast no mop enabled</p></td>
        <td class="borderb"><p class="tab-para">FastEthernet0/2 settings</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">router rip</p></td>
        <td class="borderb"><p class="tab-para">Enables RIP</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">network 10.0.0.0</p></td>
        <td class="borderb"><p class="tab-para">Specifies a network class address</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">ip classless</p></td>
        <td class="borderb"><p class="tab-para">Enables classless routing</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">line con 0</p></td>
        <td class="borderb"><p class="tab-para">Console terminal settings</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">transport input none</p></td>
        <td class="borderb"><p class="tab-para">Disables all forms of remote access</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">line aux 0</p></td>
        <td class="borderb"><p class="tab-para">AUX terminal settings</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">line vty 0 4</p></td>
        <td class="borderb"><p class="tab-para">Virtual terminal settings for telnet and SSH</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">password ConCarne</p></td>
        <td class="borderb"><p class="tab-para">VTY password</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">!</p></td>
        <td class="borderb"><p class="tab-para">Login</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">end</p></td>
        <td class="borderb"></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <p class="noindent"><span epub:type="pagebreak" id="page_472"></span>Notice that the IP addresses for FA0/0, FA0/1, and FA0/2 have been configured. Also note that RIP has been configured for the router. The <strong>sh run</strong> command displays the router’s running configuration. The <strong>copy run start</strong> command must be entered to save to NVRAM the changes made to the router’s configuration.</p>
        <p class="noindent">RIP, introduced in 1988, is among the oldest protocols. It has a number of limitations that make it inefficient in handling a lot of newer IP features, including the following:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>RIP is a classful routing-only protocol:</strong> It therefore does not support VLSM and CIDR. This prevents it from being the routing protocol of choice for dealing with different-sized subnets in a network.</p></li>
        <li><p class="bullet"><strong>RIP does not support router authentication:</strong> This means routers are vulnerable to exploits.</p></li>
        <li><p class="bullet"><strong>RIP has a hop count limit of 15:</strong> With RIP, a destination that is more than 15 hops away is considered unreachable.</p></li>
        <li><p class="bullet"><strong>RIP uses hop count as a metric:</strong> RIP determines the best route by counting the number of hops to reach the destination. A lower hop count wins over a higher hop count. This is a disadvantage when dealing with different bandwidths between hops. RIP does not take into consideration whether a higher hop count route might have higher bandwidth. Therefore, it might take the lower-bandwidth route.</p></li>
        </ul>
        <p class="noindent">The following example demonstrates one of RIP’s limitations. In this example, the subnet mask of the LAN C network is changed to 255.255.255.128. To accomplish this task, the FastEthernet0/1 interface for RouterB needs to be reconfigured as follows:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p472pro01a" id="p472pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>conf t</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        RouterB(config)# <strong>int fa0/1</strong>
        RouterB(config-if)# <strong>ip address 10.10.1.250 255.255.255.128</strong>
        </pre>
        <p class="noindent">RIP does not support VLSM, so what will happen to the newly reconfigured subnet? The network 10.10.1.0 will not be advertised by RIP. The route for network 10.10.1.0 is not displayed in the routing table of RouterA, as shown in the output of the command <strong>sh ip route</strong>:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p472pro02a" id="p472pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip route</strong>
        Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP
        I - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, * candidate default
        U - per-user static route, o - ODR T - traffic engineered route
        Gateway of last resort is not set
        10.0.0.0/24 is subnetted, 5 subnets
        R 10.10.10.0 [120/1] via 10.10.200.2, 00:00:05, FastEthernet0/1
        C 10.10.20.0 is directly connected, FastEthernet0/0
        C 10.10.200.0 is directly connected, FastEthernet0/1
        </pre>
        <span epub:type="pagebreak" id="page_473"></span>
        <p class="noindent">To address some of RIP’s limitations, the second version of RIP, RIP version 2 (RIPv2), was developed in 1993. The original version of RIP is now sometimes called RIP version 1 (RIPv1). RIPv2 is not quite a redesign of RIPv1; rather, it can be thought of as an enhanced version of RIPv1. RIPv2 works basically just like RIPv1, but it introduced new features, such as support for VLSM and CIDR, router authentication, next hop specification, route tags, and multicasting. However, it still cannot resolve the hop count and metric decision limitations of RIPv1.</p>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec11">Configuring Routes with RIPv2</h4>
        <p class="noindent">The steps needed to configure RIPv2 are almost exactly the same as for configuring RIPv1. The only difference is that the version must be specified in the <strong>router rip</strong> configuration. The following example shows how to start with the RIP configuration from earlier in this chapter and enter the router’s configuration mode (<strong>Router(config)#</strong>) and input the command <strong>router rip</strong> to use the RIP routing protocol. The next step is to configure RIPv2 to be used with the command <strong>version 2</strong>. (If you don’t specify the version, RIPv1 is used by default.) This is what these two steps look like:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p473pro01a" id="p473pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>router rip</strong>
        RouterA(config-router)# <strong>version 2</strong>
        </pre>
        <p class="noindent">To verify that RIPv2 is the routing protocol, you use the <strong>sh ip protocol</strong> command. Notice the line <strong>Default version control</strong>, which confirms that RIPv2 is being sent as well as being received by RouterA. The rest of the information shown is similar to the protocol result with RIPv1, as you can see here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p473pro02a" id="p473pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip protocol</strong>
        Routing Protocol is "rip"
        Sending updates every 30 seconds, next due in 17 seconds
        Invalid after 180 seconds, hold down 180, flushed after 240
        Outgoing update filter list for all interfaces is not set
        Incoming update filter list for all interfaces is not set
        Redistributing: rip
        Default version control: send version 2, receive version 2
        Interface Send Recv Triggered RIP Key-chain
        FastEthernet0/0 2 2
        FastEthernet0/1 2 2
        FastEthernet0/2 2 2
        Automatic network summarization is in effect
        Maximum path: 4
        Routing for Networks:
        10.0.0.0
        Routing Information Sources:
        Gateway Distance Last Update
        10.10.200.2 120 00:00:20
        Distance: (default is 120)
        </pre>
        <span epub:type="pagebreak" id="page_474"></span>
        <p class="noindent">Now let’s reexamine the earlier demonstration of the RIPv1 limitation in which VLSM was being used, and the subnet mask for the network 10.10.1.0 was changed to 255.255.255.128. This resulted in the network no longer showing up in the routing table. The command <strong>version 2</strong> needs to be applied under <strong>router rip</strong> on RouterB. With RIPv2 enabled, the command <strong>sh ip route</strong> is reissued at RouterA. This time, the routing table shows that the LAN C network 10.10.1.128/25 is being displayed, even though it has a different-sized subnet than the others:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p474pro01a" id="p474pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip route</strong>
        Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP
        I - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, * candidate default
        U - per-user static route, o - ODR
        T - traffic engineered route
        Gateway of last resort is not set
        10.0.0.0/24 is subnetted, 5 subnets
        R 10.10.10.0 [120/1] via 10.10.200.2, 00:00:05, FastEthernet0/1
        C 10.10.20.0 is directly connected, FastEthernet0/0
        R 10.10.1.128/25 [120/1] via 10.10.200.2, 00:00:15, FastEthernet0/1
        C 10.10.200.0 is directly connected, FastEthernet0/1
        </pre>
        <div class="box">
        <p class="box-title" id="ch9lev2sec12">Networking Challenge: RIPv2</p>
        <p class="box-para">Use the Net-Challenge router simulator software to demonstrate that you can configure RIP for RouterA in the campus LAN. (<em>Note:</em> The campus LAN is shown in <a href="ch09.xhtml#ch09fig08">Figure 9-8</a> and is displayed on the computer screen after the software is started and you click on <strong>View Topology</strong>.) In Net-Challenge, click the <strong>Select Challenge</strong> button to open the Select Challenge drop-down menu. Select <strong>RIP V2</strong> to open a check box list that can be used to verify that you have completed all the tasks. Then follow these steps:</p>
        <ol class="number">
        <li><p class="num">Enter privileged EXEC mode on the router using the password <strong>Chile</strong>.</p></li>
        <li><p class="num">Enter router configuration mode, <strong>Router(config)</strong>.</p></li>
        <li><p class="num">Configure the FastEthernet0/0 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.20.250</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/0 interface.</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_475"></span>Configure the FastEthernet0/1 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.200.1</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/1 interface.</p></li>
        <li><p class="num">Configure the FastEthernet0/2 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.100.1</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/2 interface.</p></li>
        <li><p class="num">Enable RIPv2.</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Specify that RIPv2 is to be used.</p></li>
        <li><p class="alpha">Use the <strong>network</strong> command to specify the class network address to be used by RIP (10.0.0.0).</p></li>
        <li><p class="alpha">Use the <strong>sh ip int brief</strong> command to check the interface status.</p></li>
        <li><p class="alpha">Use the <strong>sh ip protocol</strong> command to see whether RIP is running.</p></li>
        <li><p class="alpha">Use the <strong>show ip</strong> route command to verify whether the three FastEthernet ports are connected to the router.</p></li>
        <li><p class="alpha">Display the contents of the <strong>running configuration</strong> file. Verify that RIP is enabled and the proper network address is specified.</p></li>
        <li><p class="alpha">Copy the router’s running configuration to the startup configuration.</p></li>
        <li><p class="alpha">Display the contents of the startup configuration.</p></li>
        </ol></li>
        </ol>
        </div>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec13">Section 9-5 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em>In this section, it states that the</em> <strong><em>ip classless</em></strong> <em>command enables classless routing.</em></p>
        <p class="s-paran">1.5 Explain common ports and protocols, their application, and encrypted alternatives.</p>
        <p class="s-para"><em>This section says that</em> <strong><em>line vty 0 4</em></strong> <em>indicates the virtual terminal settings for Telnet and SSH.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section states that to verify the routing protocol, you use the</em> <strong><em>sh ip protocol</em></strong> <em>command.</em></p>
        <p class="s-paran"><span epub:type="pagebreak" id="page_476"></span>4.1 Explain common security concepts.</p>
        <p class="s-para"><em>This section mentions that RIP does not support router authentication, which means routers are vulnerable to exploits.</em></p>
        <p class="s-paran">5.2 Given a scenario, troubleshoot common cable connectivity issues and select the appropriate tools.</p>
        <p class="s-para"><em>RIP, introduced in 1988, is among the oldest protocols. A number of limitations make it inefficient at handling a lot of newer IP features.</em></p>
        <p class="s-paran">5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>It’s a good idea to periodically check that the router interfaces are properly configured. To do this, you can use the command</em> <strong><em>show ip interface brief</em></strong> <em>(</em><strong><em>sh ip int</em></strong> <strong><em>brief</em></strong><em>) to check whether the IP address has been assigned to the interface and to check the status and protocol settings.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec14">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">What Cisco router IOS command is used to specify the RIP routing protocol?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">router(config) <strong>router rip</strong></p></li>
        <li><p class="alpha">router# <strong>router rip</strong></p></li>
        <li><p class="alpha">router(config)# <strong>router rip protocol</strong></p></li>
        <li><p class="alpha">router(config)# <strong>router rip</strong></p></li>
        </ol></li>
        <li><p class="num">Which command is used to display the routing protocols currently running on a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">router# show ip protocol</p></li>
        <li><p class="alpha">router# <strong>show protocol</strong></p></li>
        <li><p class="alpha">router(config)# <strong>show ip protocol</strong></p></li>
        <li><p class="alpha">router# (config) <strong>show ip protocol</strong></p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec6"><span class="space">9-6</span> Link State Protocols</h3>
        <p class="noindent">A <a id="ch9key26" href="glossary.xhtml#glo334"><span class="gray_kt"><strong>link state protocol</strong></span></a> establishes a relationship with a neighboring router. The routers exchange link state advertisements to update neighbors regarding route status. The link state advertisements are sent only if there is a change or loss in the network routes and the link state protocols converge to route selection quickly. This is a distinct advantage over distance vector protocols, which exchange updated <span epub:type="pagebreak" id="page_477"></span>routing tables at fixed intervals and are slow to converge. In fact, link state routing protocols are replacing distance vector protocols. Link state protocols are also called <em>shortest path first protocols,</em> based on the algorithm developed by E. W. Dijkstra. Link state protocols use hello packets to verify that communication is established with neighbor routers.</p>
        <div class="box">
        <p class="box-title">Link State Protocol</p>
        <p class="box-para">A type of protocol that establishes a relationship with a neighboring router and uses route advertisements to build routing tables</p>
        </div>
        <p class="noindent">The key issues related to link state protocols are summarized as follows:</p>
        <ul class="bullet">
        <li><p class="bullet">They find neighbors/adjacencies.</p></li>
        <li><p class="bullet">They use route advertisements to build the routing table.</p></li>
        <li><p class="bullet">They send hello packets.</p></li>
        <li><p class="bullet">They send updates when routing changes.</p></li>
        </ul>
        <div class="box">
        <p class="box-title">OSPF</p>
        <p class="box-para">Open Shortest Path First, a dynamic link state routing protocol that is supported by many vendors</p>
        <p class="box-title">IETF</p>
        <p class="box-para">Internet Engineering Task Force</p>
        <p class="box-title">Link State Advertisement (LSA)</p>
        <p class="box-para">An announcement of updated link state information when routes change</p>
        </div>
        <p class="noindent">Open Shortest Path First (<a id="ch9key27" href="glossary.xhtml#glo433"><span class="gray_kt"><strong>OSPF</strong></span></a>) is a dynamic link state routing protocol. It was developed by the Interior Gateway Protocol (IGP) working group for the Internet Engineering Task Force (<a id="ch9key28" href="glossary.xhtml#glo272"><span class="gray_kt"><strong>IETF</strong></span></a>) specifically for use in TCP/IP networks. OSPF is an open (that is, not proprietary) protocol that is supported by many vendors. The main advantages of OSPF are rapid convergence and very low bandwidth consumption. When a network is completely <em>converged</em>, all the routers in the network agree on the best routes. After the initial flooding of routes in the form of <a id="ch9key29" href="glossary.xhtml#glo333"><span class="gray_kt"><strong>link state advertisements (LSAs)</strong></span></a>, OSPF sends route updates only when there is a change in the network. Every time LSAs are sent, each router must recalculate the routing table.</p>
        <p class="noindent">Link state protocols have a distinct advantage over RIP. Recall that RIP exchanges the entire routing table at fixed intervals—every 30 seconds. Also, with RIP, the routing table update is propagated through the network at regular intervals, and therefore the convergence to final routes is slow. With OSPF, an LSA is sent as soon as the loss of a route has been detected. The loss is immediately reported to neighbor routers, and new routes are calculated much more quickly than with RIP.</p>
        <div class="box">
        <p class="box-title">Hello Packets</p>
        <p class="box-para">Packets used with the OSPF protocol to verify that links are still communicating</p>
        </div>
        <p class="noindent">OSPF sends small <a id="ch9key30" href="glossary.xhtml#glo244"><span class="gray_kt"><strong>hello packets</strong></span></a> at regular intervals to adjacent routers to verify that the link between two routers is active and the routers are communicating. If a router fails to respond to a “Hello,” it is assumed that the link—or possibly the router—is down.</p>
        <p class="noindent">OSPF uses the concept of <a id="ch9key31" href="glossary.xhtml#glo37"><span class="gray_kt"><strong>areas</strong></span></a> to partition a large network into smaller networks. The advantage of this is that the routers have to calculate routes only for their area. If a route goes down in a given area, only the routers in that area have to calculate new routes. Any number between 0 and 4294967295 (2<sup>32</sup> – 1) can be used; however, area 0 is reserved for the root area, which is the <a id="ch9key32" href="glossary.xhtml#glo53"><span class="gray_kt"><strong>backbone</strong></span></a> of the network. The backbone is the primary path for data traffic to and from destinations and sources in the campus network. All areas must connect to area 0, and area 0 cannot be split. You can also express the area numbers in IP notation—for example, area 0 could be 0.0.0.0—or you can specify an area as 192.168.25.0 or in subnet notation. Hence there is a need for a large upper area number. That is, (2<sup>32</sup> – 1) = 255.255.255.255 when converted to a decimal number.</p>
        <div class="box">
        <p class="box-title">Areas</p>
        <p class="box-para">Smaller OSPF networks partitioned from a large OSPF network</p>
        <p class="box-title">Backbone</p>
        <p class="box-para">The primary path for data traffic to and from destinations and sources in a campus network</p>
        </div>
        <p class="noindent"></p>
        <div class="box">
        <p class="box-title">Variable-Length Subnet Mask</p>
        <p class="box-para">Different-sized subnet masks that better fits the needs of a network, thereby minimizing the waste of IP addresses when interconnecting subnets</p>
        </div>
        <p class="noindent"><span epub:type="pagebreak" id="page_478"></span>OSPF allows the use of <a id="ch9key33" href="glossary.xhtml#glo661"><span class="gray_kt"><strong>variable-length subnet masks</strong></span></a>, which enable different-size subnets in the network to better meet the needs of the network and more efficiently use the network’s limited IP address space. For example, point-to-point inter-router links don’t need a large block of addresses assigned to them. <a href="ch09.xhtml#ch09fig10">Figure 9-10</a> shows an example of an inter-router link.</p>
        <figure class="image" id="ch09fig10">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig10.jpg" alt="Figure shows two routers with IP addresses “10.10.250.1/30” and “10.10.250.2/30,” the FA0/0 port of the first router is connected to the FA0/1 port of the second. Text that reads, “255.255.255.252 Subnet Mask 10.10.250.0 Network Address 10.10.250.3 Broadcast Address 10.10.250.0 Subnet” is displayed below the image." width="548" height="178">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-10</strong></span> An inter-router link subnetted to provide for two host IP addresses</p>
        </figcaption>
        </figure>
        <p class="noindent">A subnet of size 4 is sufficient for the inter-router link that includes the IP addresses for the router interfaces, the network address, and the broadcast address. The subnet mask 255.255.255.252 meets this requirement of a subnet size 4 and is permissible in OSPF. This subnet mask provides for the addressing of the two host addresses (the router interfaces on each end) and the network and broadcast addresses, which provides the total subnet size 4. (Refer to <a href="ch06.xhtml#ch6">Chapter 6</a>, “<a href="ch06.xhtml#ch6">TCP/IP</a>,” to review subnet masking, if needed.) This is an important advantage of OSPF because using variable-length subnet masks minimizes the waste of IP addresses when interconnecting subnets. <a href="ch09.xhtml#ch09tab05">Table 9-5</a> summarizes the advantages and disadvantages of OSPF.</p>
        <figure class="table" id="ch09tab05">
        <figcaption>
        <p class="title-t"><span class="tab_space">TABLE 9-5</span> <strong>Advantages and Disadvantages of OSPF</strong></p>
        </figcaption>
        <table>
        <thead>
        <tr>
        <th class="borderb"><p class="tab-para">Advantages</p></th>
        <th class="borderb"><p class="tab-para">Disadvantages</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td class="borderb"><p class="tab-para">Not proprietary; available for use by all vendors.</p></td>
        <td class="borderb"><p class="tab-para">Can be very complicated to implement.</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">Link state changes are immediately reported, which enables rapid convergence.</p></td>
        <td class="borderb"><p class="tab-para">Is process intensive due to routing table calculations.</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">Consumes very little network bandwidth.</p></td>
        <td class="borderb"><p class="tab-para">Intermittent routes that are going up and down create excessive LSA updates; this is called <a id="ch9key34" href="glossary.xhtml#glo513"><span class="gray_kt"><strong>route flapping</strong></span></a>.</p></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">Uses VLSM.</p></td>
        <td class="borderb"></td>
        </tr>
        <tr>
        <td class="borderb"><p class="tab-para">Uses areas to partition the network into smaller networks, minimizing the number of route calculations.</p></td>
        <td class="borderb"></td>
        </tr>
        </tbody>
        </table>
        </figure>
        <div class="box">
        <p class="box-title">Route Flapping</p>
        <p class="box-para">A situation in which intermittent routes go up and down, creating excessive LSA updates</p>
        </div>
        <div class="box">
        <p class="box-title">IS-IS</p>
        <p class="box-para">Intermediate System-to-Intermediate System, a link state protocol used in many service provider core networks</p>
        </div>
        <p class="noindent">Another link state protocol is Intermediate System-to-Intermediate System (<a id="ch9key35" href="glossary.xhtml#glo308"><span class="gray_kt"><strong>IS-IS</strong></span></a>), which was developed by the Digital Equipment Corporation for its DECnet phase V. Later, it was adopted by the International Organization for Standardization (ISO), <span epub:type="pagebreak" id="page_479"></span>around the same time that the IETF was developing OSPF. The term <em>intermediate system</em> refers to a router. Even though IS-IS is not as well-known as OSPF, it is still in use (primarily in service provider core networks).</p>
        <p class="noindent">There are many similarities between IS-IS and OSPF:</p>
        <ul class="bullet">
        <li><p class="bullet">They are both link state protocols that use the Dijkstra algorithm.</p></li>
        <li><p class="bullet">They are both classless protocols, which means they support VLSM.</p></li>
        <li><p class="bullet">They both use hello packets to form and maintain adjacencies, and they both use the areas concept.</p></li>
        </ul>
        <p class="noindent">However, there is a difference in the way the areas are defined. In IS-IS, there are two hierarchical topology areas: level 1 (intra-area) and level 2 (inter-area). A router can either be a level 1 (L1) router, a level 2 (L2) router, or both (L1/L2). L1 routers are analogous to OSPF non-backbone routers, L2 routers are analogous to OSPF backbone routers, and L1/L2 routers are analogous to OSPF area border routers (ABRs). However, unlike OSPF ABRs, L1/L2 routers do not advertise routes from L2 routers to L1 routers. The packets from different areas can only be routed through the L1/L2 routers. Essentially, L1/L2 routers are default gateways to L1 routers. Another big difference is that the IS-IS backbone area can be segmented. Unlike the backbone area in OSPF, all routers in area 0 must be connected; the IS-IS L2 routers do not need to be connected directly together.</p>
        <div class="box">
        <p class="box-title">NET</p>
        <p class="box-para">In IS-IS, the Network Entity Title, an address that is unique to each router</p>
        </div>
        <p class="noindent">IS-IS was originally designed as part of the Open System Interconnection (OSI) network layer service called Connectionless Network Service (CLNS). IS-IS was designed to work on the same network layer as IP; therefore, IS-IS does not require IP in order to function. It was later adapted to work with IP. Hence, it is sometimes referred to as <em>integrated</em> IS-IS. In IS-IS, every router uses the Network Entity Title (<a id="ch9key36" href="glossary.xhtml#glo394"><span class="gray_kt"><strong>NET</strong></span></a>) to define its process. The NET address is unique to each router, and it is composed of the following, in hexadecimal format:</p>
        <ul class="bullet">
        <li><p class="bullet">The area ID in IS-IS is analogous to the OSPF area number, and it is used by L2 routers.</p></li>
        <li><p class="bullet">The system ID is analogous to the OSPF router ID, and it is used by L1 routers.</p></li>
        <li><p class="bullet">The network service access point selector (NSEL) identifies the network service type.</p></li>
        </ul>
        <p class="noindent">A NET address can look intimidating due to its long hexadecimal format, but it is easy to understand when you work from right to left. For example, in the NET address 49.0001.0014.a909.5201.00, the last 1 byte from the right is NSEL, which is always set to 00 on a router. The next 6 bytes separated into 3 groups of 2 bytes are the system ID, which is 0014.a909.5201 in this example. This is always unique and is typically represented as the MAC address of the router. The rest of the numbers to the left of the system ID are the area ID, which is 49.0001. The area ID has a variable length, but its first number must be at least 1 byte long.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec15"><span epub:type="pagebreak" id="page_480"></span>Section 9-6 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em><a href="ch09.xhtml#ch09fig10">Figure 9-10</a> shows an inter-router link subnetted to provide for two host IP addresses, a network address, and a broadcast address.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section examines link state protocols. It is important to understand that link state advertisements are exchanged only if routes change. This is a distinct advantage over dynamic routing protocols.</em></p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>This section discusses how a link state protocol establishes a relationship with a neighboring router. The routers exchange link state advertisements to update neighbors regarding route status. The link state advertisements are sent only if there is a change or loss in the network routes and the link state protocols converge to route selection quickly.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec16">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">Which of the following are key features of link state protocols? (Select all that apply.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Finding neighbors/adjacencies</p></li>
        <li><p class="alpha">Sending hello packets</p></li>
        <li><p class="alpha">Sending updates when routing changes</p></li>
        <li><p class="alpha">Minimizing route flapping</p></li>
        </ol></li>
        <li><p class="num">What is the purpose of a hello packet?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It is used to partition a large network into smaller networks.</p></li>
        <li><p class="alpha">It verifies that the link between two routers is active and the routers are communicating.</p></li>
        <li><p class="alpha">It enables VLSM.</p></li>
        <li><p class="alpha">It is assigned to a protocol or route to declare its reliability.</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec7"><span epub:type="pagebreak" id="page_481"></span><span class="space">9-7</span> Configuring the Open Shortest Path First (OSPF) Routing Protocol</h3>
        <p class="noindent">This section describes how to configure OSPF on a router. The first example is for configuring the three routers in the campus LAN shown in <a href="ch09.xhtml#ch09fig11">Figure 9-11</a>. The routers will be configured to run OSPF on each of the router’s three Ethernet interfaces. The example begins with configuring RouterA, which must first be placed in the router’s configuration mode (<strong>Router(config)#</strong>), as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p481pro01a" id="p481pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>conf t</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        RouterA(config)#
        </pre>
        <p class="noindent">The next step is to enter the information about the IP address for each of the Ethernet interfaces. The IP addresses for RouterA are as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>FastEthernet0/0:</strong> 10.10.20.250</p></li>
        <li><p class="bullet"><strong>FastEthernet0/1:</strong> 10.10.200.1</p></li>
        <li><p class="bullet"><strong>FastEthernet0/2:</strong> 10.10.100.1</p></li>
        </ul>
        <p class="noindent">Subnet mask 255.255.255.0 is assigned to each of the FastEthernet interfaces. After the FastEthernet interfaces are configured, you verify the configuration settings by using the <strong>sh ip int brief</strong> command, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p481pro02a" id="p481pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>sh ip int brief</strong>
        Interface IP-Address OK? Method Status Protocol
        FastEthernet0/0 10.10.20.250 YES manual up up
        FastEthernet0/1 10.10.200.1 YES manual up down
        FastEthernet0/2 10.10.100.1 YES manual up down
        </pre>
        <p class="noindent">Make sure the status for each FastEthernet interface is <strong>up</strong>. This indicates that the interface is turned on, and an Ethernet networking device is connected. The protocol shows <strong>down</strong> until the Ethernet cable is connected and the connecting interface is enabled. In this example, the connecting interfaces to FA0/1 and FA0/2 are not enabled and therefore show the status <strong>down</strong>.</p>
        <div class="box">
        <p class="box-title">router ospf [<em>process id</em>]</p>
        <p class="box-para">The command used to enable OSPF routing</p>
        </div>
        <p class="noindent">Next, you use the command <a id="ch9key37" href="glossary.xhtml#glo517"><span class="gray_kt"><strong>router ospf [process id]</strong></span></a> to enable OSPF routing. In this case, the command <strong>router ospf 100</strong> is entered, where <strong>100</strong> is the <em>process ID number</em>, which must be the same on each router in order for OSPF to exchange routes. The process ID number is selected by the network administrator and is not used for routing outside the network. It is customary to use the same process ID throughout a network for ease of management, but it is not required. Entering the <strong>router ospf 100</strong> command places the router at the <strong>RouterA(config-router)#</strong> prompt:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p481pro03a" id="p481pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>router ospf 100</strong>
        RouterA(config-router)#
        </pre>
        <p class="noindent">The next step is to define the network running OSPF by entering the <strong>network</strong> command followed by the IP address of the interface, the OSPF wildcard bits, and <span epub:type="pagebreak" id="page_482"></span>then an area number. The following example shows each step and lists the results of entering a question mark as the command is entered:</p>
        <pre class="pre1">RouterA(config-router)# <strong>network ?</strong>
        A.B.C.D Network number
        </pre>
        <figure class="image" id="ch09fig11">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig11.jpg" aria-describedby="Alch09fig11" alt="Illustration shows three-router campus LAN with a table below it." width="701" height="557">
        <aside class="hidden" id="Alch09fig11">
        <p>Illustration shows "LAN A, LAN B, LAN C, and LAN D." In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, the switch connects C1 from port 12 and C2 is connected from port 24 labeled, "LAN C server." In LAN D, a switch connects D1 from port 13 and 14. From port 24, in LAN A, the data is transmitted to the router A through Ethernet port E0 and IP address 10.10.20.0 Net. From port 24 in LAN B, the data is transmitted to Router B, through the Ethernet port E0 and IP address 10.10.10.0 Net. In LAN C, the data is transmitted to Router B from port 13 through Ethernet port E1 and IP address 10.10.1.0 Net. In LAN D, the data is transmitted to Router C from port 13 through the Ethernet port E0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the Ethernet port E2 and with IP address: 10.10.100.0 Net. From Router A, it transmits from the Ethernet port E1 to E2 in Router B with IP address 10.10.200.0 Net. From Router B, it transmits from Ethernet port E3 to E1 of Router C with IP address: 10.10.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer Table: Figure 9.11</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-11</strong></span> A three-router campus LAN.</p>
        </figcaption>
        </figure>
        <p class="noindent">When you enter the command <strong>network ?</strong>, the router prompts you to enter the <a id="ch9key38" href="glossary.xhtml#glo404"><span class="gray_kt"><strong>network number</strong></span></a> or network address of the interface. In this example, <em>A.B.C.D</em> is the network address for the FastEthernet0/0 interface, which has the IP address 10.10.20.250 with subnet mask 255.255.255.0. Therefore, the network address is 10.10.20.0.</p>
        <div class="box">
        <p class="box-title">Network Number</p>
        <p class="box-para">Another name for the IP subnets</p>
        </div>
        <div class="box">
        <p class="box-title">Wildcard Bits</p>
        <p class="box-para">The inverse mask bits used to match network IP addresses to interface IP addresse</p>
        </div>
        <p class="noindent">Next, you enter <strong>network 10.10.20.0 ?</strong>, and you are prompted to enter the OSPF wildcard bits in the form <em>A.B.C.D</em>. The <a id="ch9key39" href="glossary.xhtml#glo681"><span class="gray_kt"><strong>wildcard bits</strong></span></a>, also called the <em>inverse mask bits,</em> are used to match the network IP addresses (in <em>A.B.C.D</em> format) to interface IP addresses. If there is a match, the subnet on the interface is advertised on OSPF, and OSPF packets are sent out the interface. A 0 wildcard bit is used to indicate a “must” match. A 255 is a “don’t care”—hence the name <em>inverse mask</em>.</p>
        <div class="box">
        <p class="box-title">Area 0</p>
        <p class="box-para">In OSPF, the root area, or backbone, for a network</p>
        </div>
        <p class="noindent">The last entry when defining an OSPF route is for the area. Remember that areas are used to partition a large network into smaller networks. <a id="ch9key40" href="glossary.xhtml#glo36"><span class="gray_kt"><strong>Area 0</strong></span></a> is the root area, or backbone, for the network. All other areas must connect to area 0. Area 0 cannot be split. Other area numbers are specified by the network administrator.</p>
        <p class="noindent">Next, the router command <strong>network 10.10.20.0 0.0.0.255 area 0</strong> is entered. The wildcard bits indicate that any interface with address 10.10.20.x must run OSPF on the interface and will be assigned to area 0 (the network backbone). The following example shows these commands entered:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p482pro01a" id="p482pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config-router)# <strong>network 10.10.20.0 ? A.B.C.D OSPF wildcard bits</strong>
        RouterA(config-router)# <strong>network 10.10.20.0 0.0.0.255 ?</strong>
        area Set the OSPF area ID
        RouterA(config-router)# <strong>network 10.10.20.0 0.0.0.255 area 0</strong>
        </pre>
        <span epub:type="pagebreak" id="page_483"></span>
        <p class="noindent">The following example shows the three OSPF network entries needed to configure OSPF routing for RouterA:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p483pro01a" id="p483pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config-router)# <strong>network 10.10.20.0 0.0.0.255 area 0</strong>
        RouterA(config-router)# <strong>network 10.10.200.0 0.0.0.255 area 0</strong>
        RouterA(config-router)# <strong>network 10.10.100.0 0.0.0.255 area 0</strong>
        </pre>
        <p class="noindent">Note that the RouterA interface to LAN A (10.10.20.250 NET) is listed when configuring OSPF. This is used in OSPF to advertise the LAN to the other routers. Also note that the network has been assigned to area 0 (the backbone). The command <strong>sh ip int brief</strong> is used to check the status of the interfaces:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p483pro02a" id="p483pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show int brief</strong>
        Interface IP-Address OK? Method Status Protocol
        FastEthernet0/0 10.10.20.250 YES NVRAM up up
        FastEthernet0/1 10.10.200.1 YES manual up down
        FastEthernet0/2 10.10.100.1 YES manual up down
        </pre>
        <p class="noindent">The text protocol <strong>down</strong> indicates that either the cable to the interface is unplugged or the interface is shut down. This problem with the protocol being <strong>down</strong> is fixed by reestablishing the physical connection between the routers.</p>
        <p class="noindent">The next step is to configure RouterB. First, you configure the four FastEthernet interfaces on RouterB. Next, you set the OSPF routing protocol for RouterB. Unlike with RouterA, you can use one command-line instruction to configure RouterB to run OSPF on all four of its interfaces instead of specifying each network address command. This is done with a subnet mask or wildcard in OSPF. You enter RouterB’s configuration mode by using the <strong>configure terminal</strong> command. Then you enter the command <strong>router ospf 100</strong>. Note that the same process ID number, <strong>100</strong>, is used. The next step is to enter <strong>network 10.0.0.0 0.255.255.255 area 0</strong>. This command tells the router that any address that starts with 10 belongs to area 0 on RouterB. The following example shows these commands entered:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p483pro03a" id="p483pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>configure terminal</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        RouterB(config)# <strong>router ospf 100</strong>
        RouterB(config-router)# <strong>network 10.0.0.0 0.255.255.255 area 0</strong>
        </pre>
        <p class="noindent">Next, you verify that the interfaces are properly configured by using the <strong>sh ip int brief</strong> command, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p483pro04a" id="p483pro04">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>sh ip int brief</strong>
        Interface IP-Address OK? Method Status Protocol
        FastEthernet0/0 10.10.10.250 YES manual up up
        FastEthernet0/1 10.10.1.250 YES manual up up
        FastEthernet0/2 10.10.200.2 YES manual up up
        FastEthernet0/3 10.10.150.1 YES manual up down
        </pre>
        <p class="noindent">The FastEthernet0/3 interface shows the protocol as <strong>down</strong> because the connecting interface is shut down on RouterC.</p>
        <p class="noindent"><span epub:type="pagebreak" id="page_484"></span>The next step is to configure RouterC. You set the OSPF routing protocol for RouterC by using the command <strong>router OSPF 100</strong> followed by <strong>network 10.0.0.0. 0.255.255.255 area 0</strong>, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p484pro01a" id="p484pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterC(config)# <strong>router ospf 100</strong>
        RouterC(config-router)# <strong>network 10.0.0.0 0.255.255.255 area 0</strong>
        </pre>
        <p class="noindent">Then you check the interfaces on RouterC by using the <strong>sh ip int brief</strong> command, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p484pro02a" id="p484pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterC# <strong>sh ip int brief</strong>
        Interface IP-Address OK? Method Status Protocol
        FastEthernet0/0 10.10.5.250 YES manual up up
        FastEthernet0/1 10.10.150.2 YES manual up up
        FastEthernet0/2 10.10.100.2 YES manual up up
        </pre>
        <p class="noindent">Notice that the protocol shows as <strong>up</strong> for all interfaces. This is because all interfaces are connected and enabled.</p>
        <p class="noindent">The following is a partial listing of the running configuration file on RouterA, which shows the router OSPF network configuration:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p484pro03a" id="p484pro03">Click here to view code image</a></p>
        <pre class="pre1">router ospf 100
         network 10.10.200.1 0.0.0.0 area 0 network 10.10.20.250 0.0.0.0 area 0
         network 10.10.100.1 0.0.0.0 area 0
        </pre>
        <p class="noindent">Similar information appears on RouterB and RouterC.</p>
        <p class="noindent">Next, you check the routing table for RouterA by using the command <strong>show ip route</strong>, as shown here:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p484pro04a" id="p484pro04">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static
        route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 10 subnets, 2 masks
        O 10.10.5.0/24 [110/74] via 10.10.100.2, 00:03:28, FastEthernet0/2
        O 10.10.10.0/24 [110/74] via 10.10.200.2, 00:03:28, FastEthernet0/1
        O 10.10.1.0/24 [110/74] via 10.10.200.2, 00:03:28, FastEthernet0/1
        C 10.10.20.0/24 is directly connected, FastEthernet0/0
        L 10.10.20.250/32 is directly connected, FastEthernet0/0
        C 10.10.100.0/24 is directly connected, FastEthernet0/2
        L 10.10.100.1/32 is directly connected, FastEthernet0/2
        O 10.10.150.0/24 [110/128] via 10.10.200.2, 00:03:28, FastEthernet0/1
        [110/128] via 10.10.100.2, 00:03:28, FastEthernet0/2
        C 10.10.200.0/24 is directly connected, FastEthernet0/1
        L 10.10.200.1/32 is directly connected, FastEthernet0/1
        </pre>
        <span epub:type="pagebreak" id="page_485"></span>
        <p class="noindent">The routing table indicates that there are seven subnets in the campus network shown in <a href="ch09.xhtml#ch09fig11">Figure 9-11</a>. <strong>O</strong> indicates the subnets running OSPF, and <strong>C</strong> indicates the subnets directly connected to the router.</p>
        <p class="noindent">A command used to display only the OSPF routes is <strong>show ip route ospf</strong>. The following are the results of running this command from RouterA:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p485pro01a" id="p485pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip route ospf</strong>
        10.0.0.0/24 is subnetted, 6 subnets
        O 10.10.5.0 [110/74] via 10.10.100.2, 00:10:03, FastEthernet0/2
        O 10.10.10.0 [110/74] via 10.10.200.2, 00:10:03, FastEthernet0/1
        O 10.10.150.0 [110/128] via 10.10.200.2, 00:10:03, FastEthernet0/1
        [110/128] via 10.10.100.2, 00:10:03, FastEthernet0/2
        </pre>
        <p class="noindent">Another command that is used for displaying protocol information for a router is <strong>sh ip protocol</strong>. The following are the results of entering this command for RouterA:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p485pro02a" id="p485pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip protocol</strong>
        Routing Protocol is "ospf 100" Sending updates every 0 seconds
        Invalid after 0 seconds, hold down 0, flushed after 0
        Outgoing update filter list for all interfaces is Incoming update 
        filter list for all interfaces is Redistributing: ospf 100
        Routing for Networks:
        10.10.20.250/32
        10.10.100.1/32
        10.10.200.1/32
        Routing Information Sources:
        Gateway Distance Last Update
        10.10.100.1 110 00:06:01
        10.10.200.2 110 00:06:01
        Distance: (default is 110)
        </pre>
        <div class="box">
        <p class="box-title" id="ch9lev2sec17">Networking Challenge: OSPF</p>
        <p class="box-para">Use the Net-Challenge simulator software to demonstrate that you can configure OSPF for RouterB in the campus LAN shown in <a href="ch09.xhtml#ch09fig11">Figure 9-11</a> and displayed on the computer screen when the software is started. In Net-Challenge, click the <strong>Select Router Challenge</strong> button to open the Select Router Challenge drop-down menu and then select <strong>OSPF</strong> to open a check box list that can be used to verify that you have completed all the tasks. Then follow these steps:</p>
        <ol class="number">
        <li><p class="num">Enter privileged EXEC mode on the router.</p></li>
        <li><p class="num">Enter the router’s terminal configuration mode, <strong>Router(config) #</strong>.</p></li>
        <li><p class="num">Set the hostname to <strong>RouterA</strong>.</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_486"></span>Configure the FastEthernet0/0 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.20.250</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/0 interface.</p></li>
        <li><p class="num">Configure the FastEthernet0/1 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.200.1</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/1 interface.</p></li>
        <li><p class="num">Configure the FastEthernet0/2 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.100.1</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/2 interface.</p></li>
        <li><p class="num">Enable OSPF with network number <strong>100</strong>.</p></li>
        <li><p class="num">Use a single command-line instruction to configure RouterA to run OSPF on all three of the FastEthernet interfaces. (Use area <strong>100</strong>.)</p></li>
        <li><p class="num">Use the <strong>sh ip int brief</strong> command to check the interface status.</p></li>
        <li><p class="num">Use the <strong>sh ip protocol</strong> command to see whether OSPF is running on RouterA.</p></li>
        <li><p class="num">Use the <strong>sh ip route</strong> command to verify that the three FastEthernet ports are connected to RouterA.</p></li>
        <li><p class="num">Use the <strong>sh run</strong> command to view the running configuration file on RouterA. Verify that OSPF is enabled and the proper network address is specified.</p></li>
        </ol>
        </div>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec18">Section 9-7 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section introduces the technique for configuring OSPF routing.</em></p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>This section demonstrates how to verify that the interfaces are properly configured by using the</em> <strong><em>sh ip int brief</em></strong> <em>command</em></p>
        <p class="s-paran">5.3 Given a scenario, use the appropriate network software tools and commands.</p>
        <p class="s-para"><em>This section introduces the steps for configuring the OSPF routing protocol.</em></p>
        <p class="s-paran"><span epub:type="pagebreak" id="page_487"></span>5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>This section demonstrates how to use the</em> <strong><em>show ip int brief</em></strong> <em>command to check the interface status.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec19">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">What command is used to enable OSPF routing?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>[<em>router ospf</em>]</strong></p></li>
        <li><p class="alpha"><strong>router - ospf</strong></p></li>
        <li><p class="alpha"><strong>router ospf [<em>process id</em>]</strong></p></li>
        <li><p class="alpha"><strong>router [<em>process id</em>] ospf</strong></p></li>
        </ol></li>
        <li><p class="num">The command <strong>show ip routing</strong> is issued. Which of the following indicates OSPF routes?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>D</strong></p></li>
        <li><p class="alpha"><strong>S</strong></p></li>
        <li><p class="alpha"><strong>R</strong></p></li>
        <li><p class="alpha"><strong>O</strong></p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec8"><span class="space">9-8</span> Advanced Distance Vector Protocol: Configuring Enhanced Interior Gateway Routing Protocol (EIGRP)</h3>
        <div class="box">
        <p class="box-title">EIGRP</p>
        <p class="box-para">Enhanced Interior Gateway Routing Protocol, a Cisco-proprietary protocol that incorporates the best of the distance vector and link state algorithms</p>
        </div>
        <p class="noindent">This section introduces Enhanced Interior Gateway Routing Protocol (<a id="ch9key41" href="glossary.xhtml#glo179"><span class="gray_kt"><strong>EIGRP</strong></span></a>), which is an enhanced version of Interior Gateway Routing Protocol (IGRP). EIGRP is a Cisco-proprietary protocol and is often called an advanced distance vector routing protocol because it incorporates the best of the distance vector and link state algorithms.</p>
        <p class="noindent">EIGRP allows the use of VLSM, which is beneficial when you’re trying to conserve IP addresses. EIGRP also uses hello packets to verify that a link from one router to another is still active. The routing table updates are exchanged when there is a change in the network. In other words, the routers don’t exchange unnecessary information unless a route changes. This helps conserve the limited bandwidth of the network data link. When route information is exchanged, EIGRP quickly converges to the new route selection.</p>
        <p class="noindent"><span epub:type="pagebreak" id="page_488"></span>EIGRP has four components:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>Neighbor Discovery/Recovery:</strong> EIGRP learns about other routers on directly attached networks and can also discover whether neighbor routers are unreachable. This discovery is accomplished by periodically sending hello packets to verify that a neighbor router is functioning.</p></li>
        <li><p class="bullet"><strong>Reliable Transport Protocol:</strong> EIGRP can guarantee delivery of EIGRP packets to neighbor routers. Both unicast and multicast packet transmission are supported.</p></li>
        <li><p class="bullet"><strong>DUAL Finite State Machine:</strong> EIGRP tracks all routes advertised by its neighbors and performs route computation to obtain loop-free routing.</p></li>
        <li><p class="bullet"><strong>Protocol-dependent modules:</strong> These modules handle network layer protocol-specific requirements. For example, the IP-EIGRP module is responsible for extracting information from the EIGRP packets and passing that information to DUAL. DUAL uses the information to make routing decisions, and IP-EIGRP then redistributes the learned routes.</p></li>
        </ul>
        <section>
        <h4 class="h4" id="ch9lev2sec20">Configuring Routes with EIGRP</h4>
        <p class="noindent">This section describes how to configure EIGRP on a router. The first example is for configuring RouterA in the campus LAN shown in <a href="ch09.xhtml#ch09fig12">Figure 9-12</a>.</p>
        <figure class="image" id="ch09fig12">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig12.jpg" aria-describedby="Alch09fig12" alt="Illustration shows three-router campus LAN with a table below it." width="701" height="557">
        <aside class="hidden" id="Alch09fig12">
        <p>Illustration shows "LAN A, LAN B, LAN C, and LAN D." In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, the switch connects C1 from port 12 and C2 is connected from port 24 labeled, "LAN C server." In LAN D, a switch connects D1 from port 13 and 14. From port 24, in LAN A, the data is transmitted to the router A through Ethernet port E0 and IP address 10.10.20.0 Net. From port 24 in LAN B, the data is transmitted to Router B, through the Ethernet port E0 and IP address 10.10.10.0 Net. In LAN C, the data is transmitted to Router B from port 13 through Ethernet port E1 and IP address 10.10.1.0 Net. In LAN D, the data is transmitted to Router C from port 13 through the Ethernet port E0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the Ethernet port E2 and with IP address: 10.10.100.0 Net. From Router A, it transmits from the Ethernet port E1 to E2 in Router B with IP address 10.10.200.0 Net. From Router B, it transmits from Ethernet port E3 to E1 of Router C with IP address: 10.10.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer Table: Figure 9.11</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-12</strong></span> A three-router campus LAN.</p>
        </figcaption>
        </figure>
        <p class="noindent"><span epub:type="pagebreak" id="page_489"></span>In this section you will configure the three routers in the campus LAN shown in <a href="ch09.xhtml#ch09fig12">Figure 9-12</a> to run EIGRP. The first step is to configure the interfaces on each of the three routers. The IP addresses and the subnet masks for the router interfaces are as follows:</p>
        <p class="noindent">RouterA:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p489pro01a" id="p489pro01">Click here to view code image</a></p>
        <pre class="pre1">FA0/0 10.10.20.250 255.255.255.0
        FA0/1 10.10.200.1 255.255.255.0
        FA0/2 10.10.100.1 255.255.255.0
        </pre>
        <p class="noindent">RouterB:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p489pro02a" id="p489pro02">Click here to view code image</a></p>
        <pre class="pre1">FA0/0 10.10.10.250 255.255.255.0
        FA0/1 10.10.1.250 255.255.255.0
        FA0/2 10.10.200.2 255.255.255.0
        FA0/3 10.10.150.1 255.255.255.0
        </pre>
        <p class="noindent">RouterC:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p489pro03a" id="p489pro03">Click here to view code image</a></p>
        <pre class="pre1">FA0/0 10.10.5.250 255.255.255.0
        FA0/1 10.10.150.2 255.255.255.0
        FA0/2 10.10.100.2 255.255.255.0
        </pre>
        <p class="noindent">After the router interfaces are configured, you configure the EIGRP routing protocol for RouterA. You use the <strong>configure terminal</strong> command to enter the router’s configuration mode and then enter the command <strong>router eigrp</strong> <strong>[</strong><em>AS number</em><strong>]</strong>. The AS number is the same as that for the EIGRP routing protocol, and any AS number can be used. The router uses the AS numbers to determine which routers share routing tables. Only routers with the same ASN share routing updates. In this case, you can use the command <strong>router eigrp 150</strong>. The prompt changes to <strong>(config-router)</strong>, and you enter a command to set the network to run EIGRP—in this example, <strong>network 10.0.0.0</strong>:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p489pro04a" id="p489pro04">Click here to view code image</a></p>
        <pre class="pre1">RouterA(config)# <strong>router eigrp 150</strong>
        RouterA(config-router)# <strong>network 10.0.0.0</strong>
        </pre>
        <p class="noindent">Much as with RIP, a classful network statement such as 10.0.0.0 can be specified as a network state in EIGRP. This instructs the router to run EIGRP on any of the router’s interfaces that have an IP address that begins with 10. A different network command will be used on RouterB to show how the command can be used to specify a limited IP address range.</p>
        <p class="noindent">You enter the command <strong>show ip protocol</strong> to verify that the EIGRP routing protocol is enabled on RouterA:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p489pro05a" id="p489pro05">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip protocol</strong>
        Routing Protocol is "eigrp 150"
        Outgoing update filter list for all interfaces is not set
        Incoming update filter list for all interfaces is not set
        Default networks flagged in outgoing updates
        Default networks accepted from incoming updates
        EIGRP metric weight K1 1, K2 0, K3 1, K4 0, K5 0
        EIGRP maximum hopcount 100
        EIGRP maximum metric variance 1
        Redistributing: eigrp 150
        Automatic network summarization is in effect
        Routing for Networks:
        10.0.0.0
        Routing Information Sources:
        Gateway Distance Last Update
        10.10.200.2 90 00:00:09
        Distance: internal 90 external 170
        </pre>
        <span epub:type="pagebreak" id="page_490"></span>
        <p class="noindent">This example shows that the routing protocol is <strong>eigrp 150</strong> and indicates that it has been 9 seconds since the last update to the routing table. In EIGRP, updates to the routing table are made when there are changes in the network.</p>
        <p class="noindent">Another useful command is <strong>show ip route</strong>:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p490pro02a" id="p490pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static
        route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 6 subnets, 2 masks
        C 10.10.20.0/24 is directly connected, FastEthernet0/0
        L 10.10.20.250/32 is directly connected, FastEthernet0/0
        C 10.10.200.0/24 is directly connected, FastEthernet0/1
        L 10.10.200.1/32 is directly connected, FastEthernet0/1
        C 10.10.100.0/24 is directly connected, FastEthernet0/2
        L 10.10.100.1/32 is directly connected, FastEthernet0/2
        </pre>
        <p class="noindent">In this case, the router does not show any EIGRP routes to the subnets in the network because EIGRP has not been configured on RouterB or RouterC.</p>
        <p class="noindent">Next, you enter the command <strong>show ip int brief</strong>, as shown here, and you see that the status and protocols for the Ethernet interfaces are <strong>up</strong>:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p490pro03a" id="p490pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip int brief</strong>
        Interface IP-Address OK? Method Status Protocol
        FastEthernet0/0 10.10.20.250 YES NVRAM up up
        FastEthernet0/1 10.10.200.1 YES manual up up
        FastEthernet0/2 10.10.100.1 YES manual up up
        </pre>
        <p class="noindent">They show as <strong>up</strong> as long as there are network connections to the interfaces.</p>
        <p class="noindent"><span epub:type="pagebreak" id="page_491"></span>Next, you use the <strong>show run</strong> command to view the contents of the router’s running configuration file. The following is the part of the configuration file that shows the entries for EIGRP:</p>
        <pre class="pre1">! router eigrp 150
         network 10.0.0.0
        !
        </pre>
        <p class="noindent">Notice that these entries are the same as the commands entered earlier in configuring EIGRP.</p>
        <p class="noindent">The next step is to configure RouterB. To do so, you enter the configuration mode (<strong>(config)#</strong>) for RouterB and use the command <strong>router eigrp 150</strong>. Remember that 150 is the ASN, which is the same number used when configuring RouterA. For EIGRP routers to establish a neighbor adjacency, the ASN must be the same. The next command, <strong>network 10.10.0.0 0.0.255.255</strong>, sets the network that is running EIGRP. Much as with OSPF, you can use a variable-length subnet mask by specifying a different subnet mask with wildcard bits or inverse mask bits. This means that on RouterB, all interfaces with a 10.10.<em>x.x</em> address will run EIGRP. In this case, all interfaces on RouterB have a 10.10.<em>x.x</em> address and will run EIGRP. The following example shows these commands in use:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p491pro02a" id="p491pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>configure terminal</strong>
        Enter configuration commands, one per line. End with CNTL/Z.
        RouterB(config)# <strong>router eigrp 150</strong>
        RouterB(config-router)# <strong>network 10.10.0.0 0.0.255.255</strong>
        </pre>
        <p class="noindent">Next, you use the command <strong>show ip protocol</strong> to verify that EIGRP is running on RouterB. The following output shows that <strong>eigrp 150</strong> is running on RouterB, and it has been 27 seconds since the last update to the routing table:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p491pro03a" id="p491pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>sh ip protocol</strong>
        Routing Protocol is "eigrp 150"
        Outgoing update filter list for all interfaces is Incoming update
        filter list for all interfaces is Default networks flagged in outgoing
        updates Default networks accepted from incoming updates EIGRP metric
        weight K1 1, K2 0, K3 1, K4 0, K5 0
        EIGRP maximum hopcount 100
        EIGRP maximum metric variance 1
        Redistributing: eigrp 150
        Automatic network summarization is in effect
        Routing for Networks:
        10.0.0.0/16
        Routing Information Sources:
        Gateway Distance Last Update
        10.10.200.1 90 00:00:27
        Distance: internal 90 external 170
        </pre>
        <p class="noindent"><span epub:type="pagebreak" id="page_492"></span>The <strong>show ip route</strong> command for RouterB shows that six routes are on RouterB, and there are EIGRP routes to the 10.10.20.0 and 10.10.100.0 subnets:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p492pro01a" id="p492pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>show ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static
        route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 10 subnets, 2 masks
        C 10.10.1.0/24 is directly connected, FastEthernet0/1
        L 10.10.1.250/32 is directly connected, FastEthernet0/1
        C 10.10.10.0/24 is directly connected, FastEthernet0/0
        C 10.10.10.250/32 is directly connected, FastEthernet0/0
        D 10.10.20.0/24 [90/2195456] via 10.10.200.1, 00:00:09,
        FastEthernet0/2
        D 10.10.100.0/24 [90/2681856] via 10.10.200.1, 00:00:09,
        FastEthernet0/2
        C 10.10.150.0/24 is directly connected, FastEthernet0/3
        L 10.10.150.1/32 is directly connected, FastEthernet0/3
        C 10.10.200.0/24 is directly connected, FastEthernet0/2
        L 10.10.200.2/32 is directly connected, FastEthernet0/2
        </pre>
        <p class="noindent">The code for the EIGRP routes is <strong>D</strong>. Remember that the <strong>C</strong> code is for the subnets directly connected to the router.</p>
        <p class="noindent">A check of the IP routes on RouterA shows that RouterA and RouterB are exchanging routes with each other. RouterA now shows six subnets. Once again, <strong>D</strong> indicates the EIGRP routes, and <strong>C</strong> indicates the directly connected subnets:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p492pro02a" id="p492pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterA# <strong>show ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static
        route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 9 subnets, 2 masks
        D 10.10.1.0/24 [90/2195456] via 10.10.200.2, 00:00:50, FastEthernet0/1
        D 10.10.10.0/24 [90/2195456] via 10.10.200.2, 00:00:50, FastEthernet0/1
        C 10.10.20.0/24 is directly connected, FastEthernet0/0
        L 10.10.20.250/32 is directly connected, FastEthernet0/0
        C 10.10.100.0/24 is directly connected, FastEthernet0/2
        L 10.10.100.1/32 is directly connected, FastEthernet0/2
        D 10.10.150.0/24 [90/2681856] via 10.10.200.2, 00:00:50,
        FastEthernet0/1
        C 10.10.200.0/24 is directly connected, FastEthernet0/1
        L 10.10.200.1/32 is directly connected, FastEthernet0/1
        </pre>
        <span epub:type="pagebreak" id="page_493"></span>
        <p class="noindent">The last step is to configure EIGRP for RouterC by using the <strong>router eigrp 150</strong> command. You use the command <strong>network 10.10.0.0</strong> to instruct the router to assign EIGRP to all interfaces that are under the 10.10.0.0 network:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p493pro02a" id="p493pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterC(config)# <strong>router eigrp 150</strong>
        RouterC(config-router)# <strong>network 10.10.0.0</strong>
        </pre>
        <p class="noindent">In this case, all interfaces on RouterC have a 10.10.<em>x.x</em> address and therefore will run EIGRP.</p>
        <p class="noindent">Next, you use the <strong>sh ip route</strong> command to display the IP routes for RouterC:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p493pro03a" id="p493pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterC# <strong>show ip route</strong>
        Codes: L - local, C - connected, S - static, R - RIP, M - mobile, 
        B - BGP
        D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
        N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
        E1 - OSPF external type 1, E2 - OSPF external type 2
        i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
        ia - IS-IS inter area, * - candidate default, U - per-user static route
        o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
        + - replicated route, % - next hop override
        Gateway of last resort is not set
        10.0.0.0/8 is variably subnetted, 10 subnets, 2 masks
        C 10.10.5.0/24 is directly connected, FastEthernet0/0
        L 10.10.5.250/32 is directly connected, FastEthernet0/0
        D 10.10.10.0/24 [90/2195456] via 10.10.150.1, 00:00:01, FastEthernet0/1
        D 10.10.1.0/24 [90/2195456] via 10.10.150.1, 00:00:01, FastEthernet0/1
        D 10.10.20.0/24 [90/2195456] via 10.10.100.1, 00:00:01,
        FastEthernet0/2
        C 10.10.100.0/24 is directly connected, FastEthernet0/2
        L 10.10.100.2/32 is directly connected, FastEthernet0/2
        C 10.10.150.0/24 is directly connected, FastEthernet0/1
        L 10.10.150.2/32 is directly connected, FastEthernet0/1
        D 10.10.200.0/24 [90/2681856] via 10.10.150.1, 00:00:01, FastEthernet0/1
        [90/2681856] via 10.10.100.1, 00:00:01, FastEthernet0/2
        </pre>
        <p class="noindent"><span epub:type="pagebreak" id="page_494"></span>RouterC shows seven subnets. In fact, there are seven subnets in the campus LAN shown in <a href="ch09.xhtml#ch09fig12">Figure 9-12</a>. The setup for running EIGRP on the campus LAN is now complete.</p>
        <div class="box">
        <p class="box-title" id="ch9lev2sec21">Networking Challenge: EIGRP</p>
        <p class="box-para">Use the Net-Challenge software to demonstrate that you can configure EIGRP for RouterA in the campus LAN shown in <a href="ch09.xhtml#ch09fig12">Figure 9-12</a> and displayed on the computer screen when the software is started. EIGRP has already been configured for RouterB and RouterC. In Net-Challenge, click the <strong>Select Router Challenge</strong> button to open the Select Router Challenge drop-down menu and select <strong>EIGRP</strong> to open a check box list that can be used to verify that you have completed all the tasks. Then follow these steps:</p>
        <ol class="number">
        <li><p class="num">Enter privileged EXEC mode on the router.</p></li>
        <li><p class="num">Enter the router configuration mode, <strong>Router(config)</strong>.</p></li>
        <li><p class="num">Set the hostname to <strong>RouterA</strong>.</p></li>
        <li><p class="num">Configure the FastEthernet0/0 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.20.250</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/0 interface.</p></li>
        <li><p class="num">Configure the FastEthernet0/1 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.200.1</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/1 interface.</p></li>
        <li><p class="num">Configure the FastEthernet0/2 interface as follows:</p>
        <ul class="bullet">
        <li><p class="bullet"><strong>IP address:</strong> 10.10.100.1</p></li>
        <li><p class="bullet"><strong>Subnet mask:</strong> 255.255.255.0</p></li>
        </ul></li>
        <li><p class="num">Enable the FA0/2 interface.</p></li>
        <li><p class="num">Enable EIGRP with ASN <strong>200</strong>.</p></li>
        <li><p class="num">Enter the <strong>network</strong> command to enable EIGRP on the router.</p></li>
        <li><p class="num">Use the <strong>show ip int brief</strong> command to check the interface status.</p></li>
        <li><p class="num">Use the <strong>show ip protocol</strong> command to see whether EIGRP is running on RouterA.</p></li>
        <li><p class="num">Use the <strong>show ip route</strong> command to verify that the three FastEthernet ports are connected to RouterA.</p></li>
        <li><p class="num">Use the <strong>show run</strong> command to view the running configuration file on RouterA. Verify that EIGRP is enabled and the proper network address is specified.</p></li>
        </ol>
        </div>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec22"><span epub:type="pagebreak" id="page_495"></span>Section 9-8 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em>This section mentions Reliable Transport Protocol, which enables EIGRP to guarantee delivery of EIGRP packets to neighbor routers. Both unicast and multicast packet transmission are supported.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section introduces the advanced distance vector routing protocol EIGRP. This protocol incorporates the best of distance vector and link state algorithms.</em></p>
        <p class="s-paran">2.3 Given a scenario, configure and deploy common Ethernet switching features.</p>
        <p class="s-para"><em>This section mentions the Neighbor Discovery/Recovery process, in which EIGRP learns about other routers on directly attached networks and can also discover whether neighbor routers are unreachable.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec23">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">EIGRP is classified as which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Link state protocol</p></li>
        <li><p class="alpha">Distance vector protocol</p></li>
        <li><p class="alpha">Advanced distance vector routing protocol</p></li>
        <li><p class="alpha">All of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">When is route information with EIGRP routes exchanged?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Every 90 seconds</p></li>
        <li><p class="alpha">Every 300 seconds</p></li>
        <li><p class="alpha">When there is a change in the network</p></li>
        <li><p class="alpha">When IP addresses are reconfigured</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec9"><span epub:type="pagebreak" id="page_496"></span><span class="space">9-9</span> Internet Routing with Border Gateway Protocol (BGP)</h3>
        <p class="noindent">This section examines routing issues for WAN and Internet routing. WAN connections typically link remote sites and branch offices to a main network. Internet connections are usually between an Internet service provider (ISP) and its customers. Typically, the ISP and its customers do not use routing protocols such as OSPF for the Internet connection because these protocols do not scale well to this type of implementation. Instead, the two main routing options that are used for making the Internet connection to the ISP are static routes and Border Gateway Protocol (BGP).</p>
        <p class="noindent">Static routes are implemented in the same fashion as discussed in <a href="ch09.xhtml#ch9lev1sec2">Section 9-2</a>. Static routes are used only when the customer has a single Internet connection. If the customer is multihomed—that is, if the customer has more than one Internet connection—BGP is used. The most current version of BGP is version 4.</p>
        <p class="noindent">BGP is considered an external routing protocol and is designed for routing between separate organizational networks. The BGP term for such a network is <em>autonomous system</em> (<em>AS</em>). An AS is assigned an <em>AS number</em> (<em>ASN</em>) by the same organization that assigns IP addresses in North America, ARIN. An ASN is used with BGP to distinguish separate networks and to prevent routing loops. A set of ASNs are reserved for private use. These numbers, 64512 through 65535, are not to be propagated to the Internet. It is a best practice for an ISP to remove all of the private ASs before advertising BGP routes. The public ASNs are within the range 1 to 64511. The configurations in this section use private ASNs.</p>
        <p class="noindent">Each router participating in BGP must manually make a peering with its BGP neighbor. <em>Peering</em> is an agreement made for the exchange of data traffic between large and small ISPs or, as in this case, between a router and its neighbor router. The agreement on peering is how different networks are joined to form the Internet. BGP uses TCP as its transport protocol to establish peering and to exchange messages and routes. The network administrator configuring the Internet connection must know the remote IP address and ASN to make this peering. An AS path is created when a network is connected.</p>
        <section>
        <h4 class="h4" id="ch9lev2sec24">Configuring BGP</h4>
        <p class="noindent">This section demonstrates how to configure a router to run BGP for connecting to an ISP. First, the ISP router must be configured. The ISP in this example has been assigned the ASN 65000. (<em>Note:</em> This is actually a private ASN. In practice, an ISP is assigned a public ASN.) The ASN is used when entering the command for BGP. In this example, the command <strong>router bgp 65000</strong> is entered, and the command <strong>network 10.20.20.0 mask 255.255.255.0</strong> follows, to instruct the router to advertise the 10.20.20.0/24 network to its BGP peers:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p496pro01a" id="p496pro01">Click here to view code image</a></p>
        <pre class="pre1">Router-ISP(config)# <strong>router bgp 65000</strong>
        Router-ISP(config-router)# <strong>network 10.20.20.0 mask 255.255.255.0</strong>
        </pre>
        <p class="noindent"><span epub:type="pagebreak" id="page_497"></span>There are three ways to originate network prefixes or network routes in BGP:</p>
        <ul class="bullet">
        <li><p class="bullet">Via the network statement, as shown in this example</p></li>
        <li><p class="bullet">Using the <strong>aggregate-address</strong> command to combine contiguous network prefixes</p></li>
        <li><p class="bullet">Using the <strong>redistribute</strong> command to redistribute IGP routes into BGP</p></li>
        </ul>
        <p class="noindent">The next command is for specifying the IP address of the BGP neighbor. This is the IP address of the interface on the customer’s router (RouterB) that is directly connected to the ISP router. The format for the command is <strong>neighbor [</strong><em>ip address</em><strong>] remote ASN [</strong><em>neighbor’s ASN</em><strong>]</strong>. The last command is for entering a description of the entries. The comment <strong>neighbor 192.168.1.2 description Customer BGP</strong> is used to document the router configuration for the neighbor IP address for the customer and that the routing protocol is BGP:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p497pro01a" id="p497pro01">Click here to view code image</a></p>
        <pre class="pre1">Router-ISP(config-router)# <strong>neighbor 192.168.1.2 remote-as 65001</strong>
        Router-ISP(config-router)# <strong>neighbor 192.168.1.2 description Customer
        B BGP</strong>
        </pre>
        <p class="noindent">The next example demonstrates the steps for configuring the customer’s router (RouterB). The customer has been assigned the ASN 65001. In this example, the command <strong>router bgp 65001</strong> is entered:</p>
        <pre class="pre1">RouterB(config)# <strong>router bgp 65001</strong></pre>
        <p class="noindent">The 10.10.10.0/24 network is a network for CustomerB. The command <strong>network 10.10.10.0 mask 255.255.255.0</strong> follows:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p497pro02a" id="p497pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterB(config-router)# <strong>network 10.10.10.0 mask 255.255.255.0</strong></pre>
        <p class="noindent">The next command is for specifying the IP address of the BGP neighbor:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p497pro03a" id="p497pro03">Click here to view code image</a></p>
        <pre class="pre1">RouterB(config-router)# <strong>neighbor 192.168.1.1 remote-as 65000</strong></pre>
        <p class="noindent">This is the IP address of the interface on the ISP’s router. The last command, <strong>neighbor 192.168.1.1 descr ISP BGP</strong>, identifies the neighbor IP address (the ISP) and comments that the routing protocol is BGP:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p497pro04a" id="p497pro04">Click here to view code image</a></p>
        <pre class="pre1">RouterB(config-router)# <strong>neighbor 192.168.1.1 descr ISP BGP</strong></pre>
        <p class="noindent">To verify that the routers are connected via BGP, you can use the command <strong>sh ip bgp sum</strong> to see whether the routers are exchanging routes:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p498pro01a" id="p498pro01">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>sh ip bgp sum</strong>
        BGP router identifier 192.168.1.2, local AS number 65001
        BGP table version is 1, main routing table version 1
        1 network entries using 101 bytes of memory
        1 path entries using 48 bytes of memory
        1 BGP path attribute entries using 60 bytes of memory
        0 BGP route-map cache entries using 0 bytes of memory
        0 BGP filter-list cache entries using 0 bytes of memory
        <span epub:type="pagebreak" id="page_498"></span>BGP using 209 total bytes of memory
        BGP activity 17/16 prefixes, 17/16 paths, scan interval 60 secs
        Neighbor        V    AS    MsgRcvd MsgSent   TblVer  InQ OutQ Up/Down  State/PfxRcd
        192.168.1.1     4 65000   41       34        0       0    0  00:00:21   <strong>1</strong>
        </pre>
        <p class="noindent">You can use the <strong>sh ip route</strong> command to display BGP routes received from the neighbor:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p498pro02a" id="p498pro02">Click here to view code image</a></p>
        <pre class="pre1">RouterB# <strong>sh ip route</strong>
        Codes: C  connected, S  static, I  IGRP, R  RIP, M  mobile, B  BGP D
        EIGRP, EX  EIGRP external, O  OSPF, IA  OSPF inter area
        N1  OSPF NSSA external type 1, N2  OSPF NSSA external type 2
        E1  OSPF external type 1, E2  OSPF external type 2, E  EGP
        i  IS-IS, L1  IS-IS level-1, L2  IS-IS level-2, *  candidate default
        U  per-user static route, o  ODR T  traffic engineered route
        Gateway of last resort is not set
             10.0.0.0/24 is subnetted, 2 subnets
        B       10.20.20.0 [20/0] via 192.168.1.1, 00:03:56
        C       10.10.10.0 is directly connected, FastEthernet0/0
        192.168.1.0/30 is subnetted, 1 subnets
        C       192.168.1.0 is directly connected, serial0/1
        </pre>
        <p class="noindent">This example shows that network 10.20.20.0 is a BGP(B) route advertised via 192.168.1.1. The 192.168.1.0 network is directly attached to the ISP’s router.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec25">Section 9-9 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.8 Summarize cloud concepts and connectivity options.</p>
        <p class="s-para"><em>This section presents the concept of privates ASNs.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section examines Internet routing with BGP.</em></p>
        <p class="s-paran">5.5 Given a scenario, troubleshoot general networking issues.</p>
        <p class="s-para"><em>This section mentions that the ASN in BGP is used to distinguish separate networks and to prevent routing loops.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec26">Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">A multihomed customer has which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A single Internet connection</p></li>
        <li><p class="alpha">More than one Internet connection</p></li>
        <li><p class="alpha">Static routes</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_499"></span>BGP is considered to be which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">An external routing protocol</p></li>
        <li><p class="alpha">An internal routing protocol</p></li>
        <li><p class="alpha">Used for routing between the same network</p></li>
        <li><p class="alpha">Outdated</p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec10"><span class="space">9-10</span> IPv6 Routing</h3>
        <p class="noindent">When you interconnect IPv6 networks, you need a routing protocol. IPv6 supports static, RIP, OSPF, EIGRP, and BGP routing, as well as other routing protocols. Most of these protocols had to be revised to be able to deal with IPv6 addresses. However, the routing protocols for IPv6 work the same way as the routing protocols for IPv4. In fact, they still maintain the same routing principles. The following sections demonstrate how to configure IPv6 static, RIP, OSPF, EIGRP, and BGP routing.</p>
        <section>
        <h4 class="h4" id="ch9lev2sec27">IPv6 Static Routing</h4>
        <p class="noindent">The techniques for configuring static routing with IPv6 are almost the same as the techniques for configuring static routing with IPv4. With IPv4, you can specify the next hop IP address or/and the exit interface. With IPv6, there is an extra feature: With IPb6, the next hop IP address can be either the link-local address or the global address. The following examples show how to configure an IPv6 static route using these three different methods:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p499pro01a" id="p499pro01">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>conf t</strong>
        Router(config)# <strong>ipv6 route 2001:0db8:BEEF::/32 FA1/0</strong>
        Router(config)# <strong>ipv6 route 2001:0db8:BEEF::/32 FA1/0 fe80::2</strong>
        Router(config)# <strong>ipv6 route 2001:0db8:BEEF::/32 2001:0db8:FEED::1</strong>
        Router(config)#
        </pre>
        <div class="box">
        <p class="box-title">RIPng</p>
        <p class="box-para">Routing Information Protocol Next Generation, a protocol used for RIP routing using IPv6</p>
        </div>
        <p class="noindent">The first static route shows that the route to the network 2001:0db8:BEEF::/32 is configured via interface FastEthernet1/0. The second static route gives an option of the link-local next hop address, which is specified with the <strong>fe80</strong> prefix. The third static entry shows a route to the network that points to the global IPv6 address 2001:0db8:FEED::1.</p>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec28">RIP for IPv6</h4>
        <p class="noindent">RIP routing using IPv6 requires the use of a RIP version called Routing Information Protocol Next Generation (<a id="ch9key42" href="glossary.xhtml#glo504"><span class="gray_kt"><strong>RIPng</strong></span></a>). RIPng has the same basic features as RIPv2. For example, it is a distance vector protocol, and there is a maximum hop <span epub:type="pagebreak" id="page_500"></span>limitation. However, RIPng has been updated to use IPv6 for transport. Also, RIPng uses the IPv6 multicast address FF02::9 for all RIP updates.</p>
        <p class="noindent">Configuring RIPng on Cisco routers is simple. The biggest difference between configuring RIPv2 and RIPng on Cisco routers is that RIPng must be configured on a per-network-link or per-interface basis rather than on a per-network basis, as is the case with RIPv2. The following examples demonstrate how to enable RIPng and how to configure RIPng on a Cisco router interface:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p500pro01a" id="p500pro01">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>conf t</strong>
        Router(config)#
        Router(config)# <strong>ipv6 router rip RIP100</strong>
        Router(config)#
        Router(config)# <strong>int Gig3/1</strong>
        Router(config-if)# <strong>ipv6 rip RIP100 enable</strong>
        </pre>
        <div class="box">
        <p class="box-title">[<em>rip_tag</em>]</p>
        <p class="box-para">A tag that is used to identify the RIP process</p>
        </div>
        <p class="noindent">The command <strong>ipv6 router rip [</strong><em>rip_tag</em><strong>]</strong>, where <strong>[</strong><a id="ch9key43" href="glossary.xhtml#glo505"><span class="gray_kt"><strong>rip_tag</strong></span></a><strong>]</strong> is a tag that identifies the RIP process, enables RIPng on Cisco routers. For example, you can enable RIPng on the GigabitEthernet3/1 interface with the command <strong>ipv6 rip [</strong><em>rip_tag</em><strong>] enable</strong><em>.</em> The same command is used to enable other RIP interfaces. In contrast, when configuring RIPv2, the network statement needs to be issued for every RIP network.</p>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec29">OSPF for IPv6</h4>
        <div class="box">
        <p class="box-title">OSPFv3</p>
        <p class="box-para">Open Shortest Path First version 3, the new OSPF version for IPv6</p>
        </div>
        <p class="noindent">The current OSPF version used in IPv4 is OSPFv2. Most OSPF information relies heavily on the IP number—for example, the router ID and the link state ID. In order to support IPv6, the OSPF routing protocol has been significantly revamped. The new OSPF version for IPv6 is <a id="ch9key44" href="glossary.xhtml#glo434"><span class="gray_kt"><strong>OSPFv3</strong></span></a>. The basic foundation of OSPF remains intact. For example, OSPFv3 is still a link state routing protocol. However, OSPFv3 uses the IPv6 link-local multicast addresses FF02::5 for all OSPF routers running in the same network.</p>
        <p class="noindent">OSPFv3 is now enabled on a per-link basis rather than on a per-network basis on Cisco routers. (This is similar to the changes in RIPng.) OSPFv3 identifies which networks are attached to the link and propagates them into the OSPF area. The following examples demonstrate how to enable OSPFv3 and how to configure OSPFv3 on a Cisco router interface:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p500pro02a" id="p500pro02">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>conf t</strong>
        Router(config)#
        Router(config)# <strong>ipv6  router ospf 99</strong>
        Router(config-rt)# <strong>router-id 9.9.9.9</strong>
        Router(config)#
        Router(config)# <strong>int Gig3/1</strong>
        Router(config-if)# <strong>ipv6 ospf 99 area 0.0.0.0</strong>
        </pre>
        <p class="noindent">The command <strong>ipv6 router ospf [</strong><em>process_id</em><strong>]</strong> enables OSPFv3 on Cisco routers. <strong>router-id</strong> is needed to establish OSPF adjacency in the IPv6 environment. OSPFv3 is enabled on the GigabitEthernet3/1 interface with the command <strong>ipv6 ospf [</strong><em>process_id</em><strong>] area [</strong><em>area_id</em><strong>]</strong><em>.</em> The same command is used to enable other OSPF <span epub:type="pagebreak" id="page_501"></span>interfaces. The router in this example is configured to be area 0, which is the backbone (area 0.0.0.0).</p>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec30">EIGRP for IPv6</h4>
        <p class="noindent">EIGRP is inherently a multiprotocol routing protocol. It was designed to support non-IP protocols such as IPX and AppleTalk, and it supports both IPv4 and IPv6. EIGRP for IPv6 uses the IPv6 link-local multicast addresses FF02::A for all EIGRP hello packets and updates.</p>
        <p class="noindent">EIGRP for IPv6 is configured over a network link, so there is no need to configure a network statement, as with EIGRP for IPv4. The following examples demonstrate how to enable EIGRP for IPv6 and how to configure it on a Cisco router interface:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p501pro01a" id="p501pro01">Click here to view code image</a></p>
        <pre class="pre1">Router# <strong>conf t</strong>
        Router(config)#
        Router(config)# <strong>ipv6 router eigrp 999</strong>
        Router(config-rtr)# <strong>eigrp router-id 9.9.9.9</strong>
        Router(config-rtr)# <strong>no shut</strong>
        Router(config)# <strong>int Gig3/1</strong>
        Router(config-if)# <strong>ipv6 eigrp 999</strong>
        </pre>
        <p class="noindent">The command <strong>ipv6 router eigrp [</strong><em>as_number</em><strong>]</strong> enables EIGRP on Cisco routers. Much as with OSPF, <strong>eigrp router-id</strong> is needed. EIGRP for IPv6 is in shutdown mode by default. The command <strong>no shut</strong> is issued to ensure that EIGRP is enabled. Next, EIGRP for IPv6 is enabled on the GigabitEthernet3/1 interface with the command <strong>ipv6 eigrp [</strong><em>as_number</em><strong>]</strong><em>.</em> The network link is now part of the EIGRP routing network.</p>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec31">BGP for IPv6</h4>
        <p class="noindent">Internet routing—with both IPv4 and IPv6—is dominated by the BGP routing protocol. The current version of BGP that is used by IPv4 is BGP4. The multiprotocol BGP extensions, or BGP4+, allows BGP4 to be used for IPv6. BGP4+ for IPv6 supports the same features and functionality as IPv4 BGP and also provides additional support for the IPv6 address family and the IPv6 address for the BGP next hop.</p>
        <p class="noindent">The steps to configure IPv6 BGP on Cisco routers are similar to the steps used with IPv4. The first step is to configure the interface on the router that will run IPv6. The next hop IPv6 address or its IPv6 BGP peer must be reachable by the router. You configure the router BGP process by issuing the command <strong>router bgp [</strong><em>AS_Number</em><strong>]</strong>. (This is not required if a BGP process already exists for IPv4, since the same BGP process will be used.)</p>
        <p class="noindent">You use the <strong>no bgp default ipv4-unicast</strong> command to allow protocols other than IPv4 to be activated within multiprotocol BGP (BGP4+). By default, only the IPv4 unicast is enabled. Next, you specify an IPv6 peer by using the command <strong>neighbor [</strong><em>IPv6_address</em><strong>] remote as [</strong><em>AS_Number</em><strong>]</strong>. With BGP4+, you specify a protocol by using the command <strong>address-family</strong>, which indicates that IPv6 is selected. Specifically, for IPv6, you use the command <strong>address-family ipv6</strong>.</p>
        <p class="noindent"><span epub:type="pagebreak" id="page_502"></span>Within the address family group, the BGP peering with the neighbor can be established using the command <strong>neighbor [</strong><em>IPv6_address</em><strong>] activate</strong>. Also, inside the same group, you must specify the IPv6 networks that will be advertised to the peer with the command <strong>network [</strong><em>IPv6_network</em><strong>]</strong>. The following example shows a sample configuration of the IPv6 section of a Cisco router:</p>
        <p class="codelink"><a href="ch09_images.xhtml#p502pro01a" id="p502pro01">Click here to view code image</a></p>
        <pre class="pre1">router bgp 65203
         no bgp default ipv4-unicast
         neighbor 2001:DB8:1:128::2 remote-as 65200
         neighbor 2001:DB8:1:128::2 description ISP
        !
         address-family ipv6
          neighbor 2001:DB8:1:128::2 activate
          neighbor 2001:DB8:1:128::2 soft-reconfiguration inbound
          network 2001:D00::/32
         exit-address-family
        !
        </pre>
        <p class="noindent">This section shows how to configure static, RIP, OSPF, EIGRP, and BGP routing for IPv6. As you have seen, the steps are very similar to those for configuring routing for IPv4.</p>
        <aside class="sidebar" epub:type="sidebar">
        <p class="sidebar-title" id="ch9lev2sec32">Section 9-10 Review</p>
        <p class="s-para">This section covers the following Network+ exam objectives.</p>
        <p class="s-paran">1.4 Given a scenario, configure a subnet and use appropriate IP addressing schemes.</p>
        <p class="s-para"><em>This section looks at IPv6 routing with RIP, OSPF, EIGRP, and BGP. The routing protocols for IPv6 work the same way as the routing protocols with IPv4. In fact, they still maintain the same routing principles.</em></p>
        <p class="s-paran">2.2 Compare and contrast routing technologies and bandwidth management concepts.</p>
        <p class="s-para"><em>This section presents the techniques for configuring static routing with IPv6. These techniques are almost the same as the techniques used with IPv4. However, in IPv4, you can specify the next hop IP address or/and the exit interface.</em></p>
        <p class="s-paran">3.1 Given a scenario, use the appropriate statistics and sensors to ensure network availability.</p>
        <p class="s-para"><em>This section states that OSPFv3 is a link state routing protocol, but it uses the IPv6 link-local multicast addresses FF02::5 for all OSPF routers running in the same network.</em></p>
        <p class="sidebar-title1" id="ch9lev2sec33"><span epub:type="pagebreak" id="page_503"></span>Test Your Knowledge</p>
        <ol class="number">
        <li><p class="num">Which of the following types of routing does IPv6 support?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Static</p></li>
        <li><p class="alpha">RIP</p></li>
        <li><p class="alpha">OSPF</p></li>
        <li><p class="alpha">EIGRP routing</p></li>
        <li><p class="alpha">All of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">What does the following command do?</p>
        <p class="codelink"><a href="ch09_images.xhtml#p503pro01a" id="p503pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config)# <strong>ipv6 route 2001:0db8:BEEF::/32 FA1/0</strong></pre>
        <ol class="lower-alpha">
        <li><p class="alpha">This is the IPv6 command for configuring a RIP route.</p></li>
        <li><p class="alpha">This is the IPv6 command for configuring an OSPF route.</p></li>
        <li><p class="alpha">This is the IPv6 command for configuring a static route.</p></li>
        <li><p class="alpha">This is the IPv6 command for configuring an EIGRP route.</p></li>
        </ol></li>
        <li><p class="num">Which of the following commands is used to route EIGRP?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Router(config)# <strong>ipv6 eigrp route 999</strong></p></li>
        <li><p class="alpha">Router(config)# <strong>ipv6 router eigrp 999</strong></p></li>
        <li><p class="alpha">Router(config) <strong>ipv6 router eigrp 999</strong></p></li>
        <li><p class="alpha">Router(config) <strong>ipv6 route eigrp 999</strong></p></li>
        </ol></li>
        </ol>
        </aside>
        </section>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec11"><span epub:type="pagebreak" id="page_504"></span>Summary</h3>
        <p class="noindent">This chapter shows how to configure static and dynamic routing protocols. No matter what type of routing protocol is used, you must remember that routing is a bidirectional communication. When configuring a network route on a router, the reverse route has to be configured at the corresponding router. At the most basic level, all the routers involved in routing must use the same routing protocol in order to communicate and exchange routing information.</p>
        <p class="noindent">The networking challenges in this chapter provide opportunities to test your configuration skills prior to actually configuring a real router. You should be able to configure and verify operation of static, RIP, RIPv2, OSPF, and EIGRP routing for both IPv4 and IPv6.</p>
        </section>
        <section>
        <h3 class="h3" id="ch9lev1sec12">Questions and Problems</h3>
        <section>
        <h4 class="h4" id="ch9lev2sec34">Section 9-2</h4>
        <ol class="number">
        <li><p class="num">What is a routing table?</p></li>
        <li><p class="num">What is the most common static route used in a host computer?</p></li>
        <li><p class="num">What command is used to view a PC’s routing table?</p></li>
        <li><p class="num">What is meant by a 0.0.0.0 network address entry with subnet mask 0.0.0.0 in a PC’s routing table?</p></li>
        <li><p class="num">What is the 127.0.0.1 IP address, and what is it used for?</p></li>
        <li><p class="num">What is the router command to configure a static route from LAN A to LAN B for the network shown in <a href="ch09.xhtml#ch09fig13">Figure 9-13</a>?</p>
        <figure class="image" id="ch09fig13">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig13.jpg" alt="Figure shows LAN A labeled, “10.10.50.0 NET” connected to a router and LAN B labeled, “10.10.80.0 NET” connected to another router. The routers are interconnected through 10.10.100.0 NET. IP address “10.10.100.1” points to the router connected to LAN A and IP address “10.10.100.2” points to the router connected to LAN B. Text reading “Subnet Mask 255.255.255.0” is shown below the IP addresses." width="543" height="178">
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-13</strong></span> The network for question 6.</p>
        </figcaption>
        </figure>
        </li>
        <li><p class="num"><span epub:type="pagebreak" id="page_505"></span>What is the difference between a router’s running configuration and startup configuration?</p></li>
        <li><p class="num">What router command is used to view the routes entered in a router’s routing table?</p></li>
        <li><p class="num">What router command is used to configure a static route for a router?</p></li>
        <li><p class="num">List two static routes for routing data from LAN A to LAN C in the network shown in <a href="ch09.xhtml#ch09fig14">Figure 9-14</a>, assuming the subnet mask 255.255.255.0.</p>
        <figure class="image" id="ch09fig14">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig14.jpg" aria-describedby="Alch09fig14" alt="Figure shows three routers: Router 1, Router 2, and Router 3." width="743" height="305">
        <aside class="hidden" id="Alch09fig14">
        <p>LAN A, B, and C are interconnected. Lan A with IP address 10.10.100.1 is connected to Router 1, LAN B with IP address 10.10.16.1 is connected to Router 2, and LAN C with IP address 10.10.200.1 is connected to Router 3. Router 1 with IP address, 10.10.10.1 is connected to Router 3 with IP address, 10.10.10.2 through 10.10.10.0 NET. IP addresses "10.20.100.1 and 10.20.100.2" are displayed between Router 1 and 2. IP addresses "10.50.10.1 and 10.50.10.2" are displayed between Router 2 and 3.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-14</strong></span> The network for questions 10 through 13.</p>
        </figcaption>
        </figure>
        </li>
        <li><p class="num">List two static routes to route data from LAN B to LAN C in the network shown in <a href="ch09.xhtml#ch09fig14">Figure 9-14</a>, assuming the subnet mask 255.255.255.0.</p></li>
        <li><p class="num">Which of the following are suitable subnet masks for use in configuring static routes for the network shown in <a href="ch09.xhtml#ch09fig14">Figure 9-14</a>?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">255.255.0.0</p></li>
        <li><p class="alpha">255.0.0.0</p></li>
        <li><p class="alpha">255.255.255.224</p></li>
        <li><p class="alpha">All of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_506"></span>A static route is configured to route data from LAN A to LAN B on Router1 in <a href="ch09.xhtml#ch09fig14">Figure 9-14</a>. Which of the following are appropriate static routes to achieve this goal? (Select all that apply.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">ip route 10.10.16.0 255.255.255.255 10.20.100.2</p></li>
        <li><p class="alpha">ip route 10.10.16.0 255.255.255.0 10.20.100.2</p></li>
        <li><p class="alpha">ip route 10.10.16.0 255.255.255.255 10.10.10.2</p></li>
        <li><p class="alpha">ip route 10.10.16.0 255.255.255.0 10.10.10.2</p></li>
        </ol></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec35">Section 9-3</h4>
        <ol class="number" start="14">
        <li><p class="num">What is the difference between a <em>static</em> routing protocol and a <em>dynamic</em> routing protocol?</p></li>
        <li><p class="num">What are the four key issues in dynamic routing protocols?</p></li>
        <li><p class="num">Define <em>hop count</em>.</p></li>
        <li><p class="num">Which of the following is <em>not</em> a metric used in dynamic routing protocols?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Hop count</p></li>
        <li><p class="alpha">Cost</p></li>
        <li><p class="alpha">Runs</p></li>
        <li><p class="alpha">Ticks</p></li>
        </ol></li>
        <li><p class="num">Determine the hop count for Router2 to subnet B in <a href="ch09.xhtml#ch09fig15">Figure 9-15</a>.</p>
        <figure class="image" id="ch09fig15">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig15.jpg" aria-describedby="Alch09fig15" alt="Figure shows routers: 1, 2, 3, 4, and 5 arranged in a series." width="603" height="400">
        <aside class="hidden" id="Alch09fig15">
        <p>At the top of the series, an unnamed router is displayed. Text that reads, "A, B, C, E, F, G, H, I are segments" is shown beside the figure. Router 1 is connected to router 2 via F, 2 to 3 via G, 3 to 4 via H, 4 to 5 via I, 1 to 5 via A, and 2 to 4 via B. Unnamed router is connected to Router 1 via E, Router 2 via C, and Router 3.</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-15</strong></span> The network for questions 18 through 20.</p>
        </figcaption>
        </figure>
        </li>
        <li><p class="num"><span epub:type="pagebreak" id="page_507"></span>For the network shown in <a href="ch09.xhtml#ch09fig15">Figure 9-15</a>, what is the hop count from Router5 to subnet G?</p></li>
        <li><p class="num">For the network shown in <a href="ch09.xhtml#ch09fig15">Figure 9-15</a>, what is the hop count from Router3 to subnet A?</p></li>
        <li><p class="num">What do link state protocols issue to update neighbor routers regarding route status?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Hop status</p></li>
        <li><p class="alpha">Link state advertisements</p></li>
        <li><p class="alpha">Hello packets</p></li>
        <li><p class="alpha">Adjacencies</p></li>
        </ol></li>
        <li><p class="num">Which of the following is a key feature of link state protocols?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Sending updates every 90 seconds</p></li>
        <li><p class="alpha">Sending update when routing changes</p></li>
        <li><p class="alpha">Using link lights to establish adjacencies</p></li>
        <li><p class="alpha">Using a hop count metric to determine the best route to a destination</p></li>
        </ol></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec36"><span epub:type="pagebreak" id="page_508"></span>Section 9-4</h4>
        <ol class="number" start="24">
        <li><p class="num">Define <em>routing loops</em>.</p></li>
        <li><p class="num">Which of the following is an example of a classful address?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">10.10.0.0</p></li>
        <li><p class="alpha">172.0.0.0</p></li>
        <li><p class="alpha">10.1.0.0</p></li>
        <li><p class="alpha">10.0.0.0</p></li>
        </ol></li>
        <li><p class="num">All connected routes from a router have a distance, or hop count, of what value?</p></li>
        <li><p class="num">In a distance vector protocol, the neighboring routers update their routing table based on what received information?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">The cost of each route</p></li>
        <li><p class="alpha">The list of neighboring routers</p></li>
        <li><p class="alpha">The hop count of each router</p></li>
        <li><p class="alpha">All of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">RIP permits a maximum of 15 hops to prevent what?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Routing metrics</p></li>
        <li><p class="alpha">Router table exchanges</p></li>
        <li><p class="alpha">Bandwidth issues</p></li>
        <li><p class="alpha">Routing loops</p></li>
        </ol></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec37">Section 9-5</h4>
        <ol class="number" start="28">
        <li><p class="num">What is the router command to enable the RIP routing protocol on a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">config router RIP</p></li>
        <li><p class="alpha">router rip</p></li>
        <li><p class="alpha">rip 10.0.0.0</p></li>
        <li><p class="alpha">network 10.0.0.0</p></li>
        </ol></li>
        <li><p class="num">What does it mean to <em>advertise</em> a network?</p></li>
        <li><p class="num">What commands do you use to enable RIP on an interface with IP address 192.168.10.250?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_509"></span>You use the command <strong>show ip protocol</strong> on a router to do which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Display the routing protocol that can run on the router</p></li>
        <li><p class="alpha">Display the IP address of the routers running IP</p></li>
        <li><p class="alpha">Display the routing protocols running on the router</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">The command <strong>show ip interface brief</strong> is used on a router to do which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Check the current configuration of the interfaces</p></li>
        <li><p class="alpha">Check the assigned IP addresses for the interface</p></li>
        <li><p class="alpha">Check the status of the interfaces</p></li>
        <li><p class="alpha">All these answers are correct.</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">The command <strong>show ip route</strong> is used on a router to do which of the following? (Select all that apply.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Set a static route</p></li>
        <li><p class="alpha">Configure a static route</p></li>
        <li><p class="alpha">Display the configured routes on a router</p></li>
        <li><p class="alpha">Display how often routing updates are sent</p></li>
        </ol></li>
        <li><p class="num">What command do you use to display a router’s current running configuration?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show running-config</strong></p></li>
        <li><p class="alpha"><strong>show routing</strong></p></li>
        <li><p class="alpha"><strong>show interface</strong></p></li>
        <li><p class="alpha"><strong>show controller</strong></p></li>
        </ol></li>
        <li><p class="num">True or false: The network shown in <a href="ch09.xhtml#ch09fig16">Figure 9-16</a> is an example of a contiguous network.</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec38">Section 9-6</h4>
        <ol class="number" start="36">
        <li><p class="num">Which of the following are true of OSPF? (Select all that apply.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It stands for Open Shortest Path First.</p></li>
        <li><p class="alpha">It is an open protocol.</p></li>
        <li><p class="alpha">It was developed specifically for TCP/IP networks.</p></li>
        <li><p class="alpha">It was developed specifically for IPX networks.</p></li>
        <li><p class="alpha">It is a distance vector protocol.</p></li>
        <li><p class="alpha"><span epub:type="pagebreak" id="page_510"></span>It is a dynamic routing protocol.</p></li>
        <li><p class="alpha">It is a link state protocol.</p></li>
        <li><p class="alpha">It consumes a lot of bandwidth.</p></li>
        </ol></li>
        <li><p class="num">In OSPF, route updates are sent in the form of which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Link state advertisements</p></li>
        <li><p class="alpha">Routing table exchanges every 30 seconds</p></li>
        <li><p class="alpha">Routing table exchanges every 90 seconds</p></li>
        <li><p class="alpha">IETF packets</p></li>
        </ol></li>
        <li><p class="num">The OSPF routing protocol uses which of the following to verify that a link between two routers is active and the routers are communicating?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">LSAs</p></li>
        <li><p class="alpha">Hello packets</p></li>
        <li><p class="alpha">ARP messages</p></li>
        <li><p class="alpha"><strong>ping</strong></p></li>
        </ol></li>
        <li><p class="num">Which of the following best defines how areas are used with OSPF?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Areas are not used.</p></li>
        <li><p class="alpha">Areas are used to partition a large network into small networks.</p></li>
        <li><p class="alpha">Areas are used to combine small networks into one large network.</p></li>
        <li><p class="alpha">Areas are an inefficient use of bandwidth.</p></li>
        </ol></li>
        <li><p class="num">Which of the following best characterizes variable-length subnet masks?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">They minimize wasted IP address space when interconnecting subnets.</p></li>
        <li><p class="alpha">They are not recommended in modern computer networks.</p></li>
        <li><p class="alpha">They reduce the number of bits required in a subnet mask from 32 to 24.</p></li>
        <li><p class="alpha">They are used for classful addressing.</p></li>
        </ol></li>
        <li><p class="num">Which of the following is <em>not</em> an advantage of OSPF?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It is very easy to implement.</p></li>
        <li><p class="alpha">It uses VLSM.</p></li>
        <li><p class="alpha">Link state changes are immediately reported.</p></li>
        <li><p class="alpha">It is not a proprietary protocol.</p></li>
        </ol></li>
        <li><p class="num">Define <em>route flapping</em>.</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec39"><span epub:type="pagebreak" id="page_511"></span>Section 9-7</h4>
        <ol class="number" start="43">
        <li><p class="num">Which of the following is true of VLSM?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">It minimizes wasted IP address space when interconnecting subnets.</p></li>
        <li><p class="alpha">It is not recommended in modern computer networks.</p></li>
        <li><p class="alpha">It reduces the number of bits required in a subnet mask from 32 to 24.</p></li>
        <li><p class="alpha">It is the same as classful addressing.</p></li>
        </ol></li>
        <li><p class="num">Which of the following is the command syntax for enabling OSPF routing on a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>router ospf</strong></p></li>
        <li><p class="alpha"><strong>router ospf [</strong><em>area</em><strong>]</strong></p></li>
        <li><p class="alpha"><strong>routing protocol ospf</strong></p></li>
        <li><p class="alpha"><strong>router ospf [</strong><em>number</em><strong>]</strong></p></li>
        </ol></li>
        <li><p class="num">What is another name for wildcard bits?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">OSPF pass-through bits</p></li>
        <li><p class="alpha">Area 0 selection bits</p></li>
        <li><p class="alpha">Inverse mask bits</p></li>
        <li><p class="alpha">Route selection bits</p></li>
        </ol></li>
        <li><p class="num">Area 0 is ____.</p>
        <ol class="lower-alpha">
        <li><p class="alpha">used to hide data packets</p></li>
        <li><p class="alpha">the root, or backbone, for a network</p></li>
        <li><p class="alpha">the home of inverse mask bits</p></li>
        <li><p class="alpha">the home of route selection bits</p></li>
        </ol></li>
        <li><p class="num">Assuming that OSPF has been enabled, which of the following is <em>not</em> used for configuring a route to run over OSPF?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>network 10.10.20.0 0.0.0.127 area 0</strong></p></li>
        <li><p class="alpha"><strong>network 10.10.20.1 0.0.0.255 area 0</strong></p></li>
        <li><p class="alpha"><strong>network 10.0.0.0 0.0.255.255</strong></p></li>
        <li><p class="alpha"><strong>network 10.10.100.1 0.0.0.0 area 0</strong></p></li>
        </ol></li>
        <li><p class="num">The command <strong>show ip route ospf</strong> ____.</p>
        <ol class="lower-alpha">
        <li><p class="alpha">is not valid with OSPF</p></li>
        <li><p class="alpha">displays only IP routes</p></li>
        <li><p class="alpha">displays only OSPF routes</p></li>
        <li><p class="alpha">enables OSPF routing</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_512"></span>The command <strong>sh ip route</strong> is entered on RouterB in the campus LAN shown in <a href="ch09.xhtml#ch09fig16">Figure 9-16</a>. The LAN has been fully configured to run OSPF. How many OSPF subnets are running on the network? Identify the connected C and OSPF O subnets.</p>
        <figure class="image" id="ch09fig16">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig16.jpg" aria-describedby="Alch09fig16" alt="Illustration shows three-router campus LAN with a table below it." width="702" height="582">
        <aside class="hidden" id="Alch09fig16">
        <p>Illustration shows "LAN A, LAN B, LAN C, and LAN D." In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, the switch connects C1 from port 12 and C2 is connected from port 24 labeled, "LAN C server." In LAN D, a switch connects D1 from port 14 and 21. From port 24, in LAN A, the data is transmitted to the router A through the fast Ethernet FA0/0 and IP address 10.10.20.0 Net. From port 24 in LAN B, the data is transmitted to Router B, through the fast Ethernet port FA0/0 and IP address 10.10.10.0 Net. In LAN C, the data is transmitted to Router B from port 13 through the fast Ethernet port FA0/1 and IP address 10.10.1.0 Net. In LAN D, the data is transmitted to Router C from port 13 through the fast Ethernet port FA0/0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the port FA0/2 and through the IP address: 10.10.100.0 Net. From Router A, it transmits from the fast Ethernet port FA0/1 to FA0/2 in Router B and in IP address 10.10.200.0 Net. From Router B, it transmits fast Ethernet port at FA0/3 to Router C with fast Ethernet FA0/1 with IP address: 10.10.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer Table: Figure 9.17</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-16</strong></span> Network topology for questions 49 and 50.</p>
        </figcaption>
        </figure>
        </li>
        <li><p class="num"><span epub:type="pagebreak" id="page_513"></span>The <strong>sh ip route</strong> command is entered on Router C in the campus LAN shown in <a href="ch09.xhtml#ch09fig16">Figure 9-16</a>. The LAN has been fully configured to run OSPF. How many OSPF subnets are running on the network? Identify the connected C and OSPF O subnets.</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec40"><span epub:type="pagebreak" id="page_514"></span>Section 9-8</h4>
        <ol class="number" start="51">
        <li><p class="num">What does <em>EIGRP</em> stand for?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Enhanced Interior Routing Protocol</p></li>
        <li><p class="alpha">Enhanced Interior Gateway Routing Protocol</p></li>
        <li><p class="alpha">Enhanced Internet Gateway Routing Protocol</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">Why is it beneficial to use VLSM?</p></li>
        <li><p class="num">What do routing protocols use to verify that a link from one router to another is active?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_515"></span>What are the four components of EIGRP?</p></li>
        <li><p class="num">When are routing tables exchanged with EIGRP?</p></li>
        <li><p class="num">What is the command for enabling EIGRP on a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>router igrp [</strong><em>as_number</em><strong>]</strong></p></li>
        <li><p class="alpha"><strong>router eigrp</strong></p></li>
        <li><p class="alpha"><strong>router eigrp [</strong><em>as</em>_<em>number</em><strong>]</strong></p></li>
        <li><p class="alpha"><strong>router eigrp enable</strong></p></li>
        </ol></li>
        <li><p class="num">The command network 10.10.0.0 is entered on a router after EIGRP has been enabled. What does this mean?</p></li>
        <li><p class="num">What router command verifies whether EIGRP is running on a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show run</strong></p></li>
        <li><p class="alpha"><strong>show ip int brief</strong></p></li>
        <li><p class="alpha"><strong>show history</strong></p></li>
        <li><p class="alpha"><strong>show ip protocol</strong></p></li>
        </ol></li>
        <li><p class="num">What router command shows how many subnets are configured?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show run</strong></p></li>
        <li><p class="alpha"><strong>show ip int brief</strong></p></li>
        <li><p class="alpha"><strong>show list</strong></p></li>
        <li><p class="alpha"><strong>show ip route</strong></p></li>
        </ol></li>
        <li><p class="num">What router command shows whether a router is exchanging routes?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show run</strong></p></li>
        <li><p class="alpha"><strong>show ip int brief</strong></p></li>
        <li><p class="alpha"><strong>show list</strong></p></li>
        <li><p class="alpha"><strong>show ip route</strong></p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_516"></span> The <strong>sh ip route</strong> command is entered on Router A in the campus LAN shown in <a href="ch09.xhtml#ch09fig17">Figure 9-17</a>. The LAN has been fully configured to run EIGRP. How many EIGRP subnets are running on the network? Identify the connected C and EIGRP D subnets.</p>
        <span epub:type="pagebreak" id="page_517"></span>
        <figure class="image" id="ch09fig17">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/graphics/09fig17.jpg" aria-describedby="Alch09fig17" alt="Illustration shows three-router campus LAN with a table below it." width="702" height="582">
        <aside class="hidden" id="Alch09fig17">
        <p>Illustration shows "LAN A, LAN B, LAN C, and LAN D." In LAN A, a switch connects A1 from port 14 and A2 from port 21 labeled, "LAN A server." In LAN B, a switch connects B1 and B2 from port 14 and port 21. In LAN C, the switch connects C1 from port 12 and C2 is connected from port 24 labeled, "LAN C server." In LAN D, a switch connects D1 from port 14 and 21. From port 24, in LAN A, the data is transmitted to the router A through the fast Ethernet FA0/0 and IP address 10.10.20.0 Net. From port 24 in LAN B, the data is transmitted to Router B, through the fast Ethernet port FA0/0 and IP address 10.10.10.0 Net. In LAN C, the data is transmitted to Router B from port 13 through the fast Ethernet port FA0/1 and IP address 10.10.1.0 Net. In LAN D, the data is transmitted to Router C from port 13 through the fast Ethernet port FA0/0 and IP address 10.10.5.0 Net. From Router A to Router C, the data is transmitted through the port FA0/2 and through the IP address: 10.10.100.0 Net. From Router A, it transmits from the fast Ethernet port FA0/1 to FA0/2 in Router B and in IP address 10.10.200.0 Net. From Router B, it transmits fast Ethernet port at FA0/3 to Router C with fast Ethernet FA0/1 with IP address: 10.10.150.0 Net. Segment is represented between Router A, Router B, and Router C. Refer Table: Figure 9.17</p>
        </aside>
        <figcaption>
        <p class="title-f"><span class="gray_fig"><strong>FIGURE 9-17</strong></span> Network topology for questions 61 and 62.</p>
        </figcaption>
        </figure>
        </li>
        <li><p class="num">The <strong>sh ip route</strong> command is entered on RouterB in the campus LAN shown in <a href="ch09.xhtml#ch09fig17">Figure 9-17</a>. The LAN has been fully configured to run EIGRP. How many EIGRP subnets are running on the network? Identify the connected C and EIGRP D subnets.</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec41">Section 9-9</h4>
        <ol class="number" start="63">
        <li><p class="num">What is the purpose of a wide area network connection?</p></li>
        <li><p class="num">What routing protocol is the easiest one to use for WAN links? What if there are multiple connections to the remote sites?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_518"></span>Define the following terms:</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Stubby area</p></li>
        <li><p class="alpha">Totally stubby area</p></li>
        </ol></li>
        <li><p class="num">A multihomed customer has which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A single Internet connection</p></li>
        <li><p class="alpha">More than one Internet connection</p></li>
        <li><p class="alpha">Static routes</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num">BGP is considered to be which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">An external routing protocol</p></li>
        <li><p class="alpha">Used for routing between the same networks</p></li>
        <li><p class="alpha">Used for routing between switches and routers on the same networks</p></li>
        <li><p class="alpha">Outdated</p></li>
        </ol></li>
        <li><p class="num">Each router participating in BGP must manually make a peering with its BGP neighbor. What is peering?</p></li>
        <li><p class="num">What are three ways to originate network prefixes or network routes in BGP? (Select three.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Via the network statement</p></li>
        <li><p class="alpha">Using the <strong>aggregate-address</strong> command to combine contiguous network prefixes</p></li>
        <li><p class="alpha">Using the <strong>route all</strong> command to connect to neighbors</p></li>
        <li><p class="alpha">Using the <strong>redistribute</strong> command to redistribute IGP routes into BGP</p></li>
        </ol></li>
        <li><p class="num">Which of the following could be used for specifying the IP address of the BGP neighbor?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">RouterB(config-router)# <strong>neighbor 192.168.1.1 remote-as 65000</strong></p></li>
        <li><p class="alpha">RouterB(config)# <strong>neighbor 192.168.1.1 remote-as 65000</strong></p></li>
        <li><p class="alpha">RouterB(config-router)# <strong>neighbor 192.168.1.1 remote 65000</strong></p></li>
        </ol></li>
        <li><p class="num">What command can be used to verify that routers are connected via BGP?</p></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_519"></span> What command is used to show BGP routes?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec42">Section 9-10</h4>
        <ol class="number" start="73">
        <li><p class="num">What does the following command show?</p></li>
        <li><p class="num">What command would you use to create a static route for 2001:0db8:1234::/32 that points to the global network 2001:0db8:ABCD::1?</p></li>
        <li><p class="num">Show the command to create an IPv6 static route for 2001:0db8:1234::/32 from the FA0/0 interface that gives the link-local next hop address, specified with the fe80::1 prefix.</p></li>
        <li><p class="num">What does RIPng stand for, and what is it used for?</p></li>
        <li><p class="num">What is the multicast address for RIPng?</p></li>
        <li><p class="num">What command enables RIPng on Cisco routers?</p></li>
        <li><p class="num">What is the purpose of <strong>[</strong><em>rip-tag</em><strong>]</strong>?</p></li>
        <li><p class="num">What version of OSPF is used with IPv6?</p></li>
        <li><p class="num">What are the IPv6 link-local multicast addresses for all OSPF?</p></li>
        <li><p class="num">What command is used to configure OSPF routing for IPv6, using process ID 50?</p></li>
        <li><p class="num">What does the following command do?</p>
        <p class="codelink"><a href="ch09_images.xhtml#p519pro01a" id="p519pro01">Click here to view code image</a></p>
        <pre class="pre1">Router(config-if)# <strong>ipv6 ospf 50 area 0.0.0.0</strong></pre></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_520"></span> What is the IPv6 link-local multicast addresses for EIGRP? What is the link-local address used for in IPv6?</p></li>
        <li><p class="num">What is the command for enabling EIGRP for IPv6, with AS 100 specified?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec43">Critical Thinking</h4>
        <ol class="number" start="86">
        <li><p class="num">Say that you are configuring a router connection to a remote network. What protocol would you select if there is only one network route to the remote network? Explain why you selected the protocol.</p></li>
        <li><p class="num">You are configuring the routing protocols for a small network. Which routing protocol would you select, and why?</p></li>
        </ol>
        </section>
        <section>
        <h4 class="h4" id="ch9lev2sec44">Certification Questions</h4>
        <ol class="number" start="88">
        <li><p class="num">Which subnets are connected to Router4 in <a href="ch09.xhtml#ch09fig15">Figure 9-15</a>?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">A, G, D</p></li>
        <li><p class="alpha">F, G, H, I</p></li>
        <li><p class="alpha">H, I, B</p></li>
        <li><p class="alpha">G, G, H</p></li>
        </ol></li>
        <li><p class="num">Which router command displays the number of subnets configured?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show run</strong></p></li>
        <li><p class="alpha"><strong>show ip int brief</strong></p></li>
        <li><p class="alpha"><strong>show list</strong></p></li>
        <li><p class="alpha"><strong>show ip route</strong></p></li>
        </ol></li>
        <li><p class="num">The command <strong>show ip protocol</strong> is used to do which of the following?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Display the routing protocols that can run on the router</p></li>
        <li><p class="alpha">Display the IP addresses of the routers running an IP protocol</p></li>
        <li><p class="alpha">Display the routing protocols running on the router</p></li>
        <li><p class="alpha">None of these answers are correct.</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_521"></span>The command <strong>show ip route</strong> is used on a router to do what?</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Set a static route</p></li>
        <li><p class="alpha">Configure a static route</p></li>
        <li><p class="alpha">Display the configured routes</p></li>
        <li><p class="alpha">Display how often routing updates are sent</p></li>
        </ol></li>
        <li><p class="num">Which router command displays the configured routes on a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show running-config</strong></p></li>
        <li><p class="alpha"><strong>show ip int brief</strong></p></li>
        <li><p class="alpha"><strong>show list</strong></p></li>
        <li><p class="alpha"><strong>show ip route</strong></p></li>
        </ol></li>
        <li><p class="num">What command is used to display a router’s current running configuration?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show running-config</strong></p></li>
        <li><p class="alpha"><strong>show routing</strong></p></li>
        <li><p class="alpha"><strong>show interface</strong></p></li>
        <li><p class="alpha"><strong>show controller</strong></p></li>
        <li><p class="alpha"><strong>show config</strong></p></li>
        </ol></li>
        <li><p class="num">What is the router command for displaying the startup configuration?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>show running-config</strong></p></li>
        <li><p class="alpha"><strong>show flash</strong></p></li>
        <li><p class="alpha"><strong>show history</strong></p></li>
        <li><p class="alpha"><strong>show startup-config</strong></p></li>
        </ol></li>
        <li><p class="num">What is the router command for enabling the RIP routing protocol on a router?</p>
        <ol class="lower-alpha">
        <li><p class="alpha"><strong>config router RIP</strong></p></li>
        <li><p class="alpha"><strong>router rip</strong></p></li>
        <li><p class="alpha"><strong>router rip [</strong><em>area</em><strong>]</strong></p></li>
        <li><p class="alpha"><strong>router rip [</strong><em>AS number</em><strong>]</strong></p></li>
        </ol></li>
        <li><p class="num">RIP is classified as which of the following? (Select two.)</p>
        <ol class="lower-alpha">
        <li><p class="alpha">Distance vector protocol</p></li>
        <li><p class="alpha">Dynamic routing protocol</p></li>
        <li><p class="alpha">Link state protocol</p></li>
        <li><p class="alpha">Multivendor protocol</p></li>
        </ol></li>
        <li><p class="num"><span epub:type="pagebreak" id="page_522"></span>True or false: All subnets connected to Router3 in the network shown in <a href="ch09.xhtml#ch09fig14">Figure 9-14</a> are:</p>
        <p class="num">10.10.10.0</p>
        <p class="num">10.50.10.0</p>
        <p class="num">10.10.200.0</p></li>
        <li><p class="num">True or false: Route flapping means intermediate routers are going up and down, creating excessive LSA updates.</p></li>
        <li><p class="num">True or false: A computer with IP address 10.10.5.1 sends a data packet with destination IP address 10.10.5.20 using subnet mask 255.255.255.0. The packet stays in the LAN.</p></li>
        <li><p class="num">True or false: A computer with IP address 10.10.5.1 sends a data packet with destination IP address 10.5.10.10 and subnet mask 255.0.0.0. The packet stays in the LAN.</p></li>
        <li><p class="num">A router has three network routes to a destination. The routing protocols used for the paths are OSPF, EIGRP, and RIP. Based on administrative distance, what is the routing protocol with the smallest default distance value?</p></li>
        </ol>
        <span epub:type="pagebreak" id="page_523"></span>
        </section>
        </section>
        </section>
        </div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780137455911/files/9780137455799.css" crossorigin="anonymous"></div></div></section>
</div>


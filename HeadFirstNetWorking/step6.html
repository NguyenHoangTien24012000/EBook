<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><div class="chapter" title="Chapter&nbsp;6.&nbsp;Connecting Networks with Routers: Bringing Things Together"><div class="titlepage"><div><div><h1 class="title"><a id="connecting_networks_with_routers_bringin"></a>Chapter&nbsp;6.&nbsp;Connecting Networks with Routers: Bringing Things Together</h1></div></div></div><div class="informalfigure"><a id="med_id00246a"></a><div class="mediaobject"><a id="med_id00246"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566550.png.jpg" alt="image with no caption" width="496" height="445"></div></div><p><a id="iddle1605" class="indexterm"></a><span class="strong"><strong>Need to a get a network connection to a place far, far away?</strong></span></p><p>So far, we’ve shown you the ins and outs of how you get a single network up and running. But what do you do if you need to <span class="strong"><strong>share resources with some other network</strong></span>? That’s where routers come into their own. Routers specialize in seamlessly <span class="strong"><strong>moving network traffic</strong></span> from <span class="strong"><strong>one network to another</strong></span>, and in this chapter you’ll learn exactly how they do that. We’ll show you how to <span class="strong"><strong>program</strong></span> your router, and how the router itself can help you <span class="strong"><strong>troubleshoot any problems</strong></span>. Keep reading, and you’ll find it’s out of this world...</p><div class="sect1" title="Networking Walking on the moon"><div class="titlepage"><div><div><h1 class="title"><a id="networking_walking_on_the_moon"></a>Networking <span class="strikethrough">Walking</span> on the moon</h1></div></div></div><div class="informalfigure"><a id="med_id00247a"></a><div class="mediaobject"><a id="med_id00247"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566552.png.jpg" alt="image with no caption" width="854" height="1000"></div></div><p><a id="iddle1366" class="indexterm"></a>The Moonbase is a NASA command center that’s been set up on the moon, and they need to establish a video connection with the International Space Station (ISS). There’s just one problem— there’s no network on the Moonbase to allow them to communicate with it.</p><p><span class="strong"><strong>Think you can help them out?</strong></span></p><div class="sidebar"><a id="sharpen_your_pencil-id00080"></a><p class="title">Sharpen your pencil</p><p>Start your moon network by connecting up the devices below into a network that will allow communications on the Internet using the radio.</p><div class="informalfigure"><a id="med_id00248a"></a><div class="mediaobject"><a id="med_id00248"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566554.png.jpg" alt="image with no caption" width="616" height="643"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00081"></a><p class="title">Sharpen your pencil Solution</p><p>Start your moon network by connecting up the devices below into a network that will allow communications on the Internet using the radio.</p><div class="informalfigure"><a id="med_id00249a"></a><div class="mediaobject"><a id="med_id00249"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566556.png.jpg" alt="image with no caption" width="639" height="643"></div></div></div></div><div class="sect1" title="We need to connect two networks together"><div class="titlepage"><div><div><h1 class="title"><a id="we_need_to_connect_two_networks_together"></a>We need to connect two networks together</h1></div></div></div><p>So how do you generally connect two networks together? The first thing you need is a working local area network (LAN). Second, you need a connection to that other network. This could be a Cat 5 cable or fiber or even a radio link. Finally, you need a router to connect the 2 networks. The router connects the networks <span class="emphasis"><em>physically</em></span> as well as <span class="emphasis"><em>logically</em></span>.</p><div class="informalfigure"><a id="med_id00250a"></a><div class="mediaobject"><a id="med_id00250"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566558.png" alt="image with no caption" width="685" height="569"></div></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>The physical network is the hardware such as the cables, switches, hubs, and routers.</strong></span></p><p><span class="strong"><strong>The logical network is the network addressing stuff.</strong></span></p></blockquote></div><p>The Moonbase and ISS networks are now connected with a router. So is everything working?</p></div><div class="sect1" title="The light’s on, but nobody’s home"><div class="titlepage"><div><div><h1 class="title"><a id="lightapostrophes_oncomma_but_nobodyapost"></a>The light’s on, but nobody’s home</h1></div></div></div><p>The LEDs on the Moonbase switch are flashing, but unfortunately, there’s still no video connection with the ISS.</p><div class="informalfigure"><a id="med_id00251a"></a><div class="mediaobject"><a id="med_id00251"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566560.png.jpg" alt="image with no caption" width="554" height="106"></div></div><div class="sect2" title="What do you think the flashing LEDs have to do with traffic on the network?"><div class="titlepage"><div><div><h2 class="title"><a id="what_do_you_think_the_flashing_leds_have"></a>What do you think the flashing LEDs have to do with traffic on the network?</h2></div></div></div><p>Remember from the previous chapter, that data sent on an Ethernet network travel as discrete units called frames. The LEDs flashing let you know that a particular port is sending or receiving network traffic in the form of these frames. The frames are directed where to go based on the MAC address inside the frame.</p><p>So, the LEDs represent network traffic.</p><p><span class="strong"><strong>But does that mean your network is working?</strong></span></p><p><span class="strong"><strong>How would you find out?</strong></span></p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Remember, every network device on an Ethernet network has to have a MAC address if it is going to send and receive network traffic.</strong></span></p></blockquote></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch06note01"></a>Brain Power</h3><p>How would you go about monitoring conversations on the network? What would you use?</p></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00082"></a><p class="title">There are no Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe1"></a><a id="ch06qa1q1"></a><p>Q:</p></td><td align="left" valign="top"><p><a id="iddle1099" class="indexterm"></a><a id="iddle1330" class="indexterm"></a><a id="iddle1522" class="indexterm"></a><span class="strong"><strong>Q: So why do we have to use a router? Can’t the switch connect to the radio?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa1q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> We have to use a router when we connect two networks. The router acts as a “translator” between the two networks. Simple switches do not have the brains for this.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe2"></a><a id="ch06qa1q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: What is the router “translating”?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa1q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> In simply terms: network addresses. The two different networks are like 2 different cities. The router moves the data from one network to another.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe3"></a><a id="ch06qa1q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So do I always need to connect a computer to a switch?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa1q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> To a switch or to a hub, but never directly to a router.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe4"></a><a id="ch06qa1q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: But I have a DSL router at home, and my computer is directly connected to it. What is that all about?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa1q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Good observation. There are switches that have routing capability and routers that have switched ports. There is not a real clear line between the two devices. It is more about their primary function. Now, in large networks, there are switching routers. These have software that allow them to work as routers on switched ports. They are great to use and make building large sophisticated networks straightforward, but they are very expensive.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa1qe5"></a><a id="ch06qa1q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So the difference betweeen my home DSL router and an enterprise switching router is the software?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa1q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> The big difference is the hardware horsepower. Your home DSL router probably uses a small embedded processor or microcontroller which does all the processing. Switching routers and heavy duty routers have specialized processors with individual processors on each port. The name of the game is the speed at which is can move packets. Your home DSL router probably has a throughput of about 20 Mbps (Megabits per second), whereas a high end switching router can have a throughput of hundreds of Gbps (Gigabits per second) or more.</p></td></tr></tbody></table></div></blockquote></div></div></div></div><div class="sect1" title="Let’s see what traffic is on our network!"><div class="titlepage"><div><div><h1 class="title"><a id="letapostrophes_see_what_traffic_is_on_ou"></a>Let’s see what traffic is on our network!</h1></div></div></div><p><a id="iddle1202" class="indexterm"></a><a id="iddle1326" class="indexterm"></a><a id="iddle1342" class="indexterm"></a><a id="iddle1723" class="indexterm"></a>A packet sniffer program like Wireshark can show you the network traffic between devices. Wireshark can help you find out when devices are trying to communicate but can’t for some reason.</p><div class="informalfigure"><a id="med_id00252a"></a><div class="mediaobject"><a id="med_id00252"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566562.png" alt="image with no caption" width="861" height="615"></div></div><div class="note" title="Brain Power"><h3 class="title"><a id="ch06note02"></a>Brain Power</h3><p>What would you see if a device was trying but failing to have a network conversation?</p></div><div class="informalfigure"><a id="med_id00253a"></a><div class="mediaobject"><a id="med_id00253"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566564.png.jpg" alt="image with no caption" width="405" height="420"></div></div><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;<a id="iddle1185" class="indexterm"></a><a id="iddle1412" class="indexterm"></a><a id="iddle1448" class="indexterm"></a><a id="iddle1612" class="indexterm"></a>What are all these different from and to addresses in this packets?</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;Those are IP addresses.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;What are those used for?</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;Well, this is a TCP/IP network, and those are the network addresses of the various devices on the network.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Why are they all different?</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;They have to be unique on the network, like a telephone number is unique.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;I get that, but some of these numbers are really different.</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;Oh yeah! I didn’t notice that. It seems there are a couple of conversations going on, but none of the machines using the one type of address are talking with the other machines.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;I bet they are on a different TCP/IP network!</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;So how can we get them to talk with each other?</p><div class="note" title="Watch it!"><h3 class="title"><a id="ch06note03"></a>Watch it!</h3><p><span class="strong"><strong>Only network nodes with the same IP network address can communicate across a switch.</strong></span></p><p><span class="emphasis"><em>A switch can only deal with MAC addresses. A router is needed to connect two different IP networks.</em></span></p></div></div><div class="sect1" title="MAC address versus IP address"><div class="titlepage"><div><div><h1 class="title"><a id="mac_address_versus_ip_address"></a>MAC address versus IP address</h1></div></div></div><p><a id="iddle1517" class="indexterm"></a><a id="iddle1872" class="indexterm"></a>So why can’t a MAC address be used to move traffic from one network to another?</p><p><span class="strong"><strong>It’s all in the numbers...</strong></span></p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00053"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566566.png" alt="" width="294" height="124"></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="inlinemediaobject"><a id="inline_id00054"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566568.png" alt="" width="219" height="133"></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>A MAC address is assigned to every device connected to an Ethernet network. In your computer, that is the network card. The beginning part of the MAC address designates the manufacturer. The later part, the manufacturer increments, so all their products have unique MAC addresses. It is like a social security number, in that you really can’t tell where a person lives just by looking at it.</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>A IP address is made up of a network address and a host address. The host part is the unique bit assigned to a particular network device. It is much like a phone number. which has a country code, area code, and local calling area—finally, your unique individual number.</p>
<p>The ability to create groups of IP address, called IP networks is built into the number itself.</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p>There is no way to store network information in the MAC address. Each address is specific and unique to the piece of hardware it is assigned to.</p></td><td style="" valign="top"><p><span class="inlinemediaobject"><a id="inline_id00055"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566570.png" alt="" width="258" height="190"></span></p></td></tr></tbody></table></div><div class="note" title="Geek Bits"><h3 class="title"><a id="ch06note04"></a>Geek Bits</h3><p>Each network device on a TCP/IP network needs to have an IP network address, a unique address on the network. But how do you find what it is?</p><p>If you’re running Mac OS X, open up the Terminal application from your Utilities folder, and type <code class="literal">ifconfig</code>. This same command works on Linux as well.</p><p>If you’re running Windows XP, 2000, or Vista, click Start, then Run, and then type <code class="literal">cmd</code>. When the command window appears, type <code class="literal">ipconfig</code>.</p></div></div><div class="sect1" title="IP addresses give our networks a sense of location, and network nodes a sense of belonging to that location"><div class="titlepage"><div><div><h1 class="title"><a id="ip_addresses_give_our_networks_a_sense_o"></a>IP addresses give our networks a sense of location, and network nodes a sense of belonging to that location</h1></div></div></div><p><a id="iddle1345" class="indexterm"></a><a id="iddle1725" class="indexterm"></a><a id="iddle1839" class="indexterm"></a>IP addresses are used to create an address space so that different networks can communicate with each other, much like area codes relate to different geographical areas. The IP address then gives a unique network and specific address to each and every network node.</p><div class="informalfigure"><a id="med_id00254a"></a><div class="mediaobject"><a id="med_id00254"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566572.png" alt="image with no caption" width="876" height="695"></div></div><div class="note" title="Relax"><h3 class="title"><a id="ch06note05"></a>Relax</h3><p><span class="strong"><strong>The subnet mask tells you if two nodes are on the same network.</strong></span></p><p>If you have a network address of 192.168.0.0/16, then a node at 192.168.0.1 is on the same network as 192.168.100.1, and you don’t need a router in-between them.</p></div></div><div class="sect1" title="We retrieve IP addresses using the MAC address and the Address Resolution Protocol (ARP)"><div class="titlepage"><div><div><h1 class="title"><a id="we_retrieve_ip_addresses_using_the_mac_a"></a>We retrieve IP addresses using the MAC address and the Address Resolution Protocol (ARP)</h1></div></div></div><p><a id="iddle1274" class="indexterm"></a><a id="iddle1300" class="indexterm"></a><a id="iddle1307" class="indexterm"></a><a id="iddle1317" class="indexterm"></a><a id="iddle1318" class="indexterm"></a><a id="iddle1346" class="indexterm"></a><a id="iddle1615" class="indexterm"></a><a id="iddle1735" class="indexterm"></a>Here’s what happens when a network device needs to send some data via a switch on a TCP/IP network. The device has to find out the MAC address using the IP address. It does by using ARP.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><span class="strong"><strong>A network device sends an ARP request to the switch.</strong></span></p><div class="informalfigure"><a id="med_id00255a"></a><div class="mediaobject"><a id="med_id00255"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566574.png" alt="image with no caption" width="536" height="170"></div></div></li><li class="listitem"><p><span class="strong"><strong>The switch broadcasts the ARP request to all devices.</strong></span></p><div class="informalfigure"><a id="med_id00256a"></a><div class="mediaobject"><a id="med_id00256"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566576.png.jpg" alt="image with no caption" width="680" height="338"></div></div></li><li class="listitem"><p><span class="strong"><strong>The device with the appropriate IP address makes an ARP response back to the switch.</strong></span></p><div class="informalfigure"><a id="med_id00257a"></a><div class="mediaobject"><a id="med_id00257"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566578.png.jpg" alt="image with no caption" width="690" height="243"></div></div></li><li class="listitem"><p><span class="strong"><strong>The switch relays the ARP response back to the network device.</strong></span></p><div class="informalfigure"><a id="med_id00258a"></a><div class="mediaobject"><a id="med_id00258"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566580.png.jpg" alt="image with no caption" width="637" height="327"></div></div></li></ol></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00083"></a><p class="title">There are no Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe1"></a><a id="ch06qa2q1"></a><p>Q:</p></td><td align="left" valign="top"><p><a id="iddle1016" class="indexterm"></a><a id="iddle1018" class="indexterm"></a><a id="iddle1341" class="indexterm"></a><a id="iddle1736" class="indexterm"></a><span class="strong"><strong>Q: I thought I just needed a MAC address for a frame to get somewhere.</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> That’s all an Ethernet frame needs to get somewhere. But, remember from the previous chapter that Ethernet frames contain things called packets, and these contain data in the form of protocols. In the case of TCP/IP networks, we need IP addresses to move the packets between networks.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe2"></a><a id="ch06qa2q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: If my computer has an IP address, why does it need a MAC address too?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> A computer can talk multiple network protocols on the same network. For example, on my Mac here, it is talking TCP/IP and Appletalk on the same Ethernet line. So the MAC address allows the Ethernet frames to move between network devices like routers and switches. The network protocols allow the computer to talk to devices on other networks.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe3"></a><a id="ch06qa2q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: What is an IP address used for?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Every computer connected to the Internet has to have an IP address. It may not be a public address, or it might share a public address with other computers, but it will have some type of IP address.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe4"></a><a id="ch06qa2q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: What do you mean “public” IP address?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> There are some IP network addresses designated as private addresses. The rest are public. Public means that they are routable, whereas private addresses are not routable, i.e., the main routers of the Internet will not move packets from one network to another if they have private IP addresses.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe5"></a><a id="ch06qa2q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Who designated which IP addresses were public versus private?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Good question. When the TCP/IP protocol was developed, the designers recognized the need to reserve some addresses for use as private networks. These addresses have their own RFC, which is RFC 1918. This designates the private address ranges.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe6"></a><a id="ch06qa2q6"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So how do you get an IP address?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q6a6"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Another great question. At home your computer gets its public address from your ISP. A computer at a large business or university would get it from the network administrator who keeps track of all the IP addresses.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe7"></a><a id="ch06qa2q7"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So how do ISPs, businesses, and universities get IP addresses?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q7a7"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> In the US, Canada, and nations in the Caribbean, the American Registry for Internet Numbers (ARIN) manages the IP address space. There are four other registry authorities for other regions of the world. You can look at <span class="strong"><strong><a class="ulink" href="http://www.arin.net/community/countries.html">http://www.arin.net/community/countries.html</a></strong></span> to find the Registry that manages each country’s IP space.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa2qe8"></a><a id="ch06qa2q8"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Can anyone get IP address space?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa2q8a8"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> There are certain requirements to get IP address space. Having the need (i.e., lots of computers that need to be on the Internet) is probably the biggest requirement. But there are others as well.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00084"></a><p class="title">Sharpen your pencil</p><p>Below is some captured network traffic. There are several network conversations shown. Write down four pairs of communicating network nodes.</p><div class="informalfigure"><a id="med_id00259a"></a><div class="mediaobject"><a id="med_id00259"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566582.png" alt="image with no caption" width="610" height="732"></div></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00085"></a><p class="title">Sharpen your pencil Solution</p><p><a id="iddle1308" class="indexterm"></a><a id="iddle1340" class="indexterm"></a><a id="iddle1422" class="indexterm"></a><a id="iddle1428" class="indexterm"></a>Below is some captured network traffic. There are several network conversations shown. Write down four pairs of communicating network nodes.</p><div class="informalfigure"><a id="med_id00260a"></a><div class="mediaobject"><a id="med_id00260"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566584.png" alt="image with no caption" width="720" height="468"></div></div><div class="informalfigure"><a id="med_id00261a"></a><div class="mediaobject"><a id="med_id00261"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566586.png" alt="image with no caption" width="465" height="150"></div></div></div></div><div class="sect1" title="So what’s the problem with the Moonbase?"><div class="titlepage"><div><div><h1 class="title"><a id="so_whatapostrophes_the_problem_with_the"></a>So what’s the problem with the Moonbase?</h1></div></div></div><p>So far we’ve seen that the computers on the Moonbase network are communicating using IP addresses rather than MAC addresses. So why aren’t the Moonbase and ISS able to communicate?</p><div class="informalfigure"><a id="med_id00262a"></a><div class="mediaobject"><a id="med_id00262"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566588.png.jpg" alt="image with no caption" width="462" height="541"></div></div><p><span class="strong"><strong>Maybe he’s right.</strong></span></p><p>So far we’ve looked at how switches behave on IP networks. But what if the problems aren’t to do with the switch, but with how the traffic passes from one network to the other? What device should we look at next?</p><div class="note" title="Brain Power"><h3 class="title"><a id="ch06note06"></a>Brain Power</h3><p>Take another look at the network diagram for the Moonbase. What device controls how traffic is handled between the two networks?</p></div></div><div class="sect1" title="How do we get network traffic to move between networks?"><div class="titlepage"><div><div><h1 class="title"><a id="how_do_we_get_network_traffic_to_move_be"></a>How do we get network traffic to move between networks?</h1></div></div></div><p>The problem is that a node on one network does not know how to send <span class="bolditalic">frames</span> to a node on another network. A router knows how to move traffic from one network to another.</p><p>But how does it do this? Doesn’t it have to know about both networks, or at least how to get to the outside network?</p><p>Also, how does a network node know to send traffic bound for another network to its router?</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Network devices have a default gateway in their network setup. This is the router’s IP address. It is where the devices send all network traffic bound for other networks.</strong></span></p></blockquote></div><p><span class="strong"><strong>We need to program a router to know about the networks it is connected to, and know how to get to other networks.</strong></span></p><div class="informalfigure"><a id="med_id00263a"></a><div class="mediaobject"><a id="med_id00263"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566590.png" alt="image with no caption" width="736" height="487"></div></div><div class="informalfigure"><a id="med_id00264a"></a><div class="mediaobject"><a id="med_id00264"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566592.png.jpg" alt="image with no caption" width="328" height="550"></div></div><p><span class="strong"><strong>Remember, the only addresses the switch understands are MAC addresses.</strong></span></p><p>An Ethernet switch just looks at the MAC address of a frame and forwards that frame to the correct device. It does not modify the frame in any way.</p><p>The router has to actually take the packet out of the frame, get the IP address, then modify the frame MAC address if it needs to send it on to a device on another network.</p><p><span class="strong"><strong>Let’s take a closer look at this.</strong></span></p></div><div class="sect1" title="How the router moves data across networks"><div class="titlepage"><div><div><h1 class="title"><a id="how_the_router_moves_data_across_network"></a>How the router moves data across networks</h1></div></div></div><p><a id="iddle1100" class="indexterm"></a><a id="iddle1267" class="indexterm"></a><a id="iddle1315" class="indexterm"></a><a id="iddle1616" class="indexterm"></a><a id="iddle1755" class="indexterm"></a>Here’s what happens if a network device wants to send network traffic to another network device located on a different IP network. It needs to send this traffic via a router.</p><div class="note" title="Watch it!"><h3 class="title"><a id="ch06note07"></a>Watch it!</h3><p><span class="strong"><strong>Computers are not generally connected directly to a router.</strong></span></p><p><span class="emphasis"><em>Usually there is a switch or hub in-between them.</em></span></p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><span class="strong"><strong>The sending device sends an ARP request for the MAC address of its default gateway.</strong></span></p><div class="informalfigure"><a id="med_id00265a"></a><div class="mediaobject"><a id="med_id00265"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566594.png.jpg" alt="image with no caption" width="570" height="154"></div></div></li><li class="listitem"><p><span class="strong"><strong>The router responds with its MAC address.</strong></span></p><div class="informalfigure"><a id="med_id00266a"></a><div class="mediaobject"><a id="med_id00266"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566596.png.jpg" alt="image with no caption" width="460" height="169"></div></div></li><li class="listitem"><p><span class="strong"><strong>The sending device sends its traffic to the router.</strong></span></p><div class="informalfigure"><a id="med_id00267a"></a><div class="mediaobject"><a id="med_id00267"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566598.png.jpg" alt="image with no caption" width="460" height="191"></div></div></li><li class="listitem"><p><span class="strong"><strong>The router sends an ARP request for the device with the correct IP address on a different IP network.</strong></span></p><div class="informalfigure"><a id="med_id00268a"></a><div class="mediaobject"><a id="med_id00268"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566600.png" alt="image with no caption" width="693" height="239"></div></div></li><li class="listitem"><p><span class="strong"><strong>The receiving device responds with its MAC address.</strong></span></p><div class="informalfigure"><a id="med_id00269a"></a><div class="mediaobject"><a id="med_id00269"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566602.png" alt="image with no caption" width="675" height="238"></div></div></li><li class="listitem"><p><span class="strong"><strong>The router changes the MAC address in the frame and sends the data to the receiving device.</strong></span></p><div class="informalfigure"><a id="med_id00270a"></a><div class="mediaobject"><a id="med_id00270"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566604.png" alt="image with no caption" width="678" height="219"></div></div></li></ol></div></div><div class="sect1" title="Back to the Moonbase problem"><div class="titlepage"><div><div><h1 class="title"><a id="back_to_the_moonbase_problem"></a>Back to the Moonbase problem</h1></div></div></div><p><a id="iddle1618" class="indexterm"></a><a id="iddle1840" class="indexterm"></a>From the captured network traffic, we can see that devices on the same network are communicating, but devices with different IP network addresses are not. What makes the IP addresses different?</p><div class="informalfigure"><a id="med_id00271a"></a><div class="mediaobject"><a id="med_id00271"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566606.png" alt="image with no caption" width="684" height="564"></div></div><p><span class="strong"><strong>What would you think are network addresses for the Moonbase and ISS?</strong></span></p></div><div class="sect1" title="The secret of IP numbers is..."><div class="titlepage"><div><div><h1 class="title"><a id="secret_of_ip_numbers_ishellip"></a>The secret of IP numbers is...</h1></div></div></div><p>An IP address is made up of 4 to 8 bit binary numbers which are called octets or bytes. But the real secret is that an IP address is just half of the IP network address. The other part is the subnet mask. The mathematical combination of the IP address and subnet mask is what a router uses to determine the network of some packet it received.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>An IP address has 4 octets. Each octet can represent 256 individual bits. So 4 octets of 256 each means that this type of number can potentially represent 2^32 or 4,294,967,296 individual addresses.</strong></span></p></blockquote></div><p>In decimal...</p><div class="informalfigure"><a id="med_id00272a"></a><div class="mediaobject"><a id="med_id00272"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566608.png" alt="image with no caption" width="699" height="453"></div></div><div class="note" title="Relax"><h3 class="title"><a id="ch06note08"></a>Relax</h3><p><span class="strong"><strong>This is just a first look at IP addressing.</strong></span></p><p>We’re introducing IP addressing to you here so we can talk about routers. You will learn much more on IP addressing in upcoming chapters.</p></div></div><div class="sect1" title="Routers connect networks by doing the math..."><div class="titlepage"><div><div><h1 class="title"><a id="routers_connect_networks_by_doing_the_ma"></a>Routers connect networks by doing the math...</h1></div></div></div><p><span class="strong"><strong>What type of math do you think a router uses to determine when it needs to route a packet to another network?</strong></span></p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><span class="strong"><strong>The top computer sends a packet to 192.168.200.2. It sends this to its default gateway since it is destined for another network.</strong></span></p><div class="informalfigure"><a id="med_id00273a"></a><div class="mediaobject"><a id="med_id00273"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566610.png" alt="image with no caption" width="643" height="522"></div></div></li><li class="listitem"><p><span class="strong"><strong>The router looks inside the packet, it compares the destination network address with addresses in its routing table. Based on that, <span class="underline">if it can</span>, it forwards the packet to the correct device.</strong></span></p></li><li class="listitem"><p><span class="strong"><strong>The computer receives the packet from the router. The router has changed the destination MAC address to the receiving computer’s MAC and the source MAC address to the router’s.</strong></span></p></li></ol></div><div class="sidebar"><a id="be_the_router"></a><p class="title">BE the Router</p><p><a id="iddle1313" class="indexterm"></a><span class="strong"><strong>Your job is to play router and circle which packets in the trace below need to be moved from one network to another.</strong></span></p><div class="informalfigure"><a id="med_id00274a"></a><div class="mediaobject"><a id="med_id00274"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566612.png" alt="image with no caption" width="754" height="653"></div></div></div><div class="sidebar"><a id="be_the_router_solution"></a><p class="title">BE the Router Solution</p><p><a id="iddle1611" class="indexterm"></a><span class="strong"><strong>Your job is to play router and circle which packets in the trace below need to be moved from one network to another.</strong></span></p><div class="informalfigure"><a id="med_id00275a"></a><div class="mediaobject"><a id="med_id00275"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566614.png" alt="image with no caption" width="778" height="468"></div></div></div><div class="sidebar"><a id="router_exposed"></a><p class="title">The Router Exposed</p><p><span class="strong"><strong>This week’s interview: How do you move that network traffic?</strong></span></p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;How are you doing this morning?</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;Busy as ever moving those packets. Seems everyone is doing something on the Internet these days.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;Packets? I thought routers move frames around.</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;Well, I see the frames, but really they are all packets to me. I have to take them apart and put them back together after all.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;That must really slow things down. Can’t you just take a peek at the MAC address and send the frame on its way. You really should try that. I think it might help with the speed of the Internet.</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;That’s all well and good when you are dealing with one network, but I have to move data from one network to others, and a MAC address just does not let me do that. There is no network information in a MAC address. It is like knowing a house number and street name, but not the city, state, or country.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;Isn’t that how switches move frames around a network?</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;Key word there is A NETWORK.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;So a switch cannot route network traffic, is that what you are saying?</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;That is exactly what I am saying. They do not even have the proper software to deal with routing.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;But if we installed software on a switch, it could route then?</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;Then it would be called a router, wouldn’t it?</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;I guess you’re right. But aren’t there network devices that do switching and routing?</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;Yes there are. These are very expensive enterprise router/switches. They can have both behaviors. The can also route packets using other information besides IP addresses.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;Oh you mean like other network protocols?</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;Yes. They can also be very fast because they can combine switching and routing into something called Layer 3 Switching. This essentially means moving routing into the hardware like switching is.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;So we’ve heard that you run the Internet. Is that true?</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;The Internet is built on the back of routers. These routers are called backbone routers. So, yes, it’s true.</p><p title="Head First:"><span class="title"><strong><span class="strong"><strong>Head First:</strong></span></strong></span>&nbsp;Well thank you for the interview. Have fun moving those ... packets ... around.</p><p title="Router:"><span class="title"><strong><span class="strong"><strong>Router:</strong></span></strong></span>&nbsp;It was enjoyable to talk to you as well.</p></div><div class="sidebar"><a id="exercise-id00086"></a><p class="title">Exercise</p><p>For each IP address/subnet pair, write down the network part of the IP address and the host part of the IP address.</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>IP Address</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Subnet Mask</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Network Address</strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Host Address</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.168.100.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.255.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>192.168.100</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>1</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.168.100.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>10.10.0.103</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.0.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.154.234.2</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>203.54.2.23</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.255.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.67.212.22</strong></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; ">&nbsp;</td><td style="">&nbsp;</td></tr></tbody></table></div></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00087"></a><p class="title">There are no Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa3qe1"></a><a id="ch06qa3q1"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: What is with the number 255? Why can’t it be a larger number?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa3q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> 256 is the decimal number that 8 bits or 2<sup>8</sup> can represent. The standard for TCP/IP address was written using 32 bits divided into 4-8 bit groups. We start counting at 0, so that gives us 255 as the highest number.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa3qe2"></a><a id="ch06qa3q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: That makes for a lot of addresses. But I have read that the Internet is running out of addresses. How can that be with so many available?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa3q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Part of the problem is that historically IP address space has been given out in several different size chunks called Classes. These are Class A, B, and C. The scheme is rather wasteful, so many addresses may not be in actual use. Plus there are many reserved addresses, such as the private IP address spaces.</p><p>All of these issues plus the fact that there are a lot of devices connected to the Internet, means that the pool of available IP addresses is pretty limited and getting smaller.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa3qe3"></a><a id="ch06qa3q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: So is the Internet doomed?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa3q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> No, there are some smart people out there. They have designed a new IP address space called IPv6. The old one that we are talking about is called IPv4. This new address space has about 3.4x10<sup>38</sup> addresses available. Plus it has some other mechanisms designed in to help manage the address space.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa3qe4"></a><a id="ch06qa3q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: When is the Internet going to move to that address space?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa3q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> It is happening as we speak. For about 10 years, a very slow transition has been happening. All of the routers, switches, computers, etc. that are connected to the Internet have to be upgraded to support IPv6, or they have to be replaced. This takes a boat-load of money and time.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa3qe5"></a><a id="ch06qa3q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Back to the subnet, why is it called a mask?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa3q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> The subnet is used as a mask on the IP address to see either the host address or the network address, depending on what it needed. The mask is just like a Halloween mask with eye holes. The mask blocks all of your face except for your eyes. In the case of a subnet, the 255 are all ones, so if you use the boolean AND operator to combine the IP address and subnet mask, you get just the network address without the host part. This is what the router uses to know if it needs to route a packet.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="sharpen_your_pencil-id00088"></a><p class="title">Sharpen your pencil</p><p><a id="iddle1603" class="indexterm"></a>Based on the routing table below, decide whether or not it is routable, and if so, on which interface it will send the packet.</p><div class="informalfigure"><a id="med_id00276a"></a><div class="mediaobject"><a id="med_id00276"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566616.png" alt="image with no caption" width="695" height="442"></div></div><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Destination</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Source</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Routable</strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Interface</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.16.10.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.12</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>FastEthernet0/0</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.168.100.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.12</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.12</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.13</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>10.52.1.18</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.16.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.4</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.205.15</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.54</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.19.152.42</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.57</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">&nbsp;</td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.57</strong></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.204.81</strong></span></p></td><td style="border-right: 0.5pt solid ; ">&nbsp;</td><td style="">&nbsp;</td></tr></tbody></table></div></div><div class="sidebar"><a id="exercise_solution-id00089"></a><p class="title">Exercise Solution</p><p><a id="iddle1312" class="indexterm"></a><a id="iddle1316" class="indexterm"></a><a id="iddle1319" class="indexterm"></a><a id="iddle1423" class="indexterm"></a><a id="iddle1424" class="indexterm"></a><a id="iddle1455" class="indexterm"></a><a id="iddle1719" class="indexterm"></a>For each IP address/subnet pair, write down the network part of the IP address and the host part of the IP address.</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>IP Address</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Subnet Mask</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Network Address</strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Host Address</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.168.100.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.255.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>192.168.100</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>1</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.168.100.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>192.168</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>100.1</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>10.10.0.103</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.0.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>10</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>10.0.103</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.154.234.2</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>192.154</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>234.2</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>203.54.2.23</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.255.0</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>203.54.2</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>23</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.67.212.22</strong></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>255.255.0.0</strong></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p>204.67</p></td><td style="" valign="top"><p>212.22</p></td></tr></tbody></table></div></div><div class="sidebar"><a id="sharpen_your_pencil_solution-id00090"></a><p class="title">Sharpen your pencil Solution</p><p>Based on the routing table below, decide whether or not it is routable, and if so, on which interface it will send the packet.</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col><col><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Destination</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Source</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Routable</strong></span></p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>Interface</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.16.10.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.12</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>FastEthernet0/0</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>192.168.100.1</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.12</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>FastEthernet0/0</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.12</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.13</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>No</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>10.52.1.18</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>FastEthernet0/0</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.16.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>FastEthernet0/1</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.3</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.4</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>No</p></td><td style="border-bottom: 0.5pt solid ; ">&nbsp;</td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.205.15</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.54</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>FastEthernet0/0</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.19.152.42</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.201.57</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="border-bottom: 0.5pt solid ; " valign="top"><p>FastEthernet0/0</p></td></tr><tr><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>172.17.0.57</strong></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p><span class="strong"><strong>204.62.204.81</strong></span></p></td><td style="border-right: 0.5pt solid ; " valign="top"><p>Yes</p></td><td style="" valign="top"><p>FastEthernet0/1</p></td></tr></tbody></table></div></div></div><div class="sect1" title="Back at the Moonbase..."><div class="titlepage"><div><div><h1 class="title"><a id="back_at_the_moonbasehellip"></a>Back at the Moonbase...</h1></div></div></div><div class="informalfigure"><a id="med_id00277a"></a><div class="mediaobject"><a id="med_id00277"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566618.png.jpg" alt="image with no caption" width="600" height="702"></div></div><p>So far we’ve connected the Moonbase and ISS networks together using a router. The trouble is, we’ve only connected the two networks together physically, and not logically. In order for the two networks to talk to each other, we need to sort out the logical connection too. In other words, we need to tell the router how the IP addresses of the two networks relate, and to do this, we need to learn how to program the router.</p><p><span class="strong"><strong>Sound difficult? Don’t worry, just turn the page, and we’ll show you how it’s done.</strong></span></p></div><div class="sect1" title="Are you ready to program the router?"><div class="titlepage"><div><div><h1 class="title"><a id="are_you_ready_to_program_the_routerquest"></a>Are you ready to program the router?</h1></div></div></div><div class="informalfigure"><a id="med_id00278a"></a><div class="mediaobject"><a id="med_id00278"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566620.png" alt="image with no caption" width="1000" height="475"></div></div><div class="note" title="Watch it!"><h3 class="title"><a id="ch06note09"></a>Watch it!</h3><p><span class="strong"><strong>The commands used below are for a Cisco router.</strong></span></p><p><span class="emphasis"><em>Most routers will have very similar commands. Read your router’s documentation to find out more.</em></span></p></div><p><span class="strong"><strong>So what did this do?</strong></span></p></div><div class="sect1" title="You just created this router config file!"><div class="titlepage"><div><div><h1 class="title"><a id="you_just_created_this_router_config_file"></a>You just created this router config file!</h1></div></div></div><p><a id="iddle1620" class="indexterm"></a>On the previous page, when you exited the configuration mode, the router wrote all those commands to the “running-configuration” file. When you typed the <code class="literal">write mem</code> command, you saved the running-configuration to the startup-configuration which is generally stored in flash memory.</p><div class="informalfigure"><a id="med_id00279a"></a><div class="mediaobject"><a id="med_id00279"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566622.png" alt="image with no caption" width="528" height="330"></div></div><p><span class="strong"><strong>So has this sorted out all the problems?</strong></span></p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Routers can download their configuration files from network file servers like tftp servers. You can also create a configuration file with a text editor then upload it to the router using the same type of service.</strong></span></p></blockquote></div><div class="informalfigure"><a id="med_id00280a"></a><div class="mediaobject"><a id="med_id00280"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566624.png.jpg" alt="image with no caption" width="521" height="512"></div></div><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;<a id="iddle1608" class="indexterm"></a><a id="iddle1826" class="indexterm"></a>I can see the computers are trying to send traffic, but the router just doesn’t seem to be doing anything with that traffic.</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;I wonder whether it’s a problem with the router configuration. What do you think?</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;It looks OK to me, but I don’t really know that much about router configurations.</p><p title="Jim:"><span class="title"><strong><span class="strong"><strong>Jim:</strong></span></strong></span>&nbsp;We could do with a way of getting diagnostic information from the router. Something like that could really help us out here.</p><p title="Frank:"><span class="title"><strong><span class="strong"><strong>Frank:</strong></span></strong></span>&nbsp;Routers are pretty intelligent, so there must be some sort of command that will show us information on the interfaces.</p><p><span class="strong"><strong>So how do we get diagnostic information from the router?</strong></span></p></div><div class="sect1" title="Let the router tell us what’s wrong..."><div class="titlepage"><div><div><h1 class="title"><a id="let_the_router_tell_us_whatapostrophes_w"></a>Let the router tell us what’s wrong...</h1></div></div></div><p><a id="iddle1610" class="indexterm"></a>You can get a lot of information from routers. Sometimes too much. What is important is to find <span class="emphasis"><em>useful</em></span> information. At first looking at all the statistics can be a bit overwhelming, but most problems tends to be rather simple ones. So look for the “low hanging fruit.”</p><div class="informalfigure"><a id="med_id00281a"></a><div class="mediaobject"><a id="med_id00281"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566626.png" alt="image with no caption" width="745" height="605"></div></div><div class="sidebar"><a id="exercise-id00091"></a><p class="title">Exercise</p><p>OK, it is time to be a network engineer for real. On the facing page we have pointed out four things that are giving you information on what the problem is with this router. Write down at least three things that could cause this interface to have these kinds of readings.</p><p>__________________________________________________________________________</p><p>__________________________________________________________________________</p><p>__________________________________________________________________________</p><p>__________________________________________________________________________</p><p>__________________________________________________________________________</p><p>__________________________________________________________________________</p></div><div class="sidebar"><a id="there_are_no_dumb_questions-id00092"></a><p class="title">There are no Dumb Questions</p><div class="blockquote"><blockquote class="blockquote"><div class="qandaset" title="Frequently Asked Questions"><table border="0" width="100%" summary="Q and A Set"><colgroup><col align="left" width="1%"><col></colgroup><tbody><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa4qe1"></a><a id="ch06qa4q1"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Do routers have anything configured when they are new?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa4q1a1"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> When you get a new router, there is no configuration on it at all. You have decided how to connect the router up and how it is going to connect between networks.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa4qe2"></a><a id="ch06qa4q2"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Does it matter which network interface it’s connected to?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa4q2a2"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> It depends on the physical network cabling. If you are connecting 2 Ethernet networks, then it really does not matter. However, if you are connecting an Ethernet network to another network through a T-1 line, then you must use a serial interface.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa4qe3"></a><a id="ch06qa4q3"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Routers can have more than one interface type?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa4q3a3"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Routers come with many different network interface types. This includes Ethernet, Token Ring, serial, wireless, ATM, DSL. The list goes on and on. If there are bits traveling on a physical media, there is a router to move those bits to another physical media.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa4qe4"></a><a id="ch06qa4q4"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: Can a single router have multiple interface types?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa4q4a4"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Yes, as many as you are willing to pay for. Also, a router can have different physical media (fiber, copper, radio waves) for a given protocol like Ethernet. Ethernet can travel over fiber or copper lines.</p></td></tr><tr class="question" title="Q:"><td align="left" valign="top"><a id="ch06qa4qe5"></a><a id="ch06qa4q5"></a><p>Q:</p></td><td align="left" valign="top"><p><span class="strong"><strong>Q: What are the most common router problems?</strong></span></p></td></tr><tr class="answer"><td align="left" valign="top"><a id="ch06qa4q5a5"></a><p>A:</p></td><td align="left" valign="top"><p><span class="strong"><strong>A:</strong></span> Most router problems are related to a problem with physical media. Once a router is configured properly, generally the only thing that will cause problems is broken cables, disconnected cables, interference, etc. When a network with routers is configured, it can run for years without issues.</p></td></tr></tbody></table></div></blockquote></div></div><div class="sidebar"><a id="exercise_solution-id00093"></a><p class="title">Exercise Solution</p><p><a id="iddle1613" class="indexterm"></a>OK, it is time to be a network engineer for real. On the facing page we have pointed out four things that are giving you information on what the problem is with this router. Write down at least three things that could cause this interface to have these kinds of readings.</p><p>There is no traffic, so for some reason the interface is not getting traffic.</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>The cable could be broken</p></li><li class="listitem"><p>It could be a bad connector</p></li><li class="listitem"><p>The device on the other end could be down</p></li><li class="listitem"><p>The interface could be shutdown (look at the config file you created!)</p></li></ol></div></div><div class="informalfigure"><a id="med_id00282a"></a><div class="mediaobject"><a id="med_id00282"></a><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/httpatomoreillycomsourceoreillyimages1566628.png.jpg" alt="image with no caption" width="689" height="517"></div></div></div></div></div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9780596804398/files/core.css" crossorigin="anonymous"></div></div></section>
</div>


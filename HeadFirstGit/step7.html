<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
    
</style>
<link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/epub.css" crossorigin="anonymous">
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 7. Searching Git Repositories: Git a Grep"><div class="chapter" id="searching_git_repositoriescolon_git_a_gr">
        <h1><span class="label">Chapter 7. </span>Searching Git Repositories: <em>Git a Grep</em></h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0349-01.png" alt="Image" width="600" height="337">
        <h6></h6>
        </div></figure>
        <p><strong>The truth is, your project and its commit history are going to grow over time.</strong> Every so often, you will need to search your files for a particular piece of text. Or perhaps you’ll want to see who changed a file, when it was changed, and the commit that changed it. Git can help you with all of that.</p>
        <p>And then there is your commit history. Each commit represents a change. Git allows you to search not only for every instance of a piece of text in your project, but also for when it was added (or removed). It can help you search your commit messages. To top it off, sometimes you want to find the commit that introduced a bug or a typo. Git offers a special facility that allows you to quickly zero in on that commit.</p>
        <p>What are we waiting for? Let’s go search some Git repositories, shall we?</p>
        <section data-type="sect1" data-pdf-bookmark="Taking things to the next level"><div class="sect1" id="taking_things_to_the_next_level">
        <h1>Taking things to the next level</h1>
        <p>Business is booming! Trinity’s event-planning business has really blossomed, thanks to repeat customers. Speaking of which, Gitanjali and Aref have hired Trinity again—this time to plan their wedding.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0350-01.png" alt="Image" width="600" height="524">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00246">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="cloning" id="idm45426358660624"></a><a data-type="indexterm" data-primary="cloning" data-secondary="forking" id="idm45426357995952"></a><a data-type="indexterm" data-primary="forking" id="idm45426357994848"></a><a data-type="indexterm" data-primary="forking" data-secondary="cloning" id="idm45426357994016"></a>You’ll find Trinity and Armstrong’s repository for Gitanjali and Aref’s wedding plans here: <em><a href="https://github.com/looselytyped/gitanjali-aref-wedding-plans">https://github.com/looselytyped/gitanjali-aref-wedding-plans</a></em></p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Clone this repository locally. Start by listing the command you are going to use here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Take a look around the repository and answer the following questions:</p>
        <p>How many branches are there in the repository? _________________________</p>
        <p>How many commits are there on the master branch? _________________________</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, use the <code>git log --graph --oneline --all</code> command to take a look at the history. Read the commit messages carefully.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00273">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00247">
        <h5>there are no Dumb Questions</h5>
        <p><strong>Q: In the last chapter, you made me fork before cloning. Now we’re back to just cloning. What’s up with that?</strong></p>
        <p><strong>A:</strong> In the last chapter, our exercises involved pushing commits to the remote. In order to do that, you need permissions to write to the repository, which you automatically get when you fork the repository, because GitHub will copy over the original repository to your account.</p>
        <p>This chapter revolves around searching Git repositories, so as long as you have a clone, you will be able to do everything that we ask of you. In other words, you’ll be working only in your clone—no pushing or pulling required. However, if you wish, you can always fork and then clone. Just be sure you use the right clone URL. After forking, the clone URL will have your username in it, instead of ours.</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="A walk through the commit history"><div class="sect1" id="a_walk_through_the_commit_history">
        <h1>A walk through the commit history</h1>
        <p><a data-type="indexterm" data-primary="commit histories" data-secondary="overview" id="idm45426357997136"></a>Let’s take a quick tour of the commit history for the <code>gitanjali-aref-wedding-plans</code> repository so we are all on the same page.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0352-01.png" alt="Image" width="600" height="685">
        <h6></h6>
        </div></figure>
        <p>As you can see, there’s been a lot of activity in this repository, with both Trinity and Armstrong committing several times. We only have one branch—<code>master</code>—and we are on it: <code>HEAD</code> is pointing to the same commit ID as <code>master</code> is.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">We talked about HEAD in <a data-type="xref" href="ch04.html#undoingcolon_fixing_your_mistakes">Chapter&nbsp;4</a>, so if you need a refresher, “head” back there. (See what we did there?) We’ll be right here waiting.</span></p>
        </div>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Cubicle conversation"><div class="sect1" id="cubicle_conversation-id00248">
        <h1>Cubicle conversation</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0353-01.png" alt="Image" width="476" height="283">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="blame command" data-secondary="change tracking" id="idm45426357958848"></a><a data-type="indexterm" data-primary="change tracking" data-secondary="blame command" id="idm45426357957568"></a><a data-type="indexterm" data-primary="git blame command" data-secondary="change tracking" id="idm45426357956464"></a><a data-type="indexterm" data-primary="revisions" data-see="change tracking" id="idm45426357955360"></a><strong>Armstrong:</strong> Hey, Trinity! I just got off the phone with Gitanjali. We had discussed offering nonalcoholic options to the guests, and I see the change in the <code>drinks.md</code> file, but I don’t remember making it. Did you?</p>
        <p><strong>Trinity:</strong> I guess one of us has. Why does it matter?</p>
        <p><strong>Armstrong:</strong> Well, the sample menus we sent Gitanjali and Aref don’t have nonalcoholic options listed, so I was wondering if we sent the samples before we made the change or if something slipped through the cracks at the printer’s.</p>
        <p><strong>Trinity:</strong> Well, that’s why we use Git! We can easily tell when a particular line or set of lines was changed in a file.</p>
        <p><strong>Armstrong:</strong> Really? Show me—that’s a good thing to know.</p>
        <p><strong>Trinity:</strong> The magic incantation is a command called <code>git blame</code>. For each line in a file, it will show you the commit ID, author info, timestamp, and commit message that last affected that line.</p>
        <p><strong>Armstrong:</strong> I’m going to try that right now. Cheers!</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Seeing who changed what and when with git blame"><div class="sect1" id="seeing_who_changed_what_and_when_with_gi">
        <h1>Seeing who changed what and when with git blame</h1>
        <p>Every commit you make introduces “diffs”—files that were added or removed or edits to existing files, like adding or removing content—from the previous change. And Git is absolutely brilliant at tracking those changes: it can tell you exactly when a line was changed, who changed it, and the ID of the commit that introduced that change. To see this, use the <code>git blame</code> command:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0353-02.png" alt="Image" width="575" height="131">
        <h6></h6>
        </div></figure>
        <p>Next, let’s dissect the output.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Using git blame"><div class="sect1" id="using_git_blame">
        <h1>Using git blame</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0354-01.png" alt="Image" width="208" height="190">
        <h6></h6>
        </div></figure>
        <p>Let’s spend a few minutes looking at what <code>git blame</code> has to offer. To see the revisions made to the <code>drinks.md</code> file over its lifetime, you’d run:</p>
        <p><strong>git blame drinks.md</strong></p>
        <p>And you would see this:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0354-02.png" alt="Image" width="600" height="276">
        <h6></h6>
        </div></figure>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0354-03.png" alt="Image" width="600" height="87">
        <h6></h6>
        </div></figure>
        <p>The <code>git blame</code> command, much like <code>git log</code> and <code>git diff</code>, uses the pager to display its output. So you can use the up/down arrow keys if the output exceeds the length of your terminal window, and you’ll need to type “q” (for quit) to get back to the prompt.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0354-04.png" alt="Image" width="286" height="344">
        <h6></h6>
        </div></figure>
        <p>As you can see, <code>git blame</code> can tell you who last changed a line and details about the commit that recorded that change. This is a super handy and quick way to figure out who last edited or added a line.</p>
        <p><code>git blame</code> <em>cannot</em> tell you whether a line was added or how it changed—it only gives details about the last revision to that line. Furthermore, since <code>git blame</code> only looks at the lines in the file at the time you run it, it cannot tell you about deleted lines.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="git blame using Git repository managers"><div class="sect1" id="git_blame_using_git_repository_managers">
        <h1>git blame using Git repository managers</h1>
        <p><a data-type="indexterm" data-primary="GitHub" data-secondary="blame command output" id="idm45426357947216"></a><a data-type="indexterm" data-primary="repository managers" data-secondary="blame command output" id="idm45426357917312"></a>The <code>git blame</code> command is so useful that most Git repository manager web interfaces give you an easy way to look at its output. If you navigate to the repository on GitHub and look at the contents of any file, this is what you’ll see:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0355-01.png" alt="Image" width="600" height="348">
        <h6></h6>
        </div></figure>
        <p>If you were to click on the “Blame” button, this is what you’d see:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0355-02.png" alt="Image" width="600" height="280">
        <h6></h6>
        </div></figure>
        <p>If multiple lines were edited in the same commit, GitHub helpfully collates them and displays the date in a slightly more “human” format. Otherwise, it’s the same output!</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="A few more details about git blame"><div class="sect1" id="a_few_more_details_about_git_blame">
        <h1>A few more details about git blame</h1>
        <p><a data-type="indexterm" data-primary="commit IDs" data-secondary="revision histories, reviewing" id="idm45426357913328"></a><a data-type="indexterm" data-primary="commits" data-secondary="HEAD" data-tertiary="blame command" id="idm45426357912224"></a><a data-type="indexterm" data-primary="files" data-secondary="revision histories, viewing" id="idm45426357910848"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="commits" id="idm45426357909776"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="commits" data-tertiary="blame command" id="idm45426357908672"></a>When you run the <code>git blame</code> command, pay attention to which commit <code>HEAD</code> is pointing to. By default, Git will show you revisions made to change the file as it existed at the time of that commit.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0356-01.png" alt="Image" width="600" height="69">
        <h6></h6>
        </div></figure>
        <p>This means that we can ask <code>git blame</code> to show us the revision history of a file at any commit, simply by giving it the commit ID and the filename! Suppose one of the commits you see in the <code>git blame</code> output happens to be <code>c3668177</code>. You can supply that ID to <code>git blame</code>, and it will show you the revision history of the file as it looked at the moment the commit was made.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0356-02.png" alt="Image" width="600" height="94">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00249">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Let’s get you some hands-on experience with <code>git blame</code>.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> You are going to use the <code>git blame</code> command to look over the revisions that have been made to the <code>appetizers.md</code> file in the <code>gitanjali-aref-wedding-plans</code> repository that you cloned at the beginning of this chapter. Start by listing out the command you are going to use:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, answer the following questions:</p>
        <p>How many authors have contributed to this file? ____________________</p>
        <p>When was the last edit to this file made? ____________________</p>
        <p>Who last edited line number 5? ____________________</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">When you are done, be sure to hit the “q” key to return back to the prompt.</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, use the GitHub web interface to see if you can see the <code>git blame</code> output there as well.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00274">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00250">
        <h5>Serious Coding</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cap.png" alt="Image" width="123" height="128">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="blame command" data-secondary="flags" id="idm45426357878448"></a><a data-type="indexterm" data-primary="branches" data-secondary="blame command" id="idm45426357877200"></a><a data-type="indexterm" data-primary="flags" data-secondary="blame command" id="idm45426357876096"></a><a data-type="indexterm" data-primary="flags" data-secondary="blame command" data-tertiary="-s" id="idm45426357874992"></a><a data-type="indexterm" data-primary="git blame command" data-secondary="flags" id="idm45426357873616"></a><a data-type="indexterm" data-primary="-s flag (blame command)" id="idm45426357872512"></a>All throughout this book we’ve explored tons of commands. Many, like <code>log</code> and <code>branch</code>, support a slew of flags that can tweak their behavior. And so does the <code>git blame</code> command! Don’t want to see the author and timestamp info? Supply the -<code>s</code> (for suppress) command and Git will only display the commit ID and line numbers. You can even tweak how the <code>git blame</code> output formats dates.</p>
        <p>As you’ve seen, you can supply the <code>git blame</code> command a commit ID to see the revisions for a particular file at a particular point in your commit history. You can even supply the name of a branch instead—in case you want to see how a file was modified in another branch. (Recall that every branch points to a commit ID—so when you supply the <code>git blame</code> command with a branch name, you are asking Git to use the commit ID that branch points to.)</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Searching Git repositories"><div class="sect1" id="searching_git_repositories">
        <h1>Searching Git repositories</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0357-02.png" alt="Image" width="306" height="195">
        <h6></h6>
        </div></figure>
        <p><strong>Armstrong:</strong> You think sometimes we get carried away?</p>
        <p><strong>Trinity:</strong> What do you mean?</p>
        <p><strong>Armstrong:</strong> We work on so many different projects and sometimes I feel that we overuse certain words and phrases. I feel like we may have used both <em>autumn</em> and <em>fall</em> in the menus for Gitanjali and Aref’s wedding reception.</p>
        <p><strong>Trinity:</strong> Well, we can always search the project, right?</p>
        <p><strong>Armstrong:</strong> Yeah, but I just switched workspaces to work on the Zimmermans’ annual company outing plans, and it seems like a pain to switch back. Maybe I’ll do it later when I get a minute.</p>
        <p><strong>Trinity:</strong> I’ll give you a hint—look up the <code>grep</code> command. I have a feeling it’s going to make your life a lot easier.</p>
        <p><strong>Armstrong:</strong> You always have the answer, don’t you?</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Searching Git repositories with grep"><div class="sect1" id="searching_git_repositories_with_grep">
        <h1>Searching Git repositories with grep</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0358-01.png" alt="Image" width="193" height="256">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="double quotation marks (“)" data-secondary="grep command" id="idm45426357852688"></a><a data-type="indexterm" data-primary="git grep command" data-secondary="output" id="idm45426357851472"></a><a data-type="indexterm" data-primary="git grep command" data-secondary="overview" id="idm45426357850368"></a><a data-type="indexterm" data-primary="grep command" data-secondary="output" id="idm45426357849264"></a><a data-type="indexterm" data-primary="grep command" data-secondary="overview" id="idm45426357848160"></a><a data-type="indexterm" data-primary="quit command, terminal window" id="idm45426357847056"></a><a data-type="indexterm" data-primary="repositories" data-secondary="searching" id="idm45426357846256"></a><a data-type="indexterm" data-primary="terminal window" data-secondary="quit command" id="idm45426357845152"></a>Every so often you might have to search your Git repository for a particular word or phrase. You probably know that most editors can perform a global search across all the files in a project. But guess what? Git can help here too! The command you are looking for is <code>git grep</code>, and you can supply it any string, like so:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0358-02.png" alt="Image" width="437" height="135">
        <h6></h6>
        </div></figure>
        <p>If you are looking for a phrase, wrap it in double quotes:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0358-03.png" alt="Image" width="600" height="113">
        <h6></h6>
        </div></figure>
        <p>Let’s say you want to find all the places where you used Aref’s name. You can grep for it (using <code>git grep Aref</code>), and this is what Git will present you:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0358-04.png" alt="Image" width="600" height="108">
        <h6></h6>
        </div></figure>
        <p>There are a couple of things to note about <code>git grep</code>’s output. First, Git will list out every instance that contains the string you are searching for, which means you might see the same filename listed multiple times (if the word you are looking for happens to be in a file more than once). Git also lists files in alphabetical order, making it easier to scan if you are looking for a particular file.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Uppercase letters appear before lowercase letters.</span></p>
        </div>
        <p>As with <code>git blame</code>, Git <code>grep</code> displays the search results in a pager, so you’ll use the up/down arrow keys to move around and the “q” key to quit the pager.</p>
        <p>Next, let’s look at some useful options that the <code>git grep</code> command supports.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="git grep options"><div class="sect1" id="git_grep_options">
        <h1>git grep options</h1>
        <p><a data-type="indexterm" data-primary="case-sensitive searching, grep command" id="idm45426357823440"></a><a data-type="indexterm" data-primary="flags" data-secondary="grep command" id="idm45426357822848"></a><a data-type="indexterm" data-primary="flags" data-secondary="grep command" data-tertiary="-i or --ignore-case" id="idm45426357821808"></a><a data-type="indexterm" data-primary="flags" data-secondary="grep command" data-tertiary="-l or --line-number" id="idm45426357820432"></a><a data-type="indexterm" data-primary="flags" data-secondary="grep command" data-tertiary="-n or --name-only" id="idm45426357819056"></a><a data-type="indexterm" data-primary="git grep command" data-secondary="flags" id="idm45426357817680"></a><a data-type="indexterm" data-primary="grep command" data-secondary="flags" id="idm45426357816576"></a><a data-type="indexterm" data-primary="-i flag (grep command)" id="idm45426357815472"></a><a data-type="indexterm" data-primary="--ignore-case flag (grep command)" id="idm45426357814640"></a><a data-type="indexterm" data-primary="-l flag (grep command)" id="idm45426357813840"></a><a data-type="indexterm" data-primary="--line-number flag (grep command)" id="idm45426357813008"></a><a data-type="indexterm" data-primary="--name-only flag (grep command)" id="idm45426357812208"></a><a data-type="indexterm" data-primary="-n flag (grep command)" id="idm45426357811408"></a>It shouldn’t surprise you that the <code>grep</code> command also supports plenty of flags. Here are some of the more useful ones:</p>
        <section data-type="sect2" data-pdf-bookmark="Case-insensitive search"><div class="sect2" id="casehypheninsensitive_search">
        <h2>Case-insensitive search</h2>
        <p>The <code>git grep</code> command, by default, respects the case of the string you supply it. If you search for “cheese”, Git grep will not list any instances that have “Cheese” (uppercase “C”) or “CHEESE” (all uppercase) or anything that does not match “cheese” exactly. But often you don’t know (or remember) whether you <em>politely</em> asked for cheese or screamed it at the top of your lungs. You can use the <code>-i</code> (or its longhand version <code>--ignore-case</code>) to make your search case-insensitive:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0359-01.png" alt="Image" width="600" height="91">
        <h6></h6>
        </div></figure>
        </div></section>
        <section data-type="sect2" data-pdf-bookmark="Displaying line numbers"><div class="sect2" id="displaying_line_numbers">
        <h2>Displaying line numbers</h2>
        <p>You might have noticed that <code>git grep</code>’s output only lists the names of files and the corresponding content that contains the search term. That’s fine for some searches, but if you ever want <code>grep</code> to list line numbers, then you’ll need to supply it the <code>-n</code> (shorthand for <code>--line-number</code>) flag. This option is useful if the files contained in your repository tend to be long.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0359-02.png" alt="Image" width="385" height="144">
        <h6></h6>
        </div></figure>
        </div></section>
        <section data-type="sect2" data-pdf-bookmark="List only filenames"><div class="sect2" id="list_only_filenames">
        <h2>List only filenames</h2>
        <p>Sometimes you don’t care to know what lines match, only which files contain certain terms. The <code>-l</code> (lowercase “L,” which is shorthand for <code>--name-only</code>) only lists the names of the files that matched. This list, too, is alphabetized. However, a file will be only listed once, even if there are multiple lines that match within that file.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0359-03.png" alt="Image" width="344" height="161">
        <h6></h6>
        </div></figure>
        </div></section>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="The git grep flags combo"><div class="sect1" id="the_git_grep_flags_combo">
        <h1>The git grep flags combo</h1>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">With a side of fries—yes, please!</span></p>
        </div>
        <p><a data-type="indexterm" data-primary="git grep command" data-secondary="default behavior" id="idm45426357787488"></a><a data-type="indexterm" data-primary="git grep command" data-secondary="flag combinations" id="idm45426357786288"></a><a data-type="indexterm" data-primary="grep command" data-secondary="default behavior" id="idm45426357785184"></a><a data-type="indexterm" data-primary="grep command" data-secondary="flag combinations" id="idm45426357784080"></a><a data-type="indexterm" data-primary="grep command" data-secondary="regular expressions" id="idm45426357782976"></a><a data-type="indexterm" data-primary="regular expressions" data-secondary="grep command" id="idm45426357781872"></a><a data-type="indexterm" data-primary="repositories" data-secondary="indexes, grep command" id="idm45426357780768"></a>Naturally, it often makes sense to combine these flags. Our favorite combination when using the <code>git grep</code> command is to search in case-insensitive mode while displaying line numbers. This is how you would go about doing that:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0360-02.png" alt="Image" width="493" height="190">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00251">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>Git grep only searches files that Git knows about!</strong></p>
        <p><em>The</em> <code>git grep</code> <em>command’s functionality is very specific—<strong>by default</strong>, it only searches files that Git knows about. That is</em>, <code>git grep</code> <em>only searches files that Git is tracking</em>.</p>
        <p><em>This means that if you have files in your repository that you haven’t added to the index yet</em>, <code>git grep</code> <em>will not search those!</em></p>
        <p><em>Also, there is a way to tell Git to ignore some files in a directory (more about this in the next chapter). Git’s</em> <code>grep</code> <em>command will also ignore these files. This is both a boon and a curse: it’s great if you don’t want to search these files because they aren’t technically part of your repository, but it works against you if you do want to search them for a particular use case</em>.</p>
        <p><em>For the latter scenario, you might be better off using your editor’s search facilities or tools like Bash’s</em> <code>grep</code> <em>command</em>.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00252">
        <h5>Serious Coding</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cap.png" alt="Image" width="123" height="128">
        <h6></h6>
        </div></figure>
        <p>There is a mechanism called “regular expressions” that lets you specify patterns to look for—for example, if you wanted to look for any word that is exactly 10 characters long, you can specify it as a regular expression pattern that looks like <code>\w{10}</code>. The <code>git grep</code> command supports both basic and extended regular expression syntax!</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">We can almost hear a few knuckles being cracked right now!</span></p>
        </div>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00253">
        <h5>there are no Dumb Questions</h5>
        <p><a data-type="indexterm" data-primary="Bash grep command compared to git grep command" id="idm45426358054720"></a><a data-type="indexterm" data-primary="git grep command" data-secondary="compared to editor search function" id="idm45426357756736"></a><a data-type="indexterm" data-primary="grep command" data-secondary="compared to Bash grep command" id="idm45426357755664"></a><a data-type="indexterm" data-primary="grep command" data-secondary="compared to editor search function" id="idm45426357754592"></a><a data-type="indexterm" data-primary="text editors" data-secondary="search function compared to grep command" id="idm45426357753520"></a><strong>Q: Why would I use the</strong> <code><strong>git grep</strong></code> <strong>command over my editor’s search facilities?</strong></p>
        <p><strong>A:</strong> Some kinds of projects have files that aren’t technically part of the repository. For example, if you are working with source code, you might have a dependencies folder. Your editor might not know to ignore those files when searching, so you might find a lot more matches than you care about. But Git knows to ignore those files since it isn’t tracking them. We realize we haven’t told you how to tell Git to ignore these files, but it’s one thing we are going to talk about in the next chapter.</p>
        <p><strong>Q: I am familiar with Bash’s grep command. Why would I prefer one over the other?</strong></p>
        <p><strong>A:</strong> Git’s grep, by default, does not search your files. Rather, it searches its index and database, so it can make good use of Git’s efficient internal storage.</p>
        <p>This means that Git’s grep can be a lot faster than Bash grep. On the other hand, if you wish to search all files in a project, including tracked <em>and</em> untracked files, Bash’s grep is your friend.</p>
        <p>However, it’s not an either/or—depending on the use case, we’ve found that we reach for one or the other.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00254">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Time to exercise your new Git grep sleuthing skills. Navigate to the <code>gitanjali-aref-wedding-plans</code> repository in your terminal.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How can you search for all files that contain the word “menu”? Jot that down here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many files did you find?</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, make the search case-insensitive. List the command here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many matches did you get this time around?</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, if you also want to see the line numbers, what would the <code>git grep</code> command look like?</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00275">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Where git blame falls short"><div class="sect1" id="where_git_blame_falls_short">
        <h1>Where git blame falls short</h1>
        <p><a data-type="indexterm" data-primary="blame command" data-secondary="limitations" id="idm45426357718912"></a><a data-type="indexterm" data-primary="change tracking" data-secondary="blame command" data-tertiary="compared to diff command" id="idm45426357717936"></a><a data-type="indexterm" data-primary="diff command" data-secondary="compared to blame command" id="idm45426357716720"></a><a data-type="indexterm" data-primary="git blame command" data-secondary="limitations" id="idm45426357715744"></a>The <code>git blame</code> command is pretty rad. It gives lots of information about a certain file, and you can easily see who changed any line of the file, including details about the commit that affected that line.</p>
        <p>However, Git blame works at a line level! Git blame can tell you <em>when</em> a particular line was last changed, but it can’t tell you <em>what</em> changed in that line when that commit was made. And finally, <code>git blame</code> only looks at one file at a time.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">That’s quite a mouthful, so be sure to read it again.</span></p>
        </div>
        <p>Consider a <strong>single-line file</strong> in a repository that has seen three changes in three commits, like so:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0362-02.png" alt="Image" width="600" height="181">
        <h6></h6>
        </div></figure>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0362-03.png" alt="Image" width="312" height="536">
        <h6></h6>
        </div></figure>
        <p>If you were to run the <code>git blame</code> command giving this file as its argument, it would tell you that commit number 3 changed the line. (Recall that there is only one line in this file.) Except you don’t know what changed.</p>
        <p>So what if you want to know when the word “lazy” showed up in that line? Or when the word “tired” disappeared?</p>
        <p>You might have guessed one option—use the <code>git diff</code> command. Start by comparing the third commit with the second, and if you don’t find what you are looking for, then <code>diff</code> the second commit with the first. Which would work, except it isn’t really efficient and can get rather tiresome if you have more than a handful of commits.</p>
        <p>The solution? Well, Git knows the commits you’ve made, and you know that a commit records the state of the files as they were in the index at that time. Which means Git should be able to compare every commit with its predecessor and see if a particular piece of text was added or deleted.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="git log’s “pickaxe” capability (-S)"><div class="sect1" id="git_logapostrophes_quotation_markpickaxe">
        <h1>git log’s “pickaxe” capability (-S)</h1>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">It’s not as scary as it sounds. We pinky promise.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0363-02.png" alt="Image" width="200" height="219">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="change tracking" data-secondary="commits" id="idm45426358094080"></a><a data-type="indexterm" data-primary="change tracking" data-secondary="log command" id="idm45426358092880"></a><a data-type="indexterm" data-primary="commits" data-secondary="change tracking" id="idm45426357701664"></a><a data-type="indexterm" data-primary="flags" data-secondary="log command" data-tertiary="-S" id="idm45426357700592"></a><a data-type="indexterm" data-primary="git log command" data-secondary="change tracking" id="idm45426357699216"></a><a data-type="indexterm" data-primary="git log command" data-secondary="flags" data-tertiary="-S" id="idm45426357698112"></a><a data-type="indexterm" data-primary="log command" data-secondary="change tracking" id="idm45426357696736"></a><a data-type="indexterm" data-primary="log command" data-secondary="flags" data-tertiary="-S" id="idm45426357695632"></a><a data-type="indexterm" data-primary="pickaxe options (log command)" id="idm45426357694256"></a><a data-type="indexterm" data-primary="-S flag (log command)" id="idm45426357693456"></a>If you ever wanted to know when a particular piece of text was added or removed, you need look no further than our good friend and ally, the <code>git log</code> command. It offers several options to search the “diff” that each commit introduces—that is, <code>git log</code> can help you search the <em>changes</em> introduced by each commit. Consider the first two commits we showed you on the previous page:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0363-03.png" alt="Image" width="600" height="150">
        <h6></h6>
        </div></figure>
        <p>If you are interested in when the word “tired” <em>first</em> appeared or disappeared, you can use the <code>git log</code> command with the <code>-S</code> (uppercase “S”) flag. This lets you search the diffs of each commit like so:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">The search capabilities offered by git log are referred to as the “pickaxe” options. -S is one way to do this. We’ll show you another search option soon.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0363-05.png" alt="Image" width="600" height="185">
        <h6></h6>
        </div></figure>
        <p>And this is what Git will show you:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0363-06.png" alt="Image" width="600" height="272">
        <h6></h6>
        </div></figure>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="git log -S versus blame"><div class="sect1" id="git_log_hyphens_versus_blame">
        <h1>git log -S versus blame</h1>
        <p><a data-type="indexterm" data-primary="blame command" data-secondary="compared to log -S command" id="idm45426357680320"></a><a data-type="indexterm" data-primary="errors" data-secondary="fatal: ambiguous argument" id="idm45426357679040"></a><a data-type="indexterm" data-primary="fatal: ambiguous argument error" id="idm45426357677968"></a><a data-type="indexterm" data-primary="-S flag (log command)" data-secondary="compared to blame command" id="idm45426357677168"></a>There are a couple of differences between the <code>git log</code>’s search results and those of <code>git blame</code>. First, the pickaxe option (<code>-S</code>) is not restricted to a single file. In our example, using the pickaxe option to search for “tired” searches your entire repository—it’s not limited to a single file. You <em>can</em> restrict <code>git log</code> to only display the log for a single file by supplying the filename at the end.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0364-01.png" alt="Image" width="600" height="76">
        <h6></h6>
        </div></figure>
        <p>Think about it this way—<code>git blame</code> is a way to attribute changes in a single file, while <code>git log</code>’s pickaxe option is a search mechanism for your entire repository.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00255">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Let’s put your searching skills to work. Start by navigating to the <code>gitanjali-aref-wedding-plans</code> repository.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How can you go about finding every commit that adds or removes the word “classic” in your repository? Start by listing the command you would use here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Execute! How many commits did your search reveal? __________________</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00276">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-id00256">
        <h5>Brain Power</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/brain.png" alt="Image" width="155" height="176">
        <h6></h6>
        </div></figure>
        <p>Here’s a puzzler for you—in the previous exercise, can you tell whether the word was added or removed? If so, which commit added it and which one removed it? What else could the <code>git log</code> command provide that would help here? <strong>Hint:</strong> Remember, each commit introduces a set of changes, or “diffs.”</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00257">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>Make sure you get the order flags and arguments right!</strong></p>
        <p><em>If you get a</em> <code>fatal: ambiguous argument</code> <em>error from Git when using the</em> <code>-S</code> <em>flag, it’s most likely because you misplaced the flag and argument order. The string you are searching for <strong>must follow</strong> the</em> <code>-S</code> <em>flag, or else you’ll confuse Git</em>.</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Using the “patch” flag with git log"><div class="sect1" id="using_the_quotation_markpatchquotation_m">
        <h1>Using the “patch” flag with git log</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0365-01.png" alt="Image" width="200" height="219">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="flags" data-secondary="log command" data-tertiary="-prune" id="idm45426357649200"></a><a data-type="indexterm" data-primary="flags" data-secondary="log command" data-tertiary="--patch" id="idm45426357647728"></a><a data-type="indexterm" data-primary="git log command" data-secondary="flags" data-tertiary="-p or --prune" id="idm45426357646352"></a><a data-type="indexterm" data-primary="git log command" data-secondary="flags" data-tertiary="--patch" id="idm45426357644976"></a><a data-type="indexterm" data-primary="log command" data-secondary="flags" data-tertiary="-p" id="idm45426357643600"></a><a data-type="indexterm" data-primary="log command" data-secondary="flags" data-tertiary="--patch" id="idm45426357642224"></a><a data-type="indexterm" data-primary="--patch flag (log command)" id="idm45426357640848"></a><a data-type="indexterm" data-primary="-p flag (log command)" id="idm45426357640048"></a>If you ever wanted to see the actual diff that each commit introduced, you can use yet another flag with <code>git log</code>, which is <code>-p</code> (shorthand for <code>--patch</code>). This is true for every instance of <code>git log</code> that we’ve shown you in this book. For example, you could combine the <code>-p</code> flag with our favorite combo of <code>git log</code> flags like so:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0365-02.png" alt="Image" width="600" height="125">
        <h6></h6>
        </div></figure>
        <p>With the “patch” flag, Git will display your commit graph just as you are used to seeing it, along with the differences introduced in each commit:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0365-03.png" alt="Image" width="600" height="139">
        <h6></h6>
        </div></figure>
        <p>Back to searching—combine the pickaxe flag (<code>-S</code>) with the <code>-p</code> (<code>--patch</code>) flag, and <code>git log</code> will show you every commit that has the search string in its diff, as well as the diff itself!</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0365-04.png" alt="Image" width="600" height="265">
        <h6></h6>
        </div></figure>
        <p>So does this get us closer to knowing when the word “tired” appeared or was deleted? Let’s find out.</p>
        <p>If you provide the patch (<code>-p</code>) flag along with the search term (<code>-S</code>), here is what Git has to offer:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0366-01.png" alt="Image" width="600" height="447">
        <h6></h6>
        </div></figure>
        <p>Recall that the <code>git log</code> command displays commits in reverse chronological order, so the commit that introduced the word “tired” is at the bottom of the output, preceded by the commit that changed “tired” to “lazy.”</p>
        <p>And one last piece that’ll make your life easier—like the <code>diff</code> command, the <code>log</code> command also supports the <code>--word-diff</code> flag when displaying patches! So if the above is too verbose for you and you like your output to be as succinct as you can make it, here is the final incantation that does the trick:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">The --word-diff flag shows how individual words differ rather than whole lines. We spoke of this in <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a>.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0366-03.png" alt="Image" width="499" height="57">
        <h6></h6>
        </div></figure>
        <p>Here again, as long as the search text follows the <code>-S</code> flag, you can supply these arguments in any order.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Using the “patch” flag with git log (almost there)"><div class="sect1" id="using_the_quotation_markpatchquo-id00258">
        <h1>Using the “patch” flag with git log (almost there)</h1>
        <p>All together now! We are going to use the pickaxe flag and the patch flag alongside all our other <code>git log</code> flags, like so:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0367-01.png" alt="Image" width="600" height="46">
        <h6></h6>
        </div></figure>
        <p>And you see this:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0367-02.png" alt="Image" width="600" height="257">
        <h6></h6>
        </div></figure>
        <p>Now, not only can you see every commit that added or removed the word “tired,” you can see the diff itself!</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00259">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Search the <code>gitanjali-aref-wedding-plans</code> repository for all commits that add or delete the word “walnut”, using the patch and word-diff flags. Which commit added the word, and which one removed it?</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00277">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="git log’s other “pickaxe” flag (-G)"><div class="sect1" id="git_logapostrophes_other_quotation_markp">
        <h1>git log’s other “pickaxe” flag (-G)</h1>
        <p><a data-type="indexterm" data-primary="flags" data-secondary="log command" data-tertiary="-G" id="idm45426357601152"></a><a data-type="indexterm" data-primary="-G flag (log command)" id="idm45426357599584"></a><a data-type="indexterm" data-primary="git log command" data-secondary="flags" data-tertiary="-G" id="idm45426357598720"></a><a data-type="indexterm" data-primary="log command" data-secondary="flags" data-tertiary="-G" id="idm45426357597344"></a><a data-type="indexterm" data-primary="regular expressions" id="idm45426357595968"></a><a data-type="indexterm" data-primary="regular expressions" data-secondary="-G flag (log command)" id="idm45426357595136"></a>Git log’s <code>-S</code> flag can help you find every commit where the text you are looking for was either added or deleted, which is super handy. But what if you want to find every time a particular piece of text showed up in the diff of a commit? Let’s go back to our single-line-file example and take a look at the diffs of the last two commits—keep an eye out for the word “lazy”:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0368-01.png" alt="Image" width="600" height="156">
        <h6></h6>
        </div></figure>
        <p>The <code>-S</code> flag in this case will only list commit 2 because it only lists commits where the text you are searching for (“lazy” in this case) was either added or deleted. The <code>-S</code> flag will <strong>not</strong> list commit 3 because it does not affect the <em>number of times</em> lazy appears—rather, commit 3 affects the line that contains the word “lazy.”</p>
        <p>Why would you ever perform a search like this? Maybe someone introduced a typo somewhere on the line that contains the word “lazy”—searching for “lazy” will highlight anytime that line was changed in some way. Or if you want to see how the arguments of a function have changed over time—you could just search for the name of the function.</p>
        <p>As we discussed, <code>git log</code>’s <code>-S</code> flag will not do the trick for this. Rather, you want to use the <code>-G</code> option. You use it just like the <code>-S</code> option, and it will highlight every commit whose diff includes the word you are looking for.</p>
        <p>Everything that we’ve talked about with the <code>-S</code> flag applies to the <code>-G</code> flag—you can display the individual patches for each commit listed with the <code>-p</code> (or <code>--patch</code>) flag, and you can use <code>--word-diff</code> and <code>--oneline</code> flags as well.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00260">
        <h5>Serious Coding</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cap.png" alt="Image" width="123" height="128">
        <h6></h6>
        </div></figure>
        <p>We’ve even more good news for all those regular expression aficionados—the <code>-G</code> option accepts regular expressions as arguments (unlike <code>-S</code>, which by default only accepts strings). So let your regular expressions flag fly high!</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00261">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Search for the word “classic” in the commit history of the <code>gitanjali-aref-wedding-plans</code> repository, except this time you are going to use the <code>-G</code> flag. Be sure to display abbreviated commit IDs, and use the <code>--word-diff</code> option. Start by listing the command here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many commits reported the word “classic” in your commit history?</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Compare this with the output of the <code>-S</code> flag—why do you see more commits with the <code>-G</code> flag than you did with the <code>-S</code> flag?</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00278">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00262">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0369-02.png" alt="Image" width="600" height="57">
        <h6></h6>
        </div></figure>
        <p>Let’s say you were searching for the word “classic” in the <code>gitanjali-aref-wedding-plans</code> repository. Listed below are several combinations of <code>git log</code>’s pickaxe options, except a few of them won’t work. Can you identify them? <strong>Hint:</strong> Look carefully at the order of flags and arguments.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0369-03.png" alt="Image" width="600" height="164">
        <h6></h6>
        </div></figure>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00279">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Searching commit messages"><div class="sect1" id="searching_commit_messages">
        <h1>Searching commit messages</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0370-01.png" alt="Image" width="199" height="187">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commit messages" data-secondary="searching, log command" id="idm45426357535808"></a><a data-type="indexterm" data-primary="double quotation marks (“)" data-secondary="commit messages" data-tertiary="searching" id="idm45426357534528"></a><a data-type="indexterm" data-primary="git log command" data-secondary="commit messages, searching" id="idm45426357533184"></a><a data-type="indexterm" data-primary="log command" data-secondary="commit messages, searching" id="idm45426357532320"></a>We’ve seen how we can use the <code>git log</code> command to search the diffs of individual commits. But the <code>git log</code> command has yet another trick up its sleeve—it can help you search the commit messages as well. You might be wondering—how could this be useful? You can always list all the commits using the <code>git log</code> command and scan them, right? Sure. That works if you have a handful of commits—but as projects grow, you might end up with hundreds or thousands of commits. Searching those commit messages certainly sounds like a good job for the computer.</p>
        <p>Suppose you wanted to find every commit that uses the phrase “first draft” in its commit message:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0370-02.png" alt="Image" width="600" height="353">
        <h6></h6>
        </div></figure>
        <blockquote>
        <p><strong>You <u>can</u> combine --grep with other flags like --graph and --oneline.</strong></p>
        </blockquote>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00263">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> What command would you use to find every commit that has the word “menu” in the <code>gitanjali-aref-wedding-plans</code> repository?</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many commits did you find? List their IDs here:</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00280">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Git log flag soup"><div class="sect1" id="git_log_flag_soup">
        <h1>Git log flag soup</h1>
        <p><a data-type="indexterm" data-primary="git log command" data-secondary="flags" id="idm45426357512144"></a><a data-type="indexterm" data-primary="log command" data-secondary="flags" id="idm45426357511280"></a>The <code>git log</code> command sure is a flexible fella, isn’t it? The sheer number of options it offers is mind-blowing, and we haven’t even covered the entire list! Just to bring it all together, here is our latest <code>git log</code> edition of flag soup:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0371-01.png" alt="Image" width="600" height="587">
        <h6></h6>
        </div></figure>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0372-01.png" alt="Image" width="550" height="800">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="overview" id="idm45426357509408"></a><strong>Yes, yes, and...YES!</strong> A commit is a snapshot of the state of the index at the time you made the commit—it captures what every file looked like at the time you made the commit.</p>
        <p>While we’re talking about it, you’ve already “flipped” between commits! Remember what happens every time you switch branches? Git rewrites your working directory to look like the commit that the branch points to. In other words, you “flipped” to the commit the branch points to.</p>
        <p>But each branch only points to the latest commit. To your point, suppose you identified a commit where a particular piece of text was added or modified using the pickaxe option. While the patch flag can tell you what changed, it can’t show you exactly what your repository looked like at that time.</p>
        <p>But Git can. And going back to your analogy, Git gives you a mechanism to “flip back” to that commit. Shall we take a look?</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="What does it mean to check out a commit?"><div class="sect1" id="what_does_it_mean_to_check_out_a_commitq">
        <h1>What does it mean to check out a commit?</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0373-01.png" alt="Image" width="199" height="214">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="checkout command" id="idm45426357501232"></a><a data-type="indexterm" data-primary="commit IDs" data-secondary="checkout command" id="idm45426357500192"></a><a data-type="indexterm" data-primary="commits" data-secondary="checking out" id="idm45426357499088"></a><a data-type="indexterm" data-primary="object database" data-secondary="commits" id="idm45426357497984"></a><a data-type="indexterm" data-primary="object database" data-secondary="commits" data-tertiary="checking out" id="idm45426357496880"></a>A commit in Git is a snapshot. It’s a mechanism to freeze-dry the contents of your index and keep them in storage (that is, Git’s object database). So how do you get them out when you want to see what you tucked in there? Git offers a command called <code>checkout</code> that, when supplied a commit ID, rewrites your working directory to look exactly like it did when you made the commit. Consider the <code>gitanjali-aref-wedding-plans</code> repository. If you list the files as they stand in the <code>master</code> branch, you’ll see this:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0373-02.png" alt="Image" width="600" height="135">
        <h6></h6>
        </div></figure>
        <p>If you were to go back to the beginning of this chapter where we listed the commit history for the <code>gitanjali-aref-wedding-plans</code> repository, you’d notice that in the very first commit, Trinity only added one file, namely <code>README.md</code>. If you were to check out the very first commit, Git would rewrite your working directory to look like it did <em>at that point in time</em>:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0373-03.png" alt="Image" width="445" height="125">
        <h6></h6>
        </div></figure>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0373-04.png" alt="Image" width="267" height="516">
        <h6></h6>
        </div></figure>
        <p>As you might imagine, this isn’t that different from switching branches. When you switch branches, Git looks at the commit ID recorded in the branch’s sticky note and “rehydrates” all the files that were freeze-dried in that commit—and it replaces all the files in your working directory with those files.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00264">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Using your <code>git log</code> sleuthing skills, find the commit with the message “add first draft of appetizer and drink menus”. Jot down the commit ID here, because you are going to need it for a future exercise.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Who made this commit, and what changes did they introduce in this commit? <strong>Hint:</strong> Use the patch option to view the diffs.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00281">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Checking out commits"><div class="sect1" id="checking_out_commits">
        <h1>Checking out commits</h1>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Ooh! Looking good!</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0374-01.png" alt="Image" width="241" height="259">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="checkout command" data-secondary="output" id="idm45426357474752"></a><a data-type="indexterm" data-primary="commits" data-secondary="checking out" data-tertiary="HEAD" id="idm45426357473472"></a><a data-type="indexterm" data-primary="commits" data-secondary="checking out" data-tertiary="output" id="idm45426357472096"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="commits" data-tertiary="checking out" id="idm45426357470720"></a>We know what it means to check out a commit. So how do we go about checking out a particular commit?</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0374-02.png" alt="Image" width="417" height="103">
        <h6></h6>
        </div></figure>
        <p>And this is what you’ll see:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0374-03.png" alt="Image" width="600" height="374">
        <h6></h6>
        </div></figure>
        <p>We don’t see any errors, so it seems to have worked. However, Git certainly seems a tad worried about <em>something</em>. Let’s spend a few minutes dissecting its message.</p>
        <p>Remember <code>HEAD</code>? If you recall, we spoke at length about <code>HEAD</code> (even interviewed it) in <a data-type="xref" href="ch04.html#undoingcolon_fixing_your_mistakes">Chapter&nbsp;4</a>. To refresh your memory, <code>HEAD</code> serves multiple purposes in Git. The most important, and the one most pertinent to the conversation at hand, is that whichever commit <code>HEAD</code> points to will be the parent of the next commit! And <em>that</em>, right there, is the reason why Git emits this scary wall of text when you check out a commit.</p>
        <p>Before you proceed to the next page, go back and read the output of the <code>git checkout</code> command carefully.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0374-04.png" alt="Image" width="198" height="557">
        <h6></h6>
        </div></figure>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Detached HEAD state"><div class="sect1" id="detached_head_state">
        <h1>Detached HEAD state</h1>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="checking out" data-tertiary="detached HEAD state" id="idm45426357455488"></a><a data-type="indexterm" data-primary="detached HEAD state" data-secondary="checking out commits" id="idm45426357454352"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="detached state" id="idm45426357453248"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="detached state" data-tertiary="committing" id="idm45426357452144"></a>When you check out a commit using its ID, Git says <code>You are in 'detached HEAD' state</code>. What this means is that you are no longer on a branch. And why does that matter? There are two things to keep in mind:</p>
        <ol>
        <li><p><strong>The commit that HEAD points to will be the parent of the next commit.</strong></p></li>
        <li><p><strong>There is nothing stopping you from making edits to your repository and making a commit at this point!</strong></p></li>
        </ol>
        <p>What would your history look like if you did make a commit? Here’s what your commit history would look like:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0375-01.png" alt="Image" width="432" height="576">
        <h6></h6>
        </div></figure>
        <p>As you can see, you’ve now created a new timeline, except there is no branch reference. While that might seem innocuous, what would happen if you then decided to switch back to the <code>master</code> branch? <code>HEAD</code> would move to the commit that the <code>master</code> branch points to—leaving your new commit behind. Whoops!</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0375-02.png" alt="Image" width="416" height="580">
        <h6></h6>
        </div></figure>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="The moral of the detached HEAD state"><div class="sect1" id="the_moral_of_the_detached_head_story_sta">
        <h1>The moral of the detached HEAD state</h1>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="checking out" data-tertiary="dangers of" id="idm45426357936832"></a>Git gives you a tremendous amount of flexibility and power. As you can see, you can check out any arbitrary commit and start making new commits. The risk you run is if you switch away to another commit or branch—you’d leave all your commits behind, and unless you remember the commit IDs, there is no easy way to get back to them!</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Git will warn you when you are leaving unreferenced commits behind. But the point still stands—if you miss the warning, you’ll have to figure out how to get those commits back!</span></p>
        </div>
        <p>The lesson here? If you ever want to see what your repository looked like at a particular point in time, use Git’s checkout facilities to do just that. However, be sure to create a branch first and switch to it before making any edits when you are in detached <code>HEAD</code> state! Remember, branches are cheap. If you decide later on that you don’t care to keep those changes around, simply delete the branch. This way, your work resides safely on a branch, and you can always switch back to it if you like, without running the risk of losing your changes. Win-win!</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00265">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Why don’t you try checking out a commit?</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Using your terminal, navigate to the <code>gitanjali-aref-wedding-plans</code> repository. Start by listing the files in your working directory:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0376-03.png" alt="Image" width="570" height="128">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> In the last exercise, you recorded a commit ID. This commit, created by Trinity, introduces two new files—<code>appetizers.md</code> and <code>drinks.md</code>. Jot down the command you would use to check out this commit:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, list the files in your working directory again.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0376-04.png" alt="Image" width="571" height="130">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> What file is missing, and why is that? Explain your answer:</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00282">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00266">
        <h5>there are no Dumb Questions</h5>
        <p><strong>Q: This discussion has left me a little unsettled. If there is a chance I might lose my work, why does Git even permit us to check out commits?</strong></p>
        <p><strong>A:</strong> Git’s power lies in individual commits and in the directed acyclic graph that is the commit history. By capturing the state of the index in its entirety every single time you commit, Git allows you to relive that moment any time you like. Furthermore, you might have a good reason to want to go back—maybe you’ve thought of a better way to solve the problem at hand. That’s pretty flexible, right?</p>
        <p>And Git isn’t leaving you out in the cold—it not only warns you about the state of your repository, it also provides hints on what you ought to do so you don’t risk losing any work.</p>
        <p>Checking out commits is definitely swimming at the deep end of the pool, but Git’s right there, watching over you.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="who_does_whatquestion_mark-id00267">
        <h5>Who Does What?</h5>
        <p>This chapter has been a whirlwind of Git’s search capabilities. Why don’t you see if you can match each command with its description?</p>
        <table class="border">
        <tbody>
        <tr>
        <td>log --grep</td>
        <td>Moves <code>HEAD</code> to the specified commit.</td>
        </tr>
        <tr>
        <td>grep</td>
        <td>Searches the diffs of all commits.</td>
        </tr>
        <tr>
        <td>blame</td>
        <td>Searches commit messages only.</td>
        </tr>
        <tr>
        <td>log -S</td>
        <td>Displays all the commits where the line that includes that text was changed in some way.</td>
        </tr>
        <tr>
        <td>checkout</td>
        <td>Searches all the tracked files for a piece of text.</td>
        </tr>
        <tr>
        <td>log -G</td>
        <td>Shows the commit and author information for each line in a file.</td>
        </tr>
        </tbody>
        </table>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#who_does_what_solutionquestion_m-id00283">“Who Does What Solution?”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Cubicle conversation"><div class="sect1" id="cubicle_conversation-id00268">
        <h1>Cubicle conversation</h1>
        <p><a data-type="indexterm" data-primary="bisect command" id="idm45426357396624"></a><a data-type="indexterm" data-primary="commits" data-secondary="bisect command" id="idm45426357395728"></a><a data-type="indexterm" data-primary="git bisect command" id="idm45426357394624"></a><strong>Trinity:</strong> Are you seeing this? Seems we have a typo in our <code>appetizers.md</code> file.</p>
        <p><strong>Armstrong:</strong> Uh oh! What do you mean?</p>
        <p><strong>Trinity:</strong> It’s spelled B-L-I-N-I-S, not B-L-I-N-N-I-S! I know I had this right in the first draft because I used the spell checker then.</p>
        <p><strong>Armstrong:</strong> Wonder when that happened? I guess you could use the pickaxe option to find when “blinnis” first appeared in the diff of a commit, right?</p>
        <p><strong>Trinity:</strong> You really are a quick learner, aren’t you? I absolutely could. But let me show you another way to find out which commit introduced a particular change. It’s called <code>git bisect</code>. It helps you search all your commits using an efficient search algorithm called binary search.</p>
        <p><strong>Armstrong:</strong> Do tell.</p>
        <p><strong>Trinity:</strong> Let’s say you have five commits in your repository. You know you have a typo in the latest commit, but it wasn’t there in the first commit.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0378-01.png" alt="Image" width="308" height="62">
        <h6></h6>
        </div></figure>
        <p>Now suppose I show you the state of the repository as it looked in commit 3, and after looking around you conclude the typo isn’t there. That is, commit 3 is “good.” What would that tell you?</p>
        <p><strong>Armstrong:</strong> That means the typo appeared in commit 4 or 5!</p>
        <p><strong>Trinity:</strong> Right! And what if commit 3 is “bad,” as in, the typo was there?</p>
        <p><strong>Armstrong:</strong> We know it wasn’t in commit 1, so it has to be in 2 or 3 itself.</p>
        <p><strong>Trinity:</strong> Yep. You just did a binary search of commits—you pick two commits and find one somewhere in between—say, commit 3. If the typo isn’t there, that means it’s either in commit 4 or 5. Otherwise you go further back, eventually zeroing in on the right commit.</p>
        <p><strong>Armstrong:</strong> And Git can help you with this? That’s awesome!</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0378-02.png" alt="Image" width="364" height="173">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00269">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Before we get into our next discussion, why don’t you work through an example or two that can get you acquainted with how the binary search algorithm (which, as we are sure you’ve figured out, is going to become important soon enough) works. Your mission, should you choose to accept it, is to find the number we call out in a list of numbers. Here are the rules:</p>
        <ol>
        <li><p>You’ll always start at the middle of the list. If there isn’t an exact middle because the list has an even number of items, choose an item as close to the middle as possible (for instance, in a list of four items, pick the second or third).</p></li>
        <li><p>If the number we ask you to find is greater than the number in the middle, you will move to the right. If the number we ask of you is less than the number in the middle, you move to the left. If you’ve found the number, stop.</p></li>
        <li><p>When you move (left or right), you’ll move to the middle of the remaining numbers. Once again, if there is no true middle, pick one close to the middle.</p></li>
        <li><p>Go back to step 2.</p>
        <p>Here’s an example of us working through it so you get an idea of how to proceed. Given this list, let’s find 61.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0379-02.png" alt="Image" width="600" height="132">
        <h6></h6>
        </div></figure>
        <p>Your turn! Find the number 9 using the binary search algorithm:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0379-03.png" alt="Image" width="600" height="88">
        <h6></h6>
        </div></figure>
        <p>How many turns did it take you?</p></li>
        </ol>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00284">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Searching for commits using git bisect"><div class="sect1" id="searching_for_commits_using_git_bisect">
        <h1>Searching for commits using git bisect</h1>
        <p><a data-type="indexterm" data-primary="bisect command" data-secondary="searching for commits" id="idm45426357365584"></a><a data-type="indexterm" data-primary="bugs, finding with bisect command" id="idm45426357364608"></a><a data-type="indexterm" data-primary="commits" data-secondary="searching for" id="idm45426357363872"></a><a data-type="indexterm" data-primary="git bisect command" data-secondary="searching for commits" id="idm45426357362896"></a>Git log’s pickaxe options (<code>-S</code> and <code>-G</code>) are incredibly powerful. However, they fall short when you don’t know exactly what to search for. Consider a scenario where you’ve found a bug in the <code>master</code> branch. You don’t know what’s causing it, so you don’t know what to search for—which means the pickaxe options are no help.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0380-01.png" alt="Image" width="464" height="800">
        <h6></h6>
        </div></figure>
        <p>But perhaps you <em>do</em> know of a way to verify the functionality of your application—either by visually inspecting the files or by running the application. Maybe you have some automated tests you can run. So how do you go about identifying the commit that introduced the bug? Well, you now know of the <code>git checkout</code> command. You could find the parent commit of the commit you are on and check that out. Git will diligently replace all the files in your working directory with the files as they were in that commit. You can take a look around, run your application, maybe do some tests, and if you find the bug, you’re done! But if you don’t, well, back to the drawing board—go back one more commit. Wash, rinse, repeat.</p>
        <p><strong><em>Or</em></strong> you could do a binary search of the commits in your commit history! (Where is the mind-blown emoji when you need it?)</p>
        <p>You might have noticed in the last exercise that binary searching <em>can be</em> significantly faster than searching a list of numbers linearly. And Git can help you search your commits using the same algorithm.</p>
        <p>The command to start a binary search of commits in Git is the <code>bisect</code> command. But before we show you how to use it, take a glance at the workflow.</p>
        <p>Git’s <code>bisect</code> command automates the process of finding a commit for you to inspect so you can decide if the bug you are looking for exists or not, over time narrowing down the list of commits that could be where the bug first showed up.</p>
        <p>Let’s see how this plays out on the command line.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Using git bisect"><div class="sect1" id="using_git_bisect">
        <h1>Using git bisect</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0381-01.png" alt="Image" width="236" height="249">
        <h6></h6>
        </div></figure>
        <p>Let’s walk through a <code>git bisect</code> session together. We’ll use a hypothetical repository that has five commits. We just noticed that the latest commit has a bug in it. Let’s go ahead and assume that the first commit is good.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0381-02.png" alt="Image" width="600" height="124">
        <h6></h6>
        </div></figure>
        <p>To start bisecting commits, we have to first tell Git to kick off a bisecting session.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0381-03.png" alt="Image" width="600" height="193">
        <h6></h6>
        </div></figure>
        <p>Next you have to tell Git the “bad” commit ID—in this scenario, <code>HEAD</code> has the bug, so let’s tell Git that.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0381-05.png" alt="Image" width="600" height="93">
        <h6></h6>
        </div></figure>
        <p>Then you tell Git the “good” commit ID, which in this case is commit ID</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0381-06.png" alt="Image" width="600" height="69">
        <h6></h6>
        </div></figure>
        <p>By telling Git where the “bad” and “good” commits are, you are giving Git a range of commits to search. Git immediately gets to work—starting a binary search. It finds a commit somewhere halfway between the “bad” and “good” commits, and uses the <code>git checkout</code> command to check out that commit.</p>
        <p>You are in business! Now go find that pesky commit, will ya?</p>
        <p>The <code>git bisect</code> session is all set up, and Git has already checked out a commit for you. Git status confirms this:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0382-01.png" alt="Image" width="600" height="156">
        <h6></h6>
        </div></figure>
        <p>Where do things stand? Recall that checking out a commit means Git has replaced all the files in your working directory to look like they did when you made that commit:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0382-02.png" alt="Image" width="562" height="137">
        <h6></h6>
        </div></figure>
        <p>At this point, you can look at the files in your project in your editor and see if you spot the bug. Or you could run the application, run your tests, what have you. You’ll probably draw one of two conclusions—the bug is in this commit, or the bug is <em>not</em> in this commit. If you <strong><em>do see</em></strong> the bug in this commit, then you tell Git just that:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0382-03.png" alt="Image" width="600" height="110">
        <h6></h6>
        </div></figure>
        <p>On the other hand, you might not see the bug. Then you use <code>git bisect good</code>.</p>
        <p>Telling Git whether a commit is bad or good tells Git which direction to keep searching in. If you say “bad”, Git knows to search in commits that came before the commit you are on. Otherwise, it will search commits that came after that one.</p>
        <p>Regardless, Git will simply repeat what it did when you started—check out another commit and give you a chance to keep inspecting commits till you finally home in on the commit that started the trouble.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0382-04.png" alt="Image" width="481" height="133">
        <h6></h6>
        </div></figure>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Finishing git bisect"><div class="sect1" id="finishing_git_bisect">
        <h1>Finishing git bisect</h1>
        <p><a data-type="indexterm" data-primary="directories" data-secondary="refreshing contents when using bisect command" id="idm45426357371872"></a><a data-type="indexterm" data-primary="text editors" data-secondary="directories, refreshing when using bisect command" id="idm45426357585248"></a>After a few iterations with <code>git bisect</code> (depending on how many commits it has to search), Git will show you the commit that you’ve identified as the one that introduced the bug:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0383-01.png" alt="Image" width="600" height="201">
        <h6></h6>
        </div></figure>
        <p>So now you know which commit introduced the bug. You can inspect the files to see how the bug managed to creep in, or perhaps even decide to revert the commit (see <a data-type="xref" href="ch04.html#undoingcolon_fixing_your_mistakes">Chapter&nbsp;4</a>)!</p>
        <p>But before you proceed with making any changes, remember that you are still in the <code>git bisect</code> session. You’ll need to signal to Git that you are done:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0383-02.png" alt="Image" width="600" height="109">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00270">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>Be sure to reload the files in your editor!</strong></p>
        <p><em>As you proceed through the</em> <code>git bisect</code> <em>session, Git is checking out one commit after another. Each time it is rewriting your working directory to look like it did when you made that commit. If you have the files of your project open, there is a possibility that your editor will not realize those files have changed on disk and will continue to present you a version of the file that isn’t what is in your working directory</em>.</p>
        <p><em>Many editors, like VS Code, will auto-update, so that you are always seeing the correct version of the file—but this isn’t true of all editors. Many editors provide a “refresh” button to force reloading the contents of your files, so be sure to use it. Alternatively, just close and reopen your editor every time Git checks out a new commit. This way you can be sure you are looking at the right revision of the files</em>.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00271">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Can you spend a few minutes helping Trinity figure out which commit introduced the “blinnis” typo? Here are a few details you will need:</p>
        <ul>
        <li><p><code>HEAD</code> has the bug. In other words, <code>HEAD</code> is “bad.”</p></li>
        <li><p>We looked over the Git log for you—we know that the commit with ID <code>6b11ec8</code> is “good.”</p></li>
        </ul>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Navigate to the <code>gitanjali-aref-wedding-plans</code> repository using your terminal. Start a <code>git bisect</code> session.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Be sure to tell Git about the “bad” and “good” commits.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Every time Git checks out a commit, be sure to reload the files in your editor. <strong>Keep an eye on the</strong> <code><strong>appetizers.md</strong></code> <strong>file.</strong></p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> See if you can identify the commit that introduced the typo. Write down the commit ID here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Be sure to finish your Git bisect session using <code>git bisect reset</code>.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00285">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0384-02.png" alt="Image" width="600" height="321">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-id00272">
        <h5>Bullet Points</h5>
        <ul>
        <li><p><a data-type="indexterm" data-primary="bisect command" id="idm45426357262656"></a><a data-type="indexterm" data-primary="blame command" id="idm45426357261728"></a><a data-type="indexterm" data-primary="change tracking" id="idm45426357260864"></a><a data-type="indexterm" data-primary="checkout command" id="idm45426357260032"></a><a data-type="indexterm" data-primary="commits" data-secondary="checking out" id="idm45426357259200"></a><a data-type="indexterm" data-primary="commits" data-secondary="logs" data-tertiary="searching" id="idm45426357258096"></a><a data-type="indexterm" data-primary="commits" data-secondary="revision history, blame command" id="idm45426357256720"></a><a data-type="indexterm" data-primary="commits" data-secondary="searching contents" id="idm45426357255648"></a><a data-type="indexterm" data-primary="detached HEAD state" data-secondary="checking out commits" id="idm45426357254544"></a><a data-type="indexterm" data-primary="files" data-secondary="searching contents of" id="idm45426357253440"></a><a data-type="indexterm" data-primary="flags" data-secondary="grep command" data-tertiary="-l or --line-number" id="idm45426357252336"></a><a data-type="indexterm" data-primary="flags" data-secondary="grep command" data-tertiary="-n or --name-only" id="idm45426357250960"></a><a data-type="indexterm" data-primary="flags" data-secondary="log command" data-tertiary="-G" id="idm45426357249584"></a><a data-type="indexterm" data-primary="flags" data-secondary="log command" data-tertiary="--patch" id="idm45426357248208"></a><a data-type="indexterm" data-primary="-G flag (log command)" id="idm45426357246832"></a><a data-type="indexterm" data-primary="git bisect command" id="idm45426357246000"></a><a data-type="indexterm" data-primary="git blame command" id="idm45426357245168"></a><a data-type="indexterm" data-primary="git checkout command" id="idm45426357244336"></a><a data-type="indexterm" data-primary="git grep command" id="idm45426357243504"></a><a data-type="indexterm" data-primary="git log command" id="idm45426357242672"></a><a data-type="indexterm" data-primary="grep command" id="idm45426357241840"></a><a data-type="indexterm" data-primary="--grep flag (log command)" id="idm45426357241008"></a><a data-type="indexterm" data-primary="-i flag (grep command)" id="idm45426357240208"></a><a data-type="indexterm" data-primary="--ignore-case flag (grep command)" id="idm45426357239376"></a><a data-type="indexterm" data-primary="-l flag (grep command)" id="idm45426357238576"></a><a data-type="indexterm" data-primary="--line-number flag (grep command)" id="idm45426357237744"></a><a data-type="indexterm" data-primary="log command" id="idm45426357236944"></a><a data-type="indexterm" data-primary="--name-only flag (grep command)" id="idm45426357236112"></a><a data-type="indexterm" data-primary="-n flag (grep command)" id="idm45426357235312"></a><a data-type="indexterm" data-primary="--patch flag (log command)" id="idm45426357234480"></a><a data-type="indexterm" data-primary="-p flag (log command)" id="idm45426357233680"></a><a data-type="indexterm" data-primary="pickaxe options (log command)" id="idm45426357232848"></a><a data-type="indexterm" data-primary="repositories" data-secondary="searching" id="idm45426357232048"></a><a data-type="indexterm" data-primary="-s flag (log command)" id="idm45426357230944"></a>Git provides a variety of useful tools to search the contents of repositories, the commit log, and commits.</p></li>
        <li><p>You can annotate any tracked file in a Git repository using <code>git blame</code>. This will show you, on a per-line basis, details about the latest commit that changed that line, including the commit ID, the author info, and the date the change was made.</p></li>
        <li><p>Most Git repository managers like GitHub make it easy to annotate files using <code>git blame</code> in your browser.</p></li>
        <li><p>You can supply <code>git blame</code> a specific commit ID to see the revision history of a file at the time that commit was made.</p></li>
        <li><p>You can search the contents of all tracked files in your repository using the <code>git grep</code> command.</p></li>
        <li><p>The <code>git grep</code> command by default is case-sensitive when searching. You can use the <code>-i</code> (shorthand for <code>--ignore-case</code>) flag to make your search case-insensitive.</p></li>
        <li><p>The <code>git grep</code> command also supports the <code>-n</code> (shorthand for <code>--line-number</code>) flag that will display the line number for a match.</p></li>
        <li><p>The <code>git grep</code> command lists every match it finds. You can restrict the output to list just the names of the files using the <code>-l</code> (shorthand for <code>--name-only</code>) flag.</p></li>
        <li><p>To find which commit added or removed a piece of text, you can use the <code>-S</code> flag that the <code>git log</code> command supports. The <code>-S</code> flag is one of two “pickaxe” options that Git supports, and it accepts as its argument the text you want to search for.</p></li>
        <li><p>The pickaxe options search the entire commit history but can be limited to inspect the history of a single file by supplying the name of the file to the <code>git log</code> command.</p></li>
        <li><p>The <code>git log</code> command can also display the patch introduced in every commit using the <code>-p</code> (shorthand for <code>--patch</code>) flag. This can be combined with the <code>-S</code> flag to see if the search text was added or removed in a particular commit.</p></li>
        <li><p>Searching for text in a Git repository using the <code>-S</code> flag only reveals commits that added or removed that piece of text. To find all commits where the line that contains a piece of text changed, there is the <code>-G</code> flag that <code>git log</code> supports.</p></li>
        <li><p>The <code>--grep</code> flag with the <code>git log</code> command searches commit messages.</p></li>
        <li><p>You can “flip back” to any commit in your commit history using the <code>git checkout</code> command.</p></li>
        <li><p>When you check out a commit, Git will rewrite your working directory to look like it did when you made that commit.</p></li>
        <li><p>Checking out a commit puts you in “detached <code>HEAD</code>” state. This means that you are no longer working on a branch.</p></li>
        <li><p>You can continue to make edits and commits, but switching away from that commit history means you will abandon your commits (since they are not referenced by a branch).</p></li>
        <li><p>It’s best not to make any commits when you are in detached HEAD state. Always work on branches.</p></li>
        <li><p>You can search for commits that introduced a typo or a bug using the <code>git bisect</code> command, which uses the binary search algorithm to navigate your commit history, and quickly zero in on the commit you are looking for.</p></li>
        <li><p>At each step in a <code>git bisect</code> session, Git checks out a commit, leaving you in detached <code>HEAD</code> state. Since Git will rewrite your working directory, you can look around to see if you spot the unwelcome behavior.</p></li>
        <li><p>Depending on whether you see the issue, you can tell Git if the current commit is “good” or “bad,” which informs Git which direction in the commit history to search. This repeats till you’ve isolated the commit with the reported issue.</p></li>
        </ul>
        </div></aside>
        <section data-type="sect2" data-pdf-bookmark="Searching for Clues"><div class="sect2" id="searching_for_clues">
        <h2>Searching for Clues</h2>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cross.png" alt="Image" width="135" height="104">
        <h6></h6>
        </div></figure>
        <p>You’re not done searching just yet—time to dig up the answers to this chapter’s crossword.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0386-02.png" alt="Image" width="517" height="517">
        <h6></h6>
        </div></figure>
        <p><strong>Across</strong></p>
        <p><strong>4</strong> -S and -G are sometimes called Git’s ___ search options</p>
        <p><strong>5</strong> Using this flag with the git log command lets you search commit messages</p>
        <p><strong>9</strong> The git __ command tells you who did what and when for a particular file</p>
        <p><strong>11</strong> When capital letters don’t matter to your search, use this flag with the git grep command (2 words)</p>
        <p><strong>13</strong> Using the -n flag with the git grep command will show __ numbers in the output</p>
        <p><strong>14</strong> Trinity’s business partner</p>
        <p><strong>17</strong> To find the commit where a bug was introduced, search commits with the git ___ command</p>
        <p><strong>Down</strong></p>
        <p><strong>1</strong> A very efficient type of search algorithm</p>
        <p><strong>2</strong> One of our favorite flags to use with the git log command for concise output</p>
        <p><strong>3</strong> Trinity and Armstrong’s initial files track appetizers, dinner, and _____</p>
        <p><strong>6</strong> To get a snapshot of your file at the time of a commit, ___ ___ that commit (2 words)</p>
        <p><strong>7</strong> The output of the git log --grep command is displayed using this</p>
        <p><strong>8</strong> Like flags, you can supply these to lots of Git commands</p>
        <p><strong>10</strong> The ____ brown fox jumps over the lazy dog</p>
        <p><strong>12</strong> You are in _____ HEAD state when you check out a commit</p>
        <p><strong>15</strong> Git offers a few different ways to ___ for a piece of text in a repository</p>
        <p><strong>16</strong> Using this flag with the git log command will combine your commit history with diffs</p>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#searching_for_clues_solution">“Searching for Clues Solution”</a>.</strong></p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00273">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00246">“Exercise”</a>.</strong></p>
        <p>You’ll find Trinity and Armstrong’s repository for Gitanjali and Aref’s wedding plans here: <em><a href="https://github.com/looselytyped/gitanjali-aref-wedding-plans">https://github.com/looselytyped/gitanjali-aref-wedding-plans</a></em></p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Clone this repository locally. Start by listing the command you are going to use here:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git clone <a href="https://github.com/looselytyped/gitanjali-aref-wedding-plans.git">https://github.com/looselytyped/gitanjali-aref-wedding-plans.git</a></span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Take a look around the repository, and answer the following questions:</p>
        <p>How many branches are there in the repository?&nbsp;&nbsp;&nbsp;<span style="color:#9D9EA0;">1</span></p>
        <p>How many commits are there on the master branch?&nbsp;&nbsp;&nbsp;<span style="color:#9D9EA0;">8</span></p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, use the <code>git log --graph --oneline --all</code> command to take a look at the history. Read the commit messages carefully.</p></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00274">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00249">“Sharpen your pencil”</a>.</strong></p>
        <p>Let’s get you some hands-on experience with <code>git blame</code>.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> You are going to use the <code>git blame</code> command to look over the revisions that have been made to the <code>appetizers.md</code> file in the <code>gitanjali-aref-wedding-plans</code> repository that you cloned at the beginning of this chapter. Start by listing out the command you are going to use:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git blame appetizers.md</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, answer the following questions:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0388-02.png" alt="Image" width="600" height="101">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, use the GitHub web interface to see if you can see the <code>git blame</code> output there as well.</p></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00275">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00254">“Exercise”</a>.</strong></p>
        <p>Time to exercise your new Git grep sleuthing skills. Navigate to the <code>gitanjali-aref-wedding-plans</code> repository in your terminal.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How can you search for all files that contain the word “menu”? Jot that down here:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git grep menu</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many files did you find?&nbsp;&nbsp;&nbsp;<span style="color:#9D9EA0;">1</span></p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, make the search case-insensitive. List the command here:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git grep -i menu</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many matches did you get this time around?&nbsp;&nbsp;&nbsp;<span style="color:#9D9EA0;">2</span></p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, if you also want to see the line numbers, what would the <code>git grep</code> command look like?</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git grep -i -n menu</span></p>
        </div></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00276">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00255">“Exercise”</a>.</strong></p>
        <p>Let’s put your searching skills to work. Start by navigating to the <code>gitanjali-aref-wedding-plans</code> repository.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How can you go about finding every commit that adds or removes the word “classic” in your repository? Start by listing the command you would use here:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git log -S classic</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Execute! How many commits did your search reveal? <span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0389-01.png" alt="Image" width="194" height="22"></span></p></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00277">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00259">“Exercise”</a>.</strong></p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Search the <code>gitanjali-aref-wedding-plans</code> repository for all commits that add or delete the word “walnut”, using the patch and word-diff flags. Which commit added the word, and which one removed it?</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">b6c8c82 added it</span></p>
        <p><span style="color:#9D9EA0;">e9beff3 removed it</span></p>
        </div></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00278">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00261">“Exercise”</a>.</strong></p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Search for the word “classic” in the commit history of the <code>gitanjali-aref-wedding-plans</code> repository, except this time you are going to use the <code>-G</code> flag. Be sure to display abbreviated commit IDs, and use the <code>--word-diff</code> option. Start by listing the command here:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git log -p --oneline -G classic --word-diff</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many commits reported the word “classic” in your commit history?</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">2</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Compare this with the output of the <code>-S</code> flag—why do you see more commits with the <code>-G</code> flag than you did with the <code>-S</code> flag?</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Searching with the -S flag only shows one commit. This is because -S only looks for when “classic” was added (or removed). The -G flag looks for commits that affect the line that contains “classic,” which changed in the commit with ID c366817.</span></p>
        </div></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00279">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00262">“Sharpen your pencil”</a>.</strong></p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0391-01.png" alt="Image" width="600" height="58">
        <h6></h6>
        </div></figure>
        <p>Let’s say you were searching for the word “classic” in the <code>gitanjali-aref-wedding-plans</code> repository. Listed below are several combinations of <code>git log</code>’s pickaxe options, except a few of them won’t work. Can you identify them? <strong>Hint:</strong> Look carefully at the order of flags and arguments.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0391-02.png" alt="Image" width="600" height="221">
        <h6></h6>
        </div></figure>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00280">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00263">“Exercise”</a>.</strong></p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> What command would you use to find every commit that has the word “menu” in the <code>gitanjali-aref-wedding-plans</code> repository?</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git log --grep menu</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> How many commits did you find? List their IDs here:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Two. d36c983 and 99fd56e</span></p>
        </div></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00281">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00264">“Sharpen your pencil”</a>.</strong></p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Using your <code>git log</code> sleuthing skills, find the commit with the message “add first draft of appetizer and drink menus”. Jot down the commit ID here, because you are going to need it for a future exercise.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">99fd56e</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Who made this commit, and what changes did they introduce in this commit? <strong>Hint:</strong> Use the patch option to view the diffs.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">This commit was authored by Trinity. This commit introduces two new files—appetizers.md and drinks.md. I know they are new files because I see “new file mode” for both files in the diff output.</span></p>
        </div></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00282">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00265">“Exercise”</a>.</strong></p>
        <p>Why don’t you try checking out a commit?</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Using your terminal, navigate to the <code>gitanjali-aref-wedding-plans</code> repository. Start by listing the files in your working directory:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0393-02.png" alt="Image" width="570" height="127">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> In the last exercise, you recorded a commit ID. This commit, created by Trinity, introduces two new files—<code>appetizers.md</code> and <code>drinks.md</code>. Jot down the command you would use to check out this commit:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git checkout 99fd56e</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, list the files in your working directory again.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0393-03.png" alt="Image" width="571" height="132">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> What file is missing, and why is that? Explain your answer:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Checking out commit ID 99fd56e flipped me back to a point in time before dinner.md was added. Since Git rewrote my working directory to look like it did when that commit was made, the dinner.md file is no longer available to me.</span></p>
        </div></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="who_does_what_solutionquestion_m-id00283">
        <h5>Who Does What Solution?</h5>
        <p><strong>From <a data-type="xref" href="#who_does_whatquestion_mark-id00267">“Who Does What?”</a>.</strong></p>
        <p>This chapter has been a whirlwind of Git’s search capabilities. Why don’t you see if you can match each command with its description?</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0394-01.png" alt="Image" width="600" height="339">
        <h6></h6>
        </div></figure>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00284">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00269">“Sharpen your pencil”</a>.</strong></p>
        <p>Before we get into our next discussion, why don’t you work through an example or two that can get you acquainted with how the binary search algorithm (which, as we are sure you’ve figured out, is going to become important soon enough) works. Your mission, should you choose to accept it, is to find the number we call out in a list of numbers. Here are the rules:</p>
        <ol>
        <li><p>You’ll always start at the middle of the list. If there isn’t an exact middle because the list has an even number of items, choose an item as close to the middle as possible (for instance, in a list of four items, pick the second or third).</p></li>
        <li><p>If the number we ask you to find is greater than the number in the middle, you will move to the right. If the number we ask of you is less than the number in the middle, you move to the left. If you’ve found the number, stop.</p></li>
        <li><p>When you move (left or right), you’ll move to the middle of the remaining numbers. Once again, if there is no true middle, pick one close to the middle.</p></li>
        <li><p>Go back to step 2.</p>
        <p>Here’s an example of us working through it so you get an idea of how to proceed. Given this list, let’s find 61.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0395-02.png" alt="Image" width="600" height="132">
        <h6></h6>
        </div></figure>
        <p>Your turn! Find the number 9 using the binary search algorithm:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0395-03.png" alt="Image" width="600" height="233">
        <h6></h6>
        </div></figure>
        <p>How many turns did it take you?</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Three</span></p>
        </div></li>
        </ol>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00285">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00271">“Exercise”</a>.</strong></p>
        <p>Can you spend a few minutes helping Trinity figure out which commit introduced the “blinnis” typo? Here are a few details you will need:</p>
        <ul>
        <li><p><code>HEAD</code> has the bug. In other words, <code>HEAD</code> is “bad.”</p></li>
        <li><p>We looked over the Git log for you—we know that the commit with ID <code>6b11ec8</code> is “good.”</p></li>
        </ul>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Navigate to the <code>gitanjali-aref-wedding-plans</code> repository using your terminal. Start a <code>git bisect</code> session.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Be sure to tell Git about the “bad” and “good” commits.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Every time Git checks out a commit, be sure to reload the files in your editor. <strong>Keep an eye on the</strong> <code><strong>appetizers.md</strong></code> <strong>file.</strong></p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> See if you can identify the commit that introduced the typo. Write down the commit ID here:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0396-02.png" alt="Image" width="442" height="51">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Be sure to finish your Git bisect session using <code>git bisect reset</code>.</p></li>
        </ul>
        </div></aside>
        </div></section>
        <section data-type="sect2" data-pdf-bookmark="Searching for Clues Solution"><div class="sect2" id="searching_for_clues_solution">
        <h2>Searching for Clues Solution</h2>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cross.png" alt="Image" width="135" height="104">
        <h6></h6>
        </div></figure>
        <p>You’re not done searching just yet—time to dig up the answers to this chapter’s crossword.</p>
        <p><strong>From <a data-type="xref" href="#searching_for_clues">“Searching for Clues”</a>.</strong></p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0397-02.png" alt="Image" width="600" height="599">
        <h6></h6>
        </div></figure>
        </div></section>
        </div></section>
        </div></section></div></div><link rel="stylesheet" href="/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="/api/v2/epubs/urn:orm:book:9781492092506/files/epub.css" crossorigin="anonymous"></div></div></section>
</div>

https://learning.oreilly.com
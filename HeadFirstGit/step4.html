<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
    
</style>
<link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/epub.css" crossorigin="anonymous">
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" data-pdf-bookmark="Chapter 4. Undoing: Fixing Your Mistakes"><div class="chapter" id="undoingcolon_fixing_your_mistakes">
        <h1><span class="label">Chapter 4. </span>Undoing: <em>Fixing Your Mistakes</em></h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0159-01.png" alt="Image" width="600" height="534">
        <h6></h6>
        </div></figure>
        <p><strong>We all make mistakes, right? Humans have been making mistakes since</strong> time immemorial, and for a long time, making mistakes was pretty expensive (with punch cards and typewriters, we had to redo the whole thing). The reason was simple—we didn’t have a version control system. But now we do! Git gives you ample opportunities to undo your mistakes, easily and painlessly. Whether you’ve accidentally added a file to the index, made a typo in a commit message, or made a badly formed commit, Git gives you plenty of levers to pull and buttons to push so that no one will ever know about that little, ahem, “slip-up.”</p>
        <p>After this chapter, <em>if</em> you trip up, it won’t matter what kind of mistake you’ve made, you’ll know exactly what to do. So let’s go make some mistakes—and learn how to fix ’em.</p>
        <section data-type="sect1" data-pdf-bookmark="Planning an engagement party"><div class="sect1" id="planning_an_engagement_party">
        <h1>Planning an engagement party</h1>
        <p><a data-type="indexterm" data-primary="commit histories" data-secondary="event planning example" id="idm45426362308224"></a><a data-type="indexterm" data-primary="files" data-secondary="event planning example" id="idm45426362314464"></a>Love is in the air, and we’ve got some news to share with you. Gitanjali and Aref are newly engaged! They want to throw an engagement party with their closest friends, and to make sure they get it right, they’ve decided to hire Trinity, an event planner.</p>
        <p>Trinity and her partner Armstrong are true professionals—and huge proponents of Git. All of their ideas for invitation cards, guests, and gift lists are always tucked away in a Git repository that they create specifically for that client. This way, they can always use Git as their second (or third, in this case) brain. This is particularly useful, since Trinity and Armstrong are all about helping their clients figure out all their options—plans do change, and Git is a tool that allows Trinity and Armstrong to iterate quickly.</p>
        <p>Trinity just finished a conversation with Gitanjali and Aref. She initialized a new Git repository almost as soon as she put the phone down: she wanted to capture her notes about their guest list and gift registry ideas right away. She created two files, <code>guest-list.md</code> and <code>gift-registry.md</code>, and committed them on the <code>master</code> branch.</p>
        <p>Her mind was racing with ideas for their invitation card, so she created a file called <code>invitation-card.md</code> and jotted down some ideas, along with a tentative date for the festivities. She committed that as well. This is what her commit history looks like:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0160-01.png" alt="Image" width="600" height="293">
        <h6></h6>
        </div></figure>
        <p>As you can see, Trinity’s repository contains one branch, <code>master</code>, and the two commits she has made so far. This engagement party is off to a great start! Now Trinity and Armstrong need to brainstorm some party themes.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00098">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Trinity has made two commits in her repository. The first commit added two files, <code>guest-list.md</code> and <code>gift-registry.md</code>, and the second commit introduced the first draft of the <code>invitation-card.md</code> file. Without peeking, list all the files in the <code>gitanjali-aref</code> repository. How many files in total are in this repository? Explain your answer.</p>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00136">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00099">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Time to use the skills you acquired in <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a>. Navigate to the location where you downloaded the source code for this book, and in the <code>chapter04</code> folder you will find a directory called <code>gitanjali-aref-step-1</code>.</p>
        <p>Using our favorite version of the <code>git log</code> command (which would be <code>git log --oneline --all --graph</code>), investigate Trinity’s repository and identify the commit IDs of each of her commits, along with the commit message she supplied when she created each commit. Here is her commit history again. Annotate away!</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0161-01.png" alt="Image" width="41" height="139">
        <h6></h6>
        </div></figure>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00137">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="An error in judgment"><div class="sect1" id="an_error_in_judgment">
        <h1>An error in judgment</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0162-01.png" alt="Image" width="208" height="189">
        <h6></h6>
        </div></figure>
        <p>Trinity has just realized something: she made a scheduling error! Gitanjali and Aref suggested July 3 for the engagement party date. There were many things to discuss, so Trinity simply made the change to the <code>invitation-card.md</code> file, and they moved on to other topics.</p>
        <p>But July 4 is the US Independence Day, a bank holiday, full of traffic and people headed to picnics. Oops! Trinity called the couple and brought this to their attention. They agreed it probably wasn’t the best weekend for <em>their</em> celebration, so they decided to keep the date they’d originally agreed on. Except they couldn’t remember what the original date was!</p>
        <p>Fortunately, Trinity had not committed her changes yet. She used the <code>git diff</code> command to compare the changes in her working directory with the state of the index in the <code>gitanjali-aref</code> repository (which, as you know, contains a copy of the file from her first commit). This is the output she saw when she ran <code>git diff</code>:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">If you are wondering how Trinity would have fixed this if she had already committed her changes, worry not! We will see how to fix commits as well in this chapter.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0162-02.png" alt="Image" width="600" height="228">
        <h6></h6>
        </div></figure>
        <p>The <code>git diff</code> command, by default, compares the working directory with the index. Here is the state of the <code>invitation-card.md</code> file in the three regions of Git:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0162-03.png" alt="Image" width="600" height="165">
        <h6></h6>
        </div></figure>
        <p>So how does Trinity recover from this?</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Cubicle conversation"><div class="sect1" id="cubicle_conversation-id00100">
        <h1>Cubicle conversation</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0163-01.png" alt="Image" width="455" height="309">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="files" data-secondary="moving to working directory from index" id="idm45426362266144"></a><a data-type="indexterm" data-primary="files" data-secondary="restoring previous versions" id="idm45426362264912"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="files" id="idm45426362263840"></a><a data-type="indexterm" data-primary="index" data-secondary="files" data-tertiary="moving to working directory" id="idm45426362262736"></a><a data-type="indexterm" data-primary="restore command" data-secondary="files" id="idm45426362261392"></a><a data-type="indexterm" data-primary="working directory" data-secondary="moving files to from index" id="idm45426362260288"></a><strong>Armstrong:</strong> Good thing we use Git for all of our ideas. It’s so easy to see what changes we’ve made. Do you want me to just use the output of the <code>git diff</code> command and use that to bring back all the changes?</p>
        <p><strong>Trinity:</strong> You could do that, and in this case, it’s only two changes, so it’s certainly possible. But here’s something even better: we can ask Git to undo our change for us.</p>
        <p><strong>Armstrong:</strong> Really? How?</p>
        <p><strong>Trinity:</strong> Git is our memory store. We already committed <code>invitation-card.md</code>. This means there is a copy of this file in the index <em>and</em> in the object database. We can ask Git to replace the copy in the working directory with the one in the index.</p>
        <p><strong>Armstrong:</strong> OK, I get that. But how do I get the copy from the index into the working directory?</p>
        <p><strong>Trinity:</strong> The answer lies in a command called <code>git restore</code>. Here, take a look at the output of <code>git status</code> and see what it’s telling you:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0163-02.png" alt="Image" width="600" height="160">
        <h6></h6>
        </div></figure>
        <p><strong>Armstrong:</strong> Ah! I see. Git is telling us we can supply the file path to the <code>git restore</code> command, and that will discard any changes in the working directory.</p>
        <p><strong>Trinity:</strong> Yep. <code>git restore</code> is the opposite of <code>git add</code>. It takes the copy of a file in the index and moves it back into the working directory.</p>
        <p><strong>Armstrong:</strong> Cool! Can we do that now?</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-id00101">
        <h5>Brain Power</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/brain.png" alt="Image" width="155" height="176">
        <h6></h6>
        </div></figure>
        <p>What would you do if you made lots of changes in lots of files that you had previously committed? How would you compare versions? Take your notes here:</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Undoing changes to the working directory"><div class="sect1" id="undoing_changes_to_the_working_directory">
        <h1>Undoing changes to the working directory</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0164-01.png" alt="Image" width="248" height="182">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="add command" id="idm45426362237568"></a><a data-type="indexterm" data-primary="add command" data-secondary="compared to restore command" id="idm45426362236560"></a><a data-type="indexterm" data-primary="errors" data-secondary="error: pathspec did not match any file(s) known to git" id="idm45426362235488"></a><a data-type="indexterm" data-primary="git add command" data-secondary="compared to restore command" id="idm45426362234416"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="compared to add command" id="idm45426362233344"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="working directory" id="idm45426362232240"></a><a data-type="indexterm" data-primary="git status command" data-secondary="working directory, restoring" id="idm45426362231136"></a><a data-type="indexterm" data-primary="restore command" data-secondary="compared to add command" id="idm45426362230064"></a><a data-type="indexterm" data-primary="restore command" data-secondary="working directory" id="idm45426362228960"></a><a data-type="indexterm" data-primary="status command" data-secondary="working directory, restoring" id="idm45426362227856"></a><a data-type="indexterm" data-primary="working directory" data-secondary="restore command" id="idm45426362226784"></a>Trinity has to undo the changes she made to the working directory, by replacing her changes with the ones in the index. She can use the <code>git restore</code> command, supplying it the path to the file that is to be put back.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0164-02.png" alt="Image" width="493" height="103">
        <h6></h6>
        </div></figure>
        <p>If all goes well, Git will not report anything. The only way to find out is to resort to our good friend, <code>git status</code>.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0164-03.png" alt="Image" width="600" height="161">
        <h6></h6>
        </div></figure>
        <p>The <code>git restore</code> command’s default behavior, as you can see, is the exact opposite of the <code>git add</code> command. The <code>add</code> command takes the version of a file that’s in the working directory and makes a copy of it in the index, overwriting the previous version. The <code>restore</code> command, on the other hand, takes the version of the file stored in the index, and overwrites the version in the <em>working directory</em>.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0164-04.png" alt="Image" width="413" height="330">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00102">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>The git restore command is relatively new.</strong></p>
        <p><em>If you get an error like</em> <code>restore is not a git command</code><em>, be sure to check the version of Git you have installed using the</em> <code>git version</code> <em>command. You need to have version 2.23.0 or greater</em>.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00103">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>Git will report an error if you get the filename wrong.</strong></p>
        <p><em>If you make a typo when supplying the name of a file to the</em> <code>git restore</code> <em>command, Git will report</em> <code>error: pathspec did not match any file(s) known to git</code><em>. We suggest you use the output of</em> <code>git status</code> <em>and just copy-paste the names of the files</em>.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00104">
        <h5>there are no Dumb Questions</h5>
        <p><a data-type="indexterm" data-primary="files" data-secondary="restoring previous versions" data-tertiary="multiple files at once" id="idm45426362199808"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="multiple files at once" id="idm45426362198240"></a><a data-type="indexterm" data-primary="restore command" data-secondary="multiple files at once" id="idm45426362197136"></a><a data-type="indexterm" data-primary="text editors" data-secondary="undoing changes, compared to restore command" id="idm45426362196032"></a><strong>Q: Why can’t I just use my editor’s undo function to fix these kinds of mistakes?</strong></p>
        <p><strong>A:</strong> You can. But many editors only keep the undo stack as long as you are using the editor. If you were to close your editor at the end of today, you probably wouldn’t be able to use your editor to undo your changes tomorrow. And if you switch editors, your new editor will certainly not have the old one’s undo stack available.</p>
        <p>Git, on the other hand, can detect differences because it stores your changes on disk. This allows you to use Git even if your editor loses its undo stack.</p>
        <p><strong>Q: The output of the</strong> <code><strong>git diff</strong></code> <strong>command shows me all the things I have changed. Why not just copy and paste them back in my editor? Wouldn’t that have the same effect?</strong></p>
        <p><strong>A:</strong> You could, but it would be a lot more work—and because it’s manual, you run the risk of introducing errors or missing something, especially if you’ve made a bunch of changes across several files. The <code>git restore</code> command uses Git’s ability to detect differences between the index and the working directory, so we know that it will find everything. In other words, the <code>git restore</code> command ensures that you don’t miss a spot.</p>
        <p><strong>Q: What if I want to restore changes in multiple files?</strong></p>
        <p><strong>A:</strong> A great starting point is the output of the <code>git status</code> command, since it lists all files that have been modified. The <code>git restore</code> command can take one or more file paths, so you can supply them all at the same time, as arguments to the <code>git restore</code> command, and undo all those changes in one fell swoop:</p>
        <p><code>git restore file-a file-b file-c</code></p>
        <p>This will restore <code>file-a</code>, <code>file-b</code>, and <code>file-c</code>. Done!</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00105">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Your turn to try restoring files. Pretend you are Trinity’s intern, working at her laptop, and help her fix her issue. Like the last exercise, go to the location where you downloaded the exercises for this book and then open the <code>chapter04</code> folder. Inside that you will find the <code>gitanjali-aref-step-2</code> folder.</p>
        <p>Start with <code>git status</code> and <code>git diff</code> to be sure you can identify which file was modified, and the difference between the working directory and the staging area.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Your task is to restore the modified files in the repository to the version last committed. List the command you will run here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Execute the command, then write the output of <code>git status</code> here:</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00138">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Undoing changes in the index"><div class="sect1" id="undoing_changes_in_the_index">
        <h1>Undoing changes in the index</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0166-01.png" alt="Image" width="223" height="236">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="changes" data-see="restore command" id="idm45426362171376"></a><a data-type="indexterm" data-primary="flags" data-secondary="restore command" id="idm45426362170176"></a><a data-type="indexterm" data-primary="flags" data-secondary="restore command" data-tertiary="--staged" id="idm45426362169072"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="--staged flag" id="idm45426362167696"></a><a data-type="indexterm" data-primary="index" data-secondary="undoing changes" id="idm45426362166592"></a><a data-type="indexterm" data-primary="restore command" data-secondary="--staged flag" id="idm45426362165488"></a><a data-type="indexterm" data-primary="--staged flag (restore command)" id="idm45426362164384"></a>When Trinity fixed her error, she had not yet added the <code>invitation-card.md</code> file to the index. But what if she had? How would she go about restoring her changes?</p>
        <p>When a file is added to the index, Git makes a copy of the file in the working directory and places it in the index. This is what the state of the working directory would look like for Trinity if she <em>had</em> added <code>invitation-card.md</code> to the index.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0166-02.png" alt="Image" width="600" height="298">
        <h6></h6>
        </div></figure>
        <p>The answer lies in the output of <code>git status:</code></p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0166-03.png" alt="Image" width="600" height="134">
        <h6></h6>
        </div></figure>
        <p>Git tells us exactly what to do to fix this. We can use the same <code>restore</code> command, except this time we have to give it the <code>--staged</code> flag, followed by the filename, like so:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0166-04.png" alt="Image" width="600" height="82">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00106">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>What command would you use to see what has changed in <code>invitation-card.md</code>? Feel free to flip back to <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a> if you need a refresher. List that command here:</p>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00139">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        <p><a data-type="indexterm" data-primary="commit command, compared to restore command" id="idm45426362144416"></a><a data-type="indexterm" data-primary="git commit command" data-secondary="compared to restore command" id="idm45426362143584"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="compared to commit command" id="idm45426362142512"></a><a data-type="indexterm" data-primary="index" data-secondary="replacing with object database content" id="idm45426362141440"></a><a data-type="indexterm" data-primary="object database" data-secondary="replacing index content with" id="idm45426362140368"></a><a data-type="indexterm" data-primary="restore command" data-secondary="compared to commit command" id="idm45426362139296"></a>The <code>git restore</code> with the <code>--staged</code> flag is the command you can use to restore files in the index to their previous state. But what does this command actually do? You know <code>git restore</code> (without any flags) replaces the contents of the working directory with the contents held by the index.</p>
        <p>When the <code>git restore</code> command is supplied with the <code>--staged</code> flag, Git takes the content of the file in the object database, specifically the contents as they were <em>last</em> recorded in a commit, and overwrites the contents of the file in the index with that content. This is what it looks like:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0167-01.png" alt="Image" width="426" height="337">
        <h6></h6>
        </div></figure>
        <p>Earlier we discussed that <code>git restore</code> is the opposite of <code>git add</code>—the latter copies the contents of a file from the working directory into the index, the former copies from the index into the working directory. You can think of <code>git restore</code> with the <code>--staged</code> flag as having the opposite effect on your files as the <code>git commit</code> command. The <code>git commit</code> command, as you know, takes the contents of the index and stores them in the object database. The <code>git restore</code> command takes the previously committed contents of a file and overwrites the index with them.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Note: git restore with the --staged flag is not undoing the commit! It’s simply copying the contents of the file as they were <u>last</u> committed into the index.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0167-02.png" alt="Image" width="444" height="328">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-id00107">
        <h5>Brain Power</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/brain.png" alt="Image" width="155" height="176">
        <h6></h6>
        </div></figure>
        <p>Say you have a clean working directory—that is, <code>git status</code> tells you <code>nothing to commit, working tree clean</code>. You edit a file, then use the <code>git add</code> command to add it to the index. But then you change your mind! You use <code>git restore --staged</code> to recover the contents of the file from the object database. What will <code>git status</code> report?</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00108">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Back to work! This time around, you’re going to work with the folder named <code>gitanjaliaref-step-3,</code> inside the <code>chapter04</code> folder. Navigate to that folder and see if you can help Trinity restore a file she accidentally added to the index.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> As always, start with <code>git status</code> and <code>git diff --cached</code> and see if you can spot what changed between the object database and the index.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, use what you just learned to recover the contents of the index. List the command you will use here first:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, look at the output of <code>git status</code>. What do you see? Explain your answer here by describing the state of <code>invitation-card.md</code> in terms of the differences between the working directory, index, and the object database.</p></li>
        </ul>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0168-01.png" alt="Image" width="600" height="112">
        <h6></h6>
        </div></figure>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00140">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="who_does_whatquestion_mark-id00109">
        <h5>Who Does What?</h5>
        <p>We had our Git commands all figured out, and then they got all mixed up. Can you help us figure out who does what?</p>
        <table class="border">
        <tbody>
        <tr>
        <td>git status</td>
        <td>Compares the index and the working directory</td>
        </tr>
        <tr>
        <td>git diff</td>
        <td>Displays the branches in your repository</td>
        </tr>
        <tr>
        <td>git restore --staged</td>
        <td>Recovers files from the object database into the index</td>
        </tr>
        <tr>
        <td>git diff --cached</td>
        <td>Recovers files from the index into the working directory</td>
        </tr>
        <tr>
        <td>git branch</td>
        <td>Displays the state of the working directory and the index</td>
        </tr>
        <tr>
        <td>git restore</td>
        <td>Compares the object database with the index</td>
        </tr>
        </tbody>
        </table>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#who_does_what_solutionquestion_m-id00141">“Who Does What Solution?”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Deleting files from Git repositories"><div class="sect1" id="deleting_files_from_git_repositories">
        <h1>Deleting files from Git repositories</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0169-01.png" alt="Image" width="232" height="258">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="deleting" data-secondary="files" id="idm45426362082816"></a><a data-type="indexterm" data-primary="files" data-secondary="deleting" id="idm45426362081488"></a><a data-type="indexterm" data-primary="git rm command" id="idm45426362080384"></a><a data-type="indexterm" data-primary="repositories" data-secondary="files" id="idm45426362079552"></a><a data-type="indexterm" data-primary="repositories" data-secondary="files" data-tertiary="deleting" id="idm45426362078448"></a><a data-type="indexterm" data-primary="rm command" id="idm45426362077072"></a>“Huh. Well, that’s a first,” thought Trinity, as she read Gitanjali’s email informing her that the engaged couple have decided not to set up a gift registry for their engagement party. Instead, they want to set up a “home fund” to allow their families and friends to contribute money directly toward their first home.</p>
        <p>However, in previous discussions, Gitanjali and Aref did have some ideas for gifts, which Trinity listed in a file called <code>gift-registry.md</code> and committed on her <code>master</code> branch. Here is the list of files in the <code>master</code> branch:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0169-02.png" alt="Image" width="600" height="116">
        <h6></h6>
        </div></figure>
        <p>Trinity would rather not have superfluous files in her repository, so she needs to delete the gift registry. But how?</p>
        <p>Git has a command for this—<code>git rm</code>. Just like the <code>git restore</code> command, the <code>git rm</code> command takes the paths of one or more <em>tracked</em> files and removes them from the working directory <em>and</em> the index. To remove the <code>gift-registry.md</code>, this is what Trinity would use:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0169-03.png" alt="Image" width="433" height="118">
        <h6></h6>
        </div></figure>
        <p>And this is the state of Trinity’s repository after she runs this command:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0169-04.png" alt="Image" width="413" height="206">
        <h6></h6>
        </div></figure>
        <p>Note that the object database is <strong>not</strong> affected. The question is—what is the status of the repository after we run the <code>git rm</code> command?</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Committing to delete"><div class="sect1" id="committing_to_delete">
        <h1>Committing to delete</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0170-01.png" alt="Image" width="195" height="197">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="files" data-tertiary="deleting" id="idm45426362062448"></a><a data-type="indexterm" data-primary="object database" data-secondary="files" data-tertiary="deleted" id="idm45426362060704"></a><a data-type="indexterm" data-primary="tracked files" data-secondary="deleting" id="idm45426362059328"></a><a data-type="indexterm" data-primary="untracked files" data-secondary="deleting" id="idm45426362058224"></a>What does the <code>git rm</code> command really do? Its role is to remove (“rm”) tracked files. After running <code>git rm gift-registry.md</code>, when Trinity lists the files in her working directory, this is what she sees:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0170-02.png" alt="Image" width="509" height="126">
        <h6></h6>
        </div></figure>
        <p>As you can see, one effect of the <code>git rm</code> command is to delete the file from the working directory. It also removes the file from the index, as <code>git status</code> highlights:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0170-03.png" alt="Image" width="600" height="150">
        <h6></h6>
        </div></figure>
        <p>The output of the <code>git status</code> command is something you haven’t seen before. It’s telling us that a file was deleted, and that if you are indeed sure that this is what you want, you should commit these changes.</p>
        <p>In other words, this commit will record the fact that a previously added and committed file is being deleted! That’s different from what you have done so far in this book, where you have always committed new or edited files.</p>
        <p>At this point you can choose to make a commit with an appropriate message or use the <code>restore</code> command to undo the deletion.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Read that again! You can use the git restore command to get back a file that you just deleted but haven’t committed yet. Super handy if you make a typo in the filename and accidentally remove the wrong file.</span></p>
        </div>
        <p>There are two things to note here. First, you can only use the <code>git rm</code> command to delete <em>tracked</em> files. If you’ve only added a new file to the working directory (that is, it’s an “untracked” file), you can just delete it like you would any other file: by moving it to the Trash (Mac) or the Recycle Bin (Windows).</p>
        <p>Second, the <code>git rm</code> command only deletes files from the working directory and the index. Versions of the file that were previously committed remain as they were in the object database. This is because a commit represents the changes you made at the time of the commit. If a file existed at the time a commit was made, the commit will remember that for as long as the repository exists.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">This may sound surprising. However, a commit is a snapshot in time. Think of those childhood photos of you with a weird haircut. Just because you are sporting a trendy haircut now doesn’t mean that was always the case. And we have pictures to prove it!</span></p>
        </div>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00110">
        <h5>there are no Dumb Questions</h5>
        <p><a data-type="indexterm" data-primary="add command" data-secondary="-u flag" id="idm45426362812000"></a><a data-type="indexterm" data-primary="add command" data-secondary="--update flag" id="idm45426362046112"></a><a data-type="indexterm" data-primary="Finder (macOS)" id="idm45426362045472"></a><a data-type="indexterm" data-primary="Finder (macOS)" data-secondary="files" id="idm45426362044960"></a><a data-type="indexterm" data-primary="Finder (macOS)" data-secondary="files" data-tertiary="deleting" id="idm45426362044096"></a><a data-type="indexterm" data-primary="flags" data-secondary="add command" id="idm45426362042784"></a><a data-type="indexterm" data-primary="flags" data-secondary="add command" data-tertiary="-u or --update" id="idm45426362041680"></a><a data-type="indexterm" data-primary="git add command" data-secondary="-u or --update flag" id="idm45426362040304"></a><a data-type="indexterm" data-primary="-u flag (add command)" id="idm45426362039200"></a><a data-type="indexterm" data-primary="--update flag (add command)" id="idm45426362038368"></a><a data-type="indexterm" data-primary="Windows Explorer, deleting and renaming files" id="idm45426362037568"></a><strong>Q: Why can’t I just delete files using Finder or File Explorer?</strong></p>
        <p><strong>A:</strong> Remember that any changes you make, like adding, editing, or deleting files, only affect the working directory. In order to commit the deletion, you also need to remove the file from the index, because a commit only records changes in the index. If you choose to use the Finder (for Mac) or File Explorer (for Windows) to delete a file, you will then have to run the <code>git add</code> command with a special flag, <code>-u</code> or <code>--update,</code> to tell Git to record the name of the deleted file in the index:</p>
        <p><code>git add -u gift-registry.md</code></p>
        <p>The <code>git rm</code> command, as we have seen, updates the working directory <em>and</em> the index for us, saving us from having to run the <code>git add</code> command again. We feel it’s far more convenient to use the <code>git rm</code> command.</p>
        <p><strong>Q: Why can’t I use the</strong> <code><strong>git rm</strong></code> <strong>command to delete untracked files?</strong></p>
        <p><strong>A:</strong> Git commands can only be used for files that Git knows about: that is, they can only operate on tracked files. For any file that Git does not know about, you’ll have to use your operating system’s traditional mechanisms, like Finder or File Explorer, for deleting, renaming, and so on.</p>
        <p><strong>Q: You mentioned that deleting a file does not remove it from the object database. Is there any way I <em>can</em> delete files from the object database?</strong></p>
        <p><strong>A:</strong> Recall that every commit records everything in the index, along with some metadata (like your name and email address) and the commit message. All this information is used to calculate the commit’s ID. Furthermore, this commit ID may be recorded as the parent of one or more child commits. In other words, removing one or more files from a commit involves recalculating that commit’s ID, as well as those of any child commits.</p>
        <p>Git does offer some advanced mechanisms to do this, but they fall well outside the scope of this book.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00111">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00142">“Exercise Solution”</a>.</strong></p>
        <p>It’s time for you to practice removing tracked files. Navigate to the <code>gitanjali-aref-step-4</code> folder inside the <code>chapter04</code> directory.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Start by listing the files in the working directory:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0171-01.png" alt="Image" width="600" height="105">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Use the <code>git rm</code> command to remove the <code>gift-registry.md</code> file. Be sure to check the status of the repository.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> List the files again in the working directory:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0171-02.png" alt="Image" width="600" height="110">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, commit your changes using the message “delete gift registry”.</p></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00112">
        <h5>Serious Coding</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cap.png" alt="Image" width="123" height="128">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="deleting" id="idm45426361992496"></a><a data-type="indexterm" data-primary="deleting" data-secondary="directories" id="idm45426361991760"></a><a data-type="indexterm" data-primary="directories" data-secondary="deleting" id="idm45426361990784"></a><a data-type="indexterm" data-primary="files" data-secondary="mv command" id="idm45426361989776"></a><a data-type="indexterm" data-primary="files" data-secondary="renaming" id="idm45426361988672"></a><a data-type="indexterm" data-primary="Finder (macOS)" data-secondary="files" data-tertiary="renaming" id="idm45426361987568"></a><a data-type="indexterm" data-primary="flags" data-secondary="rm command" id="idm45426361986192"></a><a data-type="indexterm" data-primary="flags" data-secondary="rm command" data-tertiary="-r" id="idm45426361985088"></a><a data-type="indexterm" data-primary="git mv command" id="idm45426361983712"></a><a data-type="indexterm" data-primary="git rm command" data-secondary="flags, -r" id="idm45426361982880"></a><a data-type="indexterm" data-primary="moving files" id="idm45426361981776"></a><a data-type="indexterm" data-primary="mv command" id="idm45426361980944"></a><a data-type="indexterm" data-primary="renaming" data-secondary="files" id="idm45426361980112"></a><a data-type="indexterm" data-primary="-r flag (rm command)" id="idm45426361979008"></a>When you tell Git to remove a file, it only has to delete the file. However, in order to delete a directory, Git has to remove all the files (or subdirectories) included within the directory you specify. In that case, the <code>git rm</code> command has to be supplied the <code>-r</code> (for recursive) flag, which gives Git permission to recursively delete all the files in the directory you specify.</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Renaming (or moving) files"><div class="sect1" id="renaming_left_parenthesisor_movingright">
        <h1>Renaming (or moving) files</h1>
        <p>Let’s look at another operation that’s closely related to deleting files—renaming or moving files. Git affords you another command—the <code>git mv</code> command. The <code>git mv</code> command has all of the same characteristics as the <code>git rm</code> command—the <code>git mv</code> command only works with tracked files, and like the <code>git rm</code> command, the <code>git mv</code> command renames or moves the files you tell it to in both the working directory and the index. Let’s say you have a file called <code>file-a.md</code> and you want to rename it to <code>file-b.md</code>:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0172-01.png" alt="Image" width="515" height="104">
        <h6></h6>
        </div></figure>
        <p><code>git status</code> will report the file rename:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0172-02.png" alt="Image" width="600" height="200">
        <h6></h6>
        </div></figure>
        <p>As with removing files, you can always choose to rename files using the Finder or File Explorer, but you’ll still have to update the index to reflect the new filenames. However, like the <code>git rm</code> command, the <code>git mv</code> command not only updates the working directory for you, it also updates the index to reflect the change—so you’re just one step away from committing your changes.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Editing commit messages"><div class="sect1" id="editing_commit_messages">
        <h1>Editing commit messages</h1>
        <p><a data-type="indexterm" data-primary="commit messages" data-secondary="editing" id="idm45426361966672"></a><a data-type="indexterm" data-primary="editing commit messages" id="idm45426361965296"></a>The engagement-party planning is in full swing, with Gitanjali and Aref bouncing ideas off Trinity. One thing they feel all their friends will enjoy is spending time in nature, so on their last call they suggested a camping party. The plan is simple—everyone can bring a tent and contribute supplies like food and drinks, cooking supplies, and plasticware. They’ll make s’mores over the campfire and celebrate under the stars.</p>
        <p>Trinity realizes that this is just one of many ideas that she’s going to be working with, so she creates a branch in her repository called <code>camping-trip</code>. She creates a new file called <code>outdoor-supplies.md</code> to draft a checklist of guests and supplies. She adds the file to the index, then commits it with the commit message “final outdoors plan”.</p>
        <p>Trinity knows she’s messed up as soon as she hits the Return key. Gitanjali and Aref are still coming up with ideas and have yet to iron out all the details. They’ll probably ask for changes or even switch plans altogether, so the commit message “final outdoors plan” seems a little premature.</p>
        <p>Trinity is nothing if not a stickler for details. She is going to have to edit that commit message.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00113">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Let’s make sure you understand Trinity’s commit history so far. Go ahead and navigate to the <code>gitanjali-aref-step-5</code> folder inside the <code>chapter04</code> folder.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Start by listing the branches and indicate the branch you are on right now.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Use the skills you acquired in <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a> to sketch out Trinity’s commit history. The command to use is <code>git log --oneline --all --graph</code>.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00143">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        <p><a data-type="indexterm" data-primary="amended commits" id="idm45426361943776"></a><a data-type="indexterm" data-primary="amended commits" data-secondary="indexes" id="idm45426361943040"></a><a data-type="indexterm" data-primary="amended commits" data-secondary="working directories" id="idm45426361942000"></a><a data-type="indexterm" data-primary="--amend flag (commit command)" id="idm45426361940896"></a><a data-type="indexterm" data-primary="commit command, compared to restore command" data-secondary="flags" id="idm45426361940096"></a><a data-type="indexterm" data-primary="commit command, compared to restore command" data-secondary="flags" data-tertiary="--amend" id="idm45426361939024"></a><a data-type="indexterm" data-primary="flags" data-secondary="commit command" data-tertiary="--amend" id="idm45426361937680"></a><a data-type="indexterm" data-primary="git commit command" data-secondary="flags" id="idm45426361936304"></a><a data-type="indexterm" data-primary="git commit command" data-secondary="flags" data-tertiary="--amend" id="idm45426361935200"></a><a data-type="indexterm" data-primary="index" data-secondary="amended commits" id="idm45426361933824"></a><a data-type="indexterm" data-primary="working directory" data-secondary="amended commits" id="idm45426361932720"></a>It’s a good thing Trinity caught the bad commit message as soon as she made it. Git allows for editing commit messages using the <code>git commit</code> command, with a special flag called <code>--amend</code>.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0174-01.png" alt="Image" width="246" height="280">
        <h6></h6>
        </div></figure>
        <p>The first thing to check is that you are on the same branch as the commit you wish to edit. The next thing, and this is super important, is that you want to have a <strong>clean working directory</strong>. You can verify both of these with our good friend the <code>git status</code> command.</p>
        <p>Next, you can amend the last commit on the branch:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0174-02.png" alt="Image" width="600" height="171">
        <h6></h6>
        </div></figure>
        <p>After this, Git will record a commit replacing the one you had, except this time it will reflect the new commit message. This commit will have all the same changes as the original commit, including all the same metadata, like your name and email and the timestamp (which will also be the same). In other words, the only difference between the previous commit and the amended commit is the commit message.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00114">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>Be sure to have a clean working directory when amending commits.</strong></p>
        <p><em>When amending commits, you should have a clean working directory. Specifically, you want no uncommitted changes in the index, or else the changes you’ve staged will be part of the amended commit! That is, you might accidentally add more changes to the commit than you intended to. Make it a practice to always check the</em> <code>git status</code> <em>prior to amending commits</em>.</p>
        <p><em>But what if you have have already staged changes? The easiest thing to do here is to use the</em> <code>git restore</code> <em>command with the</em> <code>--staged</code> <em>flag for every file you have in the index, so that Git puts them back in the working directory. Only then should you amend the latest commit</em>.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00115">
        <h5>there are no Dumb Questions</h5>
        <p><strong>Q: Can I amend any commit in my repository?</strong></p>
        <p><strong>A:</strong> No. Git only allows you to amend the latest commit on any branch, which we’ve referred to as the “tip” of the branch.</p>
        <p><strong>Q: Can I amend a commit more than once, like if I make a typo while amending a commit?</strong></p>
        <p><strong>A:</strong> Absolutely. Feel free to amend again and again to your heart’s content.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00116">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Will you help Trinity fix the error in her commit message? Switch to your terminal. Navigate to the <code>gitanjaliaref-step-5</code> directory in the <code>chapter04</code> folder. Make sure you’re on the <code>camping-trip</code> branch.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Use the <code>git commit</code> command with the <code>--amend</code> flag to edit the last commit on the <code>camping-trip</code> branch. Change the commit message to be “initial outdoors plan” (instead of “final outdoors plan”). Jot down the first command you are going to use here, then give it a try:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, use <code>git log --oneline --all --graph</code> to make sure that you can see the amended commit in your history.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Has the commit ID changed? Explain why or why not.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00144">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0176-01.png" alt="Image" width="360" height="748">
        <h6></h6>
        </div></figure>
        <section data-type="sect2" data-pdf-bookmark="Aren’t you the observant one!"><div class="sect2" id="arenapostrophet_you_the_observant_oneexc">
        <h2>Aren’t you the observant one!</h2>
        
        <p><a data-type="indexterm" data-primary="commits" data-secondary="immutability of" id="idm45426361895184"></a>When you ask Git to amend a commit, Git pulls a fast one. It essentially looks at the commit you are appending and <strong>copies</strong> all the changes you made in that commit back into the index. <em>It leaves the original commit as is</em>. It then runs <code>git commit</code> again, this time with the new commit message, which records the changes put in the index by the commit you are amending.</p>
        <p>You see, Git commits are <em>immutable</em>. That is, once you create a commit, that version of the commit is preserved. Any edits to the commit (like amending it) will create a new commit that <em>replaces</em> the old commit in your history. Think of it as like writing in pen versus pencil: with a pen, you can cross out your mistakes, but you can’t erase them. Immutable commits are one of Git’s biggest strengths, and a lot of the power in Git comes from this simple idea.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0176-02.png" alt="Image" width="600" height="347">
        <h6></h6>
        </div></figure>
        <p>This is why you should always check the status of your repository <strong><em>before</em></strong> you amend a commit. If by chance you’ve added files to the index and you proceed to amend a commit, all of the files in the index will show up in the new commit. That is, the new commit will record more changes (both the files you had in the index and the files Git added from the amended commit).</p>
        <p>As for the commit you amend? Git keeps it around for a while, but will eventually delete it from your repository.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">This is yet another instance of Git’s cautious nature. By keeping old commits around for a while, it gives you even more chances to recover. How you would go about doing that goes beyond the scope of the book. And don’t worry about those commits lying around—Git is <u>very</u> good at housekeeping.</span></p>
        </div>
        </div></section>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Renaming branches"><div class="sect1" id="renaming_branches">
        <h1>Renaming branches</h1>
        <p><a data-type="indexterm" data-primary="branch command" data-secondary="flags" data-tertiary="-m" id="idm45426362131520"></a><a data-type="indexterm" data-primary="branch command" data-secondary="flags" data-tertiary="--move" id="idm45426361884992"></a><a data-type="indexterm" data-primary="branches" data-secondary="renaming" id="idm45426361883616"></a><a data-type="indexterm" data-primary="flags" data-secondary="branch command" data-tertiary="-m or --move" id="idm45426361882512"></a><a data-type="indexterm" data-primary="git branch command" data-secondary="flags" data-tertiary="-m or --move" id="idm45426361881136"></a><a data-type="indexterm" data-primary="-m flag (branch command)" id="idm45426361879760"></a><a data-type="indexterm" data-primary="--move flag (branch command)" id="idm45426361878960"></a><a data-type="indexterm" data-primary="renaming" id="idm45426361878160"></a><a data-type="indexterm" data-primary="renaming" data-secondary="branches" id="idm45426361877328"></a>Trinity finds herself bemused: Gitanjali and Aref have just informed her that their outdoors engagement party isn’t just camping—it’s “glamping,” short for “glamorous camping.” “Glamping” still involves spending time with nature, but with all the comforts of home and then some: electricity, a roof over your head, and some fabulous furniture and decorations.</p>
        <p>Trinity is always keen to learn new things, and she wants to get the details right. The branch name “camping-trip” seems incorrect now that she knows about glamping. She’s going to have to rename that branch.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0177-01.png" alt="Image" width="299" height="280">
        <h6></h6>
        </div></figure>
        <p>There are plenty of reasons you might want to rename branches like Trinity did. Perhaps you don’t like the name “master” and you want to use “main” instead. Perhaps you made a typo in the name of your branch. No matter the reason, Git aims to please.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Yep, we hate tpyos too!</span></p>
        </div>
        <p>In <a data-type="xref" href="ch02.html#branching_outcolon_multiple_trains_of_th">Chapter&nbsp;2</a>, as you probably recall, you learned that a branch works like a sticky note that records the name of the branch and the ID of the latest commit on that branch. Creating a branch is simply creating a new “sticky note.”</p>
        <p>Renaming the branch is just as easy. Git simply grabs the “sticky note” that represents the branch and overwrites the name!</p>
        <p>To rename a branch, you use the <code>git branch</code> command—except this time, you supply the <code>-m</code> (or <code>--move</code>) flag.</p>
        <p>Trinity wants to rename <code>camping-trip</code> to <code>glamping-trip</code>. There are <strong>two ways</strong> she can go about this.</p>
        <ol>
        <li><p><strong>Switch to the branch you wish to fix, then rename:</strong></p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0177-02.png" alt="Image" width="529" height="137">
        <h6></h6>
        </div></figure></li>
        <li><p><strong>Rename a branch without switching:</strong></p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0177-03.png" alt="Image" width="500" height="86">
        <h6></h6>
        </div></figure></li>
        </ol>
        <p>The second option works regardless of what branch you are currently on—the command works even if the branch you are attempting to rename is the current branch. This is why we always prefer using the second option.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Most Git commands offer different ways of achieving the same thing. Having a consistent way of always doing something frees up your brain so you can think of more important things in life—like, is it a good idea to smear avocado on fruit? What does it mean to put fruit on fruit?</span></p>
        </div>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Didn’t realize avocado is a fruit, did ya? See what we mean by more important things in life?</span></p>
        </div>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00117">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Why don’t you take a few minutes to help Trinity rename the <code>camping-trip</code> branch? Navigate to <code>gitanjaliaref-step-6</code> inside the <code>chapter04</code> folder.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Your first action step is to ensure you are on the <code>camping-trip</code> branch. Write the command you will use to list the branches in the repository.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, <code>switch</code> to the <code>camping-trip</code> branch and rename it to <code>glamping-trip</code>. Use this space to list the command you are going to use.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, list the branches again:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0178-01.png" alt="Image" width="600" height="122">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, you are going to rename <code>master</code> to <code>main</code>, <em>without switching to master</em>. Note the command you are going to use here first:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Just to be sure you got it right, jot down the branches in your repository again.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0178-02.png" alt="Image" width="600" height="130">
        <h6></h6>
        </div></figure></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00145">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Making alternative plans"><div class="sect1" id="making_alternative_plans">
        <h1>Making alternative plans</h1>
        <p><a data-type="indexterm" data-primary="branches" data-secondary="importance of" id="idm45426361839120"></a>When Trinity plans big events, she likes to have several ideas in her back pocket, just in case something falls through. Gitanjali and Aref are huge board-game fans with a massive collection of games. The second idea they’ve been throwing around is to celebrate their engagement doing what they love: strategizing, rolling the dice, and bonding with their friends over board games!</p>
        <p>To capture this idea, Trinity creates a new branch based on <code>main</code>, which she calls <code>boardgame-night</code>. She next creates a file called <code>indoor-party.md</code> and takes notes about which games are on the list, then commits it. Gitanjali, Aref, and Trinity also discuss potential venues to host the party, which Trinity puts in a file called <code>boardgame-venues.md</code>. She adds a note about venue selection to <code>indoor-party.md</code> and makes another commit.</p>
        <p>Trinity feels good now. Gitanjali and Aref have two strong party ideas—one outdoors event, and one indoors.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00118">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Why don’t you spend a little time looking over Trinity’s repository? Start by navigating to the <code>gitanjali-aref-step-7</code> folder inside the <code>chapter04</code> directory.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> List the branches in the repository and note the branch you are on:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0179-01.png" alt="Image" width="600" height="129">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Use <code>git log --oneline --all --graph</code> to sketch out Trinity’s commit history:</p></li>
        </ul>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Draw the commit history here.</span></p>
        </div>
        <p>You aren’t done yet! Look to the next page.</p>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00146">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00119">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Next, look at the changes Trinity made in her latest commit: she added a new file and edited an existing file. Here is the command she runs now:</p>
        <p><code>git diff 3e3e847 39107a6</code></p>
        <p>And here is the output. Your job is to annotate it. (Remember, she added a new file, and edited another.) We’ve got you started:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0180-01.png" alt="Image" width="600" height="495">
        <h6></h6>
        </div></figure>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00147">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0181-01.png" alt="Image" width="573" height="800">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="HEAD" data-tertiary="overview" id="idm45426361795152"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="overview" id="idm45426361793680"></a><strong>Turns out there is!</strong> Its name is <code>HEAD</code>. You’ve seen <code>HEAD</code> before. In fact, in <a data-type="xref" href="ch02.html#branching_outcolon_multiple_trains_of_th">Chapter&nbsp;2</a> we even gave you a rhyme to help you remember what it means. Here it is again:</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="make_it_stick-id00120">
        <h5>Make it Stick</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/brain1.png" alt="Image" width="114" height="93">
        <h6></h6>
        </div></figure>
        <p><em>Violets are blue</em></p>
        <p><em>Roses are red</em></p>
        <p><em>The commit that you’re on</em></p>
        <p><em>Is referred to as HEAD</em>.</p>
        </div></aside>
        <p>If you’ve ever used a smartphone with a map application, then you already know what <code>HEAD</code> is. It’s the pin that shows you exactly where you are on the map.</p>
        <p>Similarly, if you can visualize your commit history as a series of different timelines (branches), then <code>HEAD</code> marks your current location. Furthermore, <code>HEAD</code> knows about the “stops” you made along the way, also known as commits, so you can use <code>HEAD</code> to reference commits in relation to your current location and even to hop between commits.</p>
        <section data-type="sect2" data-pdf-bookmark="HEAD Tells All"><div class="sect2" id="head_tells_all">
        <h2>HEAD Tells All</h2>
        <section data-type="sect3" data-pdf-bookmark="An exclusive interview"><div class="sect3" id="an_exclusive_interview">
        <h3>An exclusive interview</h3>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0182-01.png" alt="Image" width="107" height="154">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="* (asterisk)" data-secondary="HEAD" id="idm45426361774960"></a><a data-type="indexterm" data-primary="asterisk (*)" data-secondary="HEAD" id="idm45426361773792"></a><a data-type="indexterm" data-primary="branches" data-secondary="listing" data-tertiary="HEAD" id="idm45426361772688"></a><a data-type="indexterm" data-primary="commit histories" data-secondary="navigating" id="idm45426361771312"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="asterisk (*) operator" id="idm45426361770208"></a><a data-type="indexterm" data-primary="logs" data-secondary="HEAD" id="idm45426361769104"></a><a data-type="indexterm" data-primary="navigating" id="idm45426361768000"></a><a data-type="indexterm" data-primary="navigating" data-secondary="commit histories" id="idm45426361767168"></a><a data-type="indexterm" data-primary="parent commits" data-secondary="HEAD" id="idm45426361766064"></a><strong>Head First:</strong> Welcome, HEAD! We realize you’re super busy out there, what with playing a role in every Git repository, so we’re glad you took the time to speak with us.</p>
        <p><strong>HEAD:</strong> No problem. You’re right, I have a lot riding on my shoulders. <em>Every</em> Git repository uses me <em>all</em> the time. It’s kind of a lot to handle!</p>
        <p><strong>Head First:</strong> That’s impressive, given that you’re just a reference.</p>
        <p><strong>HEAD:</strong> Well, sure, but I’m the user’s compass as they navigate their commit history. Without me, they would be lost. And hey, I’m so important, I’m in the title of this book!</p>
        <p><strong>Head First:</strong> Ahem. Moving on, we know you have an especially large role to play when our readers use the <code>git log</code> command. Care to tell us a little bit more about that?</p>
        <p><strong>HEAD:</strong> You bet. Every time your readers view their Git log, there I am, standing right next to the branch that they’re currently on. Here’s a picture of me on the red carpet in a recent appearance:</p>
        <p><code>97a2899 (HEAD -&gt; boardgame-night)</code></p>
        <p><strong>Head First:</strong> Looking good there, HEAD! Any other recent appearances that you want to share with us?</p>
        <p><strong>HEAD:</strong> My talent agent sure has my calendar full. I make a cameo experience every time your readers use the <code>git branch</code> command to list all the branches in their repository.</p>
        <p><strong>Head First:</strong> Really? How does that work?</p>
        <p><strong>HEAD:</strong> You know that asterisk that shows up in the branch list? Yeah, that’s me! It took me months of training to get into character, but it was totally worth it.</p>
        <p><strong>Head First:</strong> So that’s it? Your role centers around telling our readers where they are in the commit history.</p>
        <p><strong>HEAD:</strong> That’s it? You don’t know anything about me, do you? My role isn’t just to tell your users where they are in the commit history. Git itself needs me. It can’t work correctly without me. Did you know that?</p>
        <p><strong>Head First:</strong> Wow. You got me.</p>
        <p><strong>HEAD:</strong> Your readers know that every time you make a commit, the new commit has a reference to the parent commit.</p>
        <p><strong>Head First:</strong> Sure. That’s how the commit history is built over time.</p>
        <p><strong>HEAD:</strong> How do you think Git knows what the parent commit is?</p>
        <p><strong>Head First:</strong> Huh. That’s interesting.</p>
        <p><strong>HEAD:</strong> I don’t get enough credit for that role. I think that’s what will get me the Oscar nomination. You see, when your readers make a new commit, Git looks to me first to see which commit I’m pointing to. It then records <em>that</em> commit ID as the parent of the new commit.</p>
        <p><strong>Head First:</strong> Impressive! That’s a pretty important role. Are you proud of the work you’re doing there?</p>
        <p><strong>HEAD:</strong> Absolutely! The commit I am pointing to will always be the parent commit of the next commit in the repository. That’s HUGE!</p>
        <p><strong>Head First:</strong> Well, thank you so much for your time.</p>
        <p><strong>HEAD:</strong> Wait, I haven’t told you about my upcoming role in this superhero—</p>
        <p><strong>Head First:</strong> We’ll have to leave it here. Looking forward to next time. Thanks for joining us, HEAD!</p>
        </div></section>
        </div></section>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="The role of HEAD"><div class="sect1" id="the_role_of_head">
        <h1>The role of HEAD</h1>
        <p><a data-type="indexterm" data-primary="branches" data-secondary="merging" data-tertiary="HEAD" id="idm45426361741584"></a><a data-type="indexterm" data-primary="commit histories" data-secondary="HEAD, role of" id="idm45426361740816"></a><a data-type="indexterm" data-primary="commits" data-secondary="HEAD" data-tertiary="role of" id="idm45426361740176"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="role of" id="idm45426361739072"></a><a data-type="indexterm" data-primary="merging" data-secondary="branches" data-tertiary="HEAD" id="idm45426361738032"></a>Every time you switch branches, <code>HEAD</code> moves to reflect the branch you switched to. Consider a hypothetical commit history. Let’s say you are on the <code>master</code> branch, so <code>HEAD</code> points to the latest commit on that branch. When you switch branches, <code>HEAD</code> moves to the new branch:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0183-01.png" alt="Image" width="600" height="188">
        <h6></h6>
        </div></figure>
        <p><code>HEAD</code> is simply a reference, like branches are. This difference is that a Git repository can have many branches, but there is only one <code>HEAD</code>. <code>HEAD</code> also serves as the launch point to decide how the commit history will change, in that the commit that <code>HEAD</code> points to <strong>will be</strong> the parent of the next commit—it’s how Git knows <em>where</em> to add the new commit in the commit history.</p>
        <p>Recall that every time you make a commit on a branch, Git rewrites the branch sticky note to point to the new commit on that branch. Well, there is one more thing that happens—Git moves <code>HEAD</code> to the new commit as well.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0183-02.png" alt="Image" width="600" height="219">
        <h6></h6>
        </div></figure>
        <p>In <a data-type="xref" href="ch02.html#branching_outcolon_multiple_trains_of_th">Chapter&nbsp;2</a>, we spoke of merging branches. We referred to the branch you are on as the proposer, and the branch that is being merged in as the proposee. Once you merge the two branches, the proposing branch moves to reflect the merge—in the case of a fast-forward merge, the proposing branch moves to the latest commit on the proposee branch. In the case of a merge that creates a merge commit, again, the proposing branch moves to the merge commit that is created. In both cases, <code>HEAD</code> moves as well.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00121">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="detached HEAD state" id="idm45426365502624"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="detached HEAD state" id="idm45426361712432"></a>Why don’t you try tracking <code>HEAD</code>? You’re going to use the <code>gitanjali-aref-step-7</code> folder inside the <code>chapter04</code> folder.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Start by using <code>git log --graph --oneline --all</code>, and notice where <code>HEAD</code> is. List it here. What does that tell you about which branch you are on right now?</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, switch to the <code>glamping-trip</code> branch, and use <code>git log --graph --oneline --all</code> again to see where <code>HEAD</code> is at.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Switch to the <code>main</code> branch (remember, you renamed <code>master</code> to <code>main</code> in an earlier exercise). Repeat the above exercise. Once again, jot down where <code>HEAD</code> is at.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> <strong>Super important!</strong> Switch back to the <code>boardgame-night</code> branch, and you should be all set for the exercises to come.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00148">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00122">
        <h5>Serious Coding</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cap.png" alt="Image" width="123" height="128">
        <h6></h6>
        </div></figure>
        <p>So far we have described <code>HEAD</code> as pointing to the latest commit on a branch. In reality, <code>HEAD</code> usually points <em>to a branch</em>, which as you know, always points to the latest commit on that branch. That is, <code>HEAD</code> is an indirect reference to a commit. This distinction usually doesn’t matter since you will almost always be working on a Git branch, so we can assume that both <code>HEAD</code> and the branch sticky note both point to the same commit.</p>
        <p>There is a scenario where <code>HEAD</code> points to a commit that isn’t the latest commit on a branch, but some arbitrary commit in your commit graph. This is called a “detached <code>HEAD</code>” state. We’ll revisit this in future chapters. Don’t touch that dial!</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Referencing commits using HEAD"><div class="sect1" id="referencing_commits_using_head">
        <h1>Referencing commits using HEAD</h1>
        <p><a data-type="indexterm" data-primary="~ (tilde) operator, HEAD" id="idm45426361684032"></a><a data-type="indexterm" data-primary="commits" data-secondary="referencing, HEAD" id="idm45426361683520"></a><a data-type="indexterm" data-primary="diff command" data-secondary="HEAD~" id="idm45426361682768"></a><a data-type="indexterm" data-primary="git diff command" data-secondary="HEAD~" id="idm45426361681792"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="commits" data-tertiary="referencing" id="idm45426361680816"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="tilde (~) operator" id="idm45426361679600"></a><a data-type="indexterm" data-primary="lookup operators, commits" id="idm45426361678496"></a><a data-type="indexterm" data-primary="tilde (~) operator (HEAD)" id="idm45426361677696"></a>Given that <code>HEAD</code> points to the commit you are on, you can reference other commits relative to <code>HEAD</code>. Git offers a special operator, the tilde (~<code>)</code>, that allows you to do this. Consider this hypothetical commit history:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0185-01.png" alt="Image" width="274" height="310">
        <h6></h6>
        </div></figure>
        <p>A number <code>n</code> following the tilde operator represents the nth generational ancestor. For example, <code>HEAD~1</code> references the first parent of the commit you are on. <code>HEAD~2</code> means the parent of the parent of the commit you are, and so on and so forth.</p>
        <p>So how does this help you? Suppose you want to find the difference between the commit you are on and the previous commit, using the <code>git diff</code> command. Instead of having to look up commit IDs, here is how you would go about doing it:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0185-02.png" alt="Image" width="600" height="156">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00123">
        <h5>Serious Coding</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cap.png" alt="Image" width="123" height="128">
        <h6></h6>
        </div></figure>
        <p><code>HEAD~</code> is an alias for <code>HEAD~1</code>. We prefer to be explicit, but feel free to use one or the other.</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Traversing merge commits"><div class="sect1" id="traversing_merge_commits">
        <h1>Traversing merge commits</h1>
        <p><a data-type="indexterm" data-primary="^ (caret) operator, HEAD" id="idm45426361664176"></a><a data-type="indexterm" data-primary="caret (^) operator, HEAD" id="idm45426361660672"></a><a data-type="indexterm" data-primary="commit IDs" data-secondary="caret (^) operator" id="idm45426361659872"></a><a data-type="indexterm" data-primary="commit IDs" data-secondary="tilde (~) operator" id="idm45426361658768"></a><a data-type="indexterm" data-primary="commits" data-secondary="merged" data-tertiary="traversing" id="idm45426361657664"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="caret (^) operator" id="idm45426361656288"></a><a data-type="indexterm" data-primary="merge commits" data-secondary="traversing" id="idm45426361655184"></a>Merge commits, as we discussed in <a data-type="xref" href="ch02.html#branching_outcolon_multiple_trains_of_th">Chapter&nbsp;2</a>, are special. They have more than one parent. So how do you go about navigating from <code>HEAD</code> to the first parent? Or the second parent? Recall that the first parent is the latest commit on the proposing branch, and the second commit is the latest commit from the proposee branch.</p>
        <p>Git offers another operator that works with <code>HEAD</code>: the caret (^), which helps when you’re navigating from commits with multiple parents. Take a look to see how that works for this hypothetical commit graph:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0186-01.png" alt="Image" width="489" height="392">
        <h6></h6>
        </div></figure>
        <p>Like the tilde operator, the caret operator uses a number to figure out which parent of a merge commit you want to reference.</p>
        <p>Finally, you can combine the <code>~</code> operator and the <code>^</code> operator. Here is how <code>HEAD^1~2</code> would traverse the commit history:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0186-02.png" alt="Image" width="600" height="299">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="serious_coding-id00124">
        <h5>Serious Coding</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cap.png" alt="Image" width="123" height="128">
        <h6></h6>
        </div></figure>
        <p>You can use the tilde and caret operators with commit IDs as well.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00125">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>Don’t get carried away with lookup patterns.</strong></p>
        <p><a data-type="indexterm" data-primary="commit histories" data-secondary="navigating" id="idm45426361636432"></a><a data-type="indexterm" data-primary="errors" data-secondary="fatal: ambiguous argument: unknown revision or path not in the working tree" id="idm45426361635200"></a><a data-type="indexterm" data-primary="fatal: ambiguous argument: unknown revision or path not in the working tree error" id="idm45426361634128"></a><a data-type="indexterm" data-primary="merge commits" data-secondary="HEAD~" id="idm45426361633328"></a><a data-type="indexterm" data-primary="navigating" data-secondary="commit histories" id="idm45426361632224"></a><em>Using the lookup operators is nifty, but it’s easy to get carried away and attempt to reference a commit that does not exist. If you do, Git will report a</em> <code>fatal: ambiguous argument: unknown revision or path not in the working tree</code> <em>error. Our recommendation is to use the lookup operators when the lookup pattern is relatively short. Otherwise, you might be better off just referencing a commit using its ID</em>.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00126">
        <h5>there are no Dumb Questions</h5>
        <p><strong>Q: What does HEAD~1 mean for a merge commit?</strong></p>
        <p><strong>A:</strong> That’s a great question. As you know, a merge commit has two parents. If you ask Git to look up <code>HEAD~1</code> for a merge commit, which translates to the merge commit’s parent, Git will follow the path of the first parent. Essentially, <code>HEAD~1</code> for a merge commit is the same as <code>HEAD^1.</code></p>
        <p><strong>Q: All the operators you told me about only navigate back through the commit history. Is there any way to go forward?</strong></p>
        <p><strong>A:</strong> No. Remember that commits point to their parents. However, commits have no idea how many children they have. The two operators we spoke of, namely <code>~</code> and <code>^</code>, are simply following the parent pointer recorded in the commits themselves.</p>
        <p><strong>Q: Would you suggest I always be explicit and use commit IDs, or always use the operators? Is one better than the other?</strong></p>
        <p><strong>A:</strong> The operators you just learned about are simply a different way to reference a commit, so feel free to use whichever is easier. We routinely use the <code>HEAD~1</code> operator with the <code>git diff</code> command, but again, use whichever is more convenient for you. Our recommendation—if the pattern you are using looks complicated, it’s complicated—just use commit IDs.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00127">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Take a little time to practice your newly acquired commit history navigation skills. Here is a hypothetical commit history. We have marked the commits with letters for IDs.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0187-01.png" alt="Image" width="600" height="235">
        <h6></h6>
        </div></figure>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00149">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Undoing commits"><div class="sect1" id="undoing_commits">
        <h1>Undoing commits</h1>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="overview" id="idm45426361610160"></a>Turns out, all the scouting Trinity did to find a place to host board-game night was in vain. Gitanjali and Aref have decided it will be much easier to host the party at their home. This way, if the party goes on late into the night, the guests won’t have to drive back home—they can just crash there for the night.</p>
        <p>Unfortunately, Trinity has already committed the <code>boardgame-venues.md</code> file (with options for venues) in her repository. She also hinted at a possible venue selection coming soon in the <code>indoor-party.md</code> file she created for board-game night. Here is Trinity’s commit history:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0188-01.png" alt="Image" width="562" height="330">
        <h6></h6>
        </div></figure>
        <p>As you can see, Trinity has a commit on the <code>boardgame-night</code> branch that is no longer needed. And now she has to figure out how to get rid of it.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="brain_power-id00128">
        <h5>Brain Power</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/brain.png" alt="Image" width="155" height="176">
        <h6></h6>
        </div></figure>
        <p>So far in this book, you have used the <code>git diff</code> command to see the differences between two commits. You also know how to remove a file from the repository using the <code>git rm</code> command. Can you think of how you would go about resolving Trinity’s dilemma by getting rid of her unneeded commit? What would your commit history look like if you managed to pull this off?</p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Removing commits with reset"><div class="sect1" id="removing_commits_with_reset">
        <h1>Removing commits with reset</h1>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="referencing commits" id="idm45426361605376"></a><a data-type="indexterm" data-primary="git reset command" id="idm45426361595360"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="moving" id="idm45426361651616"></a><a data-type="indexterm" data-primary="reset command" id="idm45426361650544"></a>How does Trinity undo a commit? She has two options. The first option is to simply move the <code>board-game</code> branch back one commit. If she could do this, all her problems would be gone. Essentially, after moving the branch back, her commit graph would look like this:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0189-01.png" alt="Image" width="369" height="303">
        <h6></h6>
        </div></figure>
        <p>In other words, you want to move <code>HEAD</code> to <code>HEAD~1</code>. The command that allows you to do this is the <code>git reset</code>. You can supply <code>git reset</code> with a reference to a commit, either a commit ID or using one of the operators we spoke of, namely tilde (<code>~)</code> or caret (<code>^)</code>.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0189-02.png" alt="Image" width="600" height="172">
        <h6></h6>
        </div></figure>
        <p>The <code>git reset</code> command has two immediate effects—it moves the <code>HEAD</code> <em>and</em> the branch to the commit you specify. But every commit that you make in a repository records a set of changes—you might have added or removed files, or edited existing files, or both. So what happens to those changes?</p>
        <p>Well, that’s the million-dollar question, isn’t it?</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="The three types of reset"><div class="sect1" id="the_three_types_of_reset">
        <h1>The three types of reset</h1>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="soft resets" id="idm45426361580896"></a><a data-type="indexterm" data-primary="flags" data-secondary="reset command" data-tertiary="--soft" id="idm45426361579200"></a><a data-type="indexterm" data-primary="git reset command" data-secondary="flags" data-tertiary="--soft" id="idm45426361577824"></a><a data-type="indexterm" data-primary="object database" data-secondary="commits" data-tertiary="resetting" id="idm45426361576448"></a><a data-type="indexterm" data-primary="reset command" data-secondary="flags" data-tertiary="--soft" id="idm45426361575072"></a><a data-type="indexterm" data-primary="--soft flag (reset command)" id="idm45426361573696"></a><a data-type="indexterm" data-primary="soft resets, commits" id="idm45426361572896"></a>Git has three distinct places where changes can live—the working directory, the index, and the object database. Therefore, the <code>git reset</code> command offers three options to undo a commit, each option doing different things with regards to the changes that you are undoing and how it affects each of the three areas of Git.</p>
        <p>Bear in mind that the one thing the <code>git reset</code> command <em>always</em> does is to move the HEAD <em>and</em> the branch to the commit you specify. The only question we are aiming to answer is, what happens to the changes you had committed? Let’s say your repository had two commits—a commit with ID B, and its parent A.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0190-01.png" alt="Image" width="153" height="185">
        <h6></h6>
        </div></figure>
        <section data-type="sect2" data-pdf-bookmark="git reset --soft"><div class="sect2" id="git_reset_hyphenhyphensoft">
        <h2>git reset --soft</h2>
        <p>The <code>git reset</code> command can be given the <code>--soft</code> flag. This flag takes the edits you committed and <strong>moves</strong> them back into the index, and then from the index it copies those changes into the working directory.</p>
        <p>In other words, the edits you had committed (in commit B) are gone from the object database. It’s like you never made the commit to begin with! But because they are in the index, you’re just one <code>git commit</code> command away from committing them back. Those changes are still available to you—in the index and the working directory. HEAD now points to commit A.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0190-02.png" alt="Image" width="600" height="260">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00129">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Suppose you had a clean working directory before you ran <code>git reset --soft A</code>. What would <code>git status</code> report?</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0190-03.png" alt="Image" width="228" height="121">
        <h6></h6>
        </div></figure>
        <p>Hint: Think back to <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a>. What is the difference between the working directory and the index, and the index and the object database?</p>
        </div></aside>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answer in <a data-type="xref" href="#sharpen_your_pencil_solution-id00150">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></section>
        <section data-type="sect2" data-pdf-bookmark="Using git reset (or git reset --mixed)"><div class="sect2" id="using_git_reset_left_parenthesisor_git_r">
        <h2>Using git reset (or git reset --mixed)</h2>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0191-01.png" alt="Image" width="224" height="254">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="mixed resets" id="idm45426361550656"></a><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="soft mode compared to mixed mode" id="idm45426361549344"></a><a data-type="indexterm" data-primary="flags" data-secondary="reset command" data-tertiary="--mixed" id="idm45426361548000"></a><a data-type="indexterm" data-primary="git reset command" data-secondary="flags" data-tertiary="--mixed" id="idm45426361546624"></a><a data-type="indexterm" data-primary="--mixed flag (reset command)" id="idm45426361545248"></a><a data-type="indexterm" data-primary="reset command" data-secondary="flags" data-tertiary="--mixed" id="idm45426361544448"></a>The <code>git reset</code> command’s default mode is <code>--mixed</code>, so you can invoke <code>git reset</code> or <code>git reset --mixed</code> with the same results. This is how to use it:</p>
        <p><strong>git reset A</strong>&nbsp;&nbsp;&nbsp;&nbsp; <strong>OR</strong>&nbsp;&nbsp;&nbsp;&nbsp; <strong>git reset --mixed A</strong></p>
        <p>The <code>--mixed</code> mode does a bit more work than the <code>--soft</code> mode does. It has two steps:</p>
        <ol>
        <li><p>First, it moves the changes in commit B (the commit you are undoing) into the index, and then copies those changes from the index into the working directory, <strong>just like</strong> <code><strong>--soft</strong></code> <strong>mode does</strong>.</p></li>
        <li><p>It then <strong>copies</strong> the contents of <strong>commit A</strong> into the index. That is, the index now looks exactly like the commit you just reset to.</p></li>
        </ol>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0191-02.png" alt="Image" width="600" height="268">
        <h6></h6>
        </div></figure>
        <p>Contrasting the soft and mixed behavior: <code>--soft</code> mode leaves both the index and the working directory changed. But <code>--mixed</code> mode only leaves the working directory changed. With mixed mode, the changes you committed in “B” reside only in the working directory—the index looks like the changes in commit “A.”.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00130">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Let’s repeat our last exercise—except, this time, you’ll start with a clean working directory and use <code>git reset --mixed</code>. What does <code>git status</code> report?</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0191-04.png" alt="Image" width="204" height="118">
        <h6></h6>
        </div></figure>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00151">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect2" data-pdf-bookmark="git reset --hard"><div class="sect2" id="git_reset_hyphenhyphenhard">
        <h2>git reset --hard</h2>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0192-01.png" alt="Image" width="246" height="240">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="undoing" id="idm45426361517104"></a><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="hard mode compared to mixed mode" id="idm45426361516128"></a><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="hard resets" id="idm45426361514912"></a><a data-type="indexterm" data-primary="flags" data-secondary="reset command" id="idm45426361513536"></a><a data-type="indexterm" data-primary="flags" data-secondary="reset command" data-tertiary="--hard" id="idm45426361512432"></a><a data-type="indexterm" data-primary="git reset command" data-secondary="flags" id="idm45426361511056"></a><a data-type="indexterm" data-primary="git reset command" data-secondary="flags" data-tertiary="--hard" id="idm45426361509952"></a><a data-type="indexterm" data-primary="--hard flag (reset command)" id="idm45426361508576"></a><a data-type="indexterm" data-primary="reset command" data-secondary="flags" id="idm45426361507776"></a><a data-type="indexterm" data-primary="reset command" data-secondary="flags" data-tertiary="--hard" id="idm45426361506672"></a>Finally, the third flag that reset offers is <code>--hard</code>. Remember, the intent is to undo the changes in a commit. <code>--soft</code> mode moves the changes in the commit you are undoing and puts them in both the index and the working directory. <code>--mixed</code> mode on the other hand puts the changes in the commit you are undoing (“B”) into the working directory, but the index and the object database look like the commit you reset to (“A”). Effectively, <code>--mixed</code> mode takes the changes you had in the commit that you just undid, and makes them appear in the working directory.</p>
        <p>Finally, the <code>--hard</code> mode takes what the <code>--mixed</code> mode does to its logical end. In mixed mode, the second step copies the contents commited in “A” into the index, and stops there. <code>--hard</code> mode does not. It takes the contents of the index (which have the changes as they are in commit A) and overwrites the working directory. This means that the object database, the index, and the working directory all look the same. It’s as if commit B never happened! After a hard reset, the working directory, the index, and <code>HEAD</code> all look like commit “A.”</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0192-02.png" alt="Image" width="600" height="413">
        <h6></h6>
        </div></figure>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="there_are_no_dumb_questions-id00131">
        <h5>there are no Dumb Questions</h5>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="merged" id="idm45426361492352"></a><a data-type="indexterm" data-primary="commits" data-secondary="merged" data-tertiary="resetting" id="idm45426361491104"></a><a data-type="indexterm" data-primary="commits" data-secondary="undoing" data-tertiary="summary of modes" id="idm45426361489728"></a><a data-type="indexterm" data-primary="git reset command" data-secondary="compared to restore command" id="idm45426361488352"></a><a data-type="indexterm" data-primary="git reset command" data-secondary="summary of modes" id="idm45426361487280"></a><a data-type="indexterm" data-primary="git reset command" data-secondary="warning about" id="idm45426361486176"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="compared to reset command" id="idm45426361485072"></a><a data-type="indexterm" data-primary="merging" data-secondary="commits, resetting" id="idm45426361484000"></a><a data-type="indexterm" data-primary="reset command" data-secondary="compared to restore command" id="idm45426361482896"></a><a data-type="indexterm" data-primary="reset command" data-secondary="summary of modes" id="idm45426361481824"></a><a data-type="indexterm" data-primary="reset command" data-secondary="warning about" id="idm45426361480720"></a><a data-type="indexterm" data-primary="restore command" data-secondary="compared to reset command" id="idm45426361479616"></a><strong>Q: This all seems really confusing. Can you distill it down for me?</strong></p>
        <p><strong>A:</strong> We understand. Remember, the intent of the <code>git reset</code> command is to undo a commit. The only question is—what do you want to do with the changes you made in that commit? If you want them to appear in the index (so they appear as “Changes to be committed”), use <code>--soft</code>. If you want them to appear in the working directory (as “Changes not staged for commit”), use <code>--mixed</code>. If you don’t want to see them at all, use <code>--hard</code>.</p>
        <p><strong>Q: You mentioned that the reset command can take a commit reference. So can I reset to any commit, instead of just the parent commit?</strong></p>
        <p><strong>A:</strong> Yes, you can. For example, if you invoke <code>git reset HEAD~3</code>, you are asking that Git take you back three commits. Git will then collect the changes you made in all three commits (that you are undoing), and depending on the mode you specify (<code>--soft</code>, <code>--mixed</code>, or <code>--reset</code>), Git will place those changes in the index, working directory, or throw them away.</p>
        <p>But baby steps, right? Let’s take it one step at a time.</p>
        <p><strong>Q: How is using</strong> <code><strong>git reset --mixed</strong></code> <strong>different than</strong> <code><strong>git restore</strong></code> <strong>with the</strong> <code><strong>--staged</strong></code> <strong>flag? They both copy the content of the object database into the index, right?</strong></p>
        <p><strong>A:</strong> First, the <code>git restore</code> command works at the file level, that is, it only works with one file at a time. The <code>git reset</code> command works at the commit level, effectively undoing all the changes committed. This might be more than one file that you potentially added, edited, or modified in the commit you are undoing.</p>
        <p>Second, the <code>git restore</code> command with the <code>--staged</code> flag takes the contents of the file you specify as they were last committed, and copies that into the index, effectively making the file in the index look exactly like it did since you last committed. It does not, however, move the <code>HEAD</code>—the <code>git restore</code> command does <strong>not</strong> modify your commit history.</p>
        <p>In contrast, while <code>git reset --mixed</code> does copy all of the files as they were last committed and move them into the index, it also moves the <code>HEAD</code> to the commit you specify. When you use the <code>git reset</code> command, you’re rewriting history by erasing history!</p>
        <p><strong>Q: Can I reset a merge commit?</strong></p>
        <p><strong>A:</strong> Yes, you can. But remember, a merge commit has two parents. And the <code>git reset</code> command needs to know which commit to reset <code>HEAD</code> and the corresponding branch to. So, if you are going to reset a merge commit to one of its parents, you will need to supply which parent you wish to reset to using the caret (<code>^</code>) operator.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="watch_itexclamation_mark-id00132">
        <h5>Watch it!</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/watch.png" alt="Image" width="89" height="84">
        <h6></h6>
        </div></figure>
        <p><strong>Using git reset with the --hard flag is destructive!</strong></p>
        <p><em>Take a look at the previous section, and you’ll notice that</em> <code>--soft</code> <em>and the default mode</em>, <code>--mixed</code><em>, do</em> <strong>not</strong> <em>throw away the changes from the commit that was undone. On the other hand, the</em> <code>--hard</code> <em>option does throw them away. So be very careful with the</em> <code>--hard</code> <em>flag. We highly recommend using the default mode (</em><code>--mixed</code><em>) most of the time. You’re better off reviewing the changes manually, and then, if you are absolutely sure you no longer need those changes, you’re a</em> <code>git restore</code> <em>away from a clean working directory</em>.</p>
        <p><em>Also: if you search for “How do I undo a commit in Git?” in your favorite search engine, you’ll find a lot of results that recommend the</em> <code>--hard</code> <em>option. You’ve been warned!</em></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise-id00133">
        <h5>Exercise</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Take a few minutes and help Trinity undo her latest commit on the <code>boardgame-night</code> branch. Navigate to the <code>gitanjali-aref-step-7</code> folder inside the chapter04 directory. You should be on the <code>boardgame-night</code> branch. Switch to it if you need to.</p>
        <p>Here is Trinity’s commit history:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0194-01.png" alt="Image" width="600" height="328">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> You’re going to undo the latest commit on the <code>boardgame-night</code> branch using Git operators: specifically, the tilde (<code>~</code>) operator and <code>--mixed</code> mode. List the <code>git reset</code> command you will use here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Run <code>git status</code>, then explain what you see:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Restore <code>indoor-party.md</code> to undo any edits, and delete the <code>boardgame-venues.md</code> file. Run <code>git status</code> to make sure you’ve cleaned everything up.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, run <code>git log --graph --oneline --all</code> again, and make sure that <code>HEAD</code> points to the commit with ID 3e3e847.</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#exercise_solution-id00152">“Exercise Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Congratulations, you time traveler, you!"><div class="sect1" id="congratulationscomma_you_time_travelerco">
        <h1>Congratulations, you time traveler, you!</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0195-01.png" alt="Image" width="110" height="248">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commits" data-secondary="overview" id="idm45426361418928"></a>Seriously. You just traveled through time. It’s been quite a journey, but for the first time, you’ve used Git’s time-traveling abilities. The <code>git reset</code> command sets the state of the working directory and the index to one that you had recorded in a previous commit! That is, the <code>git reset</code> command rewrites your history! Remember, with great power comes great responsibility. We will talk of the potential pitfalls with this approach in future chapters, but for now, sit back and bask in your newfound powers.</p>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Another way to undo commits"><div class="sect1" id="another_way_to_undo_commits">
        <h1>Another way to undo commits</h1>
        <p>When we started talking about undoing commits, we mentioned that Trinity has two options. The first approach is using the <code>git reset</code> command.</p>
        <p>However, Git offers us another approach, but before we get to that, let’s take a minute to talk about what a commit is. A commit records a set of changes—you might have edited a bunch of files, maybe added or deleted a few. You’ll see these changes if you use the <code>git diff</code> command to compare a commit with, say, its parent. They appear as a set of pluses (“+”) and minuses (“-”). This is referred to as the “delta,” or the variation between two commits.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0195-02.png" alt="Image" width="191" height="125">
        <h6></h6>
        </div></figure>
        <p>Another approach to undoing a commit is as simple as negating a commit—for every file added, you could delete it, and vice versa. For every line in every file that was added, you delete it, and for every line that was deleted, bring it back.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0195-03.png" alt="Image" width="600" height="326">
        <h6></h6>
        </div></figure>
        <p>Given that Git can calculate the differences introduced by a commit, it can also calculate the reverse of the differences, or if you like, the “anti-commit.” And you can use this to “undo” a commit.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">If it helps, think of matter and anti-matter coming in contact with each other. End result: complete annihilation!</span></p>
        </div>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Reverting commits"><div class="sect1" id="reverting_commits">
        <h1>Reverting commits</h1>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0196-01.png" alt="Image" width="223" height="176">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="commit messages" data-secondary="reverting commits" id="idm45426361407024"></a><a data-type="indexterm" data-primary="commits" data-secondary="reverting" id="idm45426361406160"></a><a data-type="indexterm" data-primary="git revert command" id="idm45426361405184"></a><a data-type="indexterm" data-primary="revert command" id="idm45426361404448"></a>You can create “anti-commits” by using the <code>git revert</code> command. The revert command, like the <code>reset</code> command, can be given a commit ID or a reference to a commit. There is a big difference, though—the <code>git revert</code> command is to be given the ID or reference of the commit you want to undo. Consider our hypothetical repository again—let’s say you want to undo commit B. This is how you would use the git revert command:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0196-02.png" alt="Image" width="600" height="120">
        <h6></h6>
        </div></figure>
        <p>Git looks at the changes introduced in B and calculates the anti-commit. This is an actual commit that Git will prepare. Now just like any other commit, this commit needs a commit message. So Git will use your preconfigured editor and bring it up, prompting you to supply a message for the newly created commit:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">We have seen this before, in <a data-type="xref" href="ch02.html#branching_outcolon_multiple_trains_of_th">Chapter&nbsp;2</a>: when we merge two branches, that results in an merge commit. Recall that Git brings up your editor and prompts you for a commit message.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0196-03.png" alt="Image" width="600" height="260">
        <h6></h6>
        </div></figure>
        <p>We usually prefer to keep the message as is. Once you close the editor, Git will confirm creating a new commit. So what is the effect of a revert? This is what your commit history will look like after a revert:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0196-04.png" alt="Image" width="366" height="194">
        <h6></h6>
        </div></figure>
        <p>Like the <code>git reset</code> command, the <code>git revert</code> command moves the <code>HEAD</code> and the branch, except in this case, you are not erasing commits. Rather, you are adding new commits. However, both commands allow you to “undo” commits.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0197-01.png" alt="Image" width="318" height="130">
        <h6></h6>
        </div></figure>
        <p><a data-type="indexterm" data-primary="git reset command" data-secondary="compared to revert command" id="idm45426361392320"></a><a data-type="indexterm" data-primary="git revert command" data-secondary="compared to reset command" id="idm45426361391344"></a><a data-type="indexterm" data-primary="reset command" data-secondary="compared to revert command" id="idm45426361390272"></a><a data-type="indexterm" data-primary="revert command" data-secondary="compared to reset command" id="idm45426361389200"></a>Tonight’s talk: <strong>The RESET and REVERT commands answer the question: “Who’s the better undoer?”</strong></p>
        <table class="border">
        <thead>
        <tr>
        <th>The RESET command:</th>
        <th>The REVERT command:</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td>Look, I have incredible powers. I mean, come on: I have the ability to erase history! I am absolutely what everyone should be using to undo bad commits.</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td>Yeah, but you’re so negative. Going back in time? Really? I’m a glass-half-full kind of person—I let folks undo their mistakes by <em>adding</em> to their commit history. This keeps their commit history intact. Not to mention I’m a lot easier for people to wrap their heads around.</td>
        </tr>
        <tr>
        <td>So two wrongs make a right, huh? No way! I allow for a clean commit history. If you’ve mistakenly committed some work, why would you want a constant reminder?</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td>Sure. But you <em>are</em> more complicated to use. There’s the “soft” mode, and then there’s the “mixed” mode. Not to mention “hard” mode, which is destructive. People can lose their changes if they accidentally run you in hard mode!</td>
        </tr>
        <tr>
        <td>It’s called flexibility! I give the people what they want—choices. What do you do? Create a commit that’s the exact opposite of the commit to be undone. Pfft! Our readers could do that manually. So what good are you?</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td>Undoing commits by hand can involve hundreds of files or changes. It’s so tedious, not to mention error-prone. I automate that away. Isn’t that what computers are for?</td>
        </tr>
        <tr>
        <td>Fine. Whatever.</td>
        <td>&nbsp;</td>
        </tr>
        <tr>
        <td>&nbsp;</td>
        <td>I’m just going say one last thing, so listen up: once our readers learn how to use Git as a collaboration tool, they won’t need you. Maybe you should consider another line of work.</td>
        </tr>
        <tr>
        <td>Ha! We’ll see about that.</td>
        <td>&nbsp;</td>
        </tr>
        </tbody>
        </table>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">We will be revisiting this topic in <a data-type="xref" href="ch05.html#collaborating_with_git_hyphen_part_icolo">Chapter&nbsp;5</a>. Stay tuned!</span></p>
        </div>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil-id00134">
        <h5>Sharpen your pencil</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Your next task is to help Trinity fix her latest commit again, except this time you are going to use the <code>git revert</code> command. Navigate to the <code>gitanjali-aref-step-8</code> folder in the <code>chapter04</code> directory to get started.</p>
        <p><strong>This repository has the same history as your previous exercise. Here it is again:</strong></p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0198-01.png" alt="Image" width="600" height="316">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> You are going to revert <code>HEAD</code>. Start by listing the command you are going to use here:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, execute the command. (Keep an eye out: your editor should pop up.) Leave the message as it is and close the editor.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Run <code>git log --graph --oneline --all</code>, and explain what you see:</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> How is this different from your previous attempt in <code>gitanjali-aref-step-7</code>?</p></li>
        </ul>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#sharpen_your_pencil_solution-id00153">“Sharpen your pencil Solution”</a>.</strong></p>
        </div></aside>
        </div></section>
        <section data-type="sect1" data-pdf-bookmark="Aaaaand that’s a wrap!"><div class="sect1" id="aaaaand_thatapostrophes_a_wrapexclamatio">
        <h1>Aaaaand that’s a wrap!</h1>
        <p>Trinity is so excited for Gitanjali and Aref—all the effort that she put into planning their party paid off. Everyone had a wonderful time celebrating their engagement. She wishes them the very best in their life together.</p>
        <p>Trinity’s commit history looks clean: just the way she likes it. She still has some cleanup to do, so she merges the <code>boardgame-night</code> branch into the <code>master</code> branch. She also deletes the unmerged <code>glamping-trip</code> branch. Planning the glamping trip was indeed a lot of work, but hey! As long as her clients are happy, Trinity’s happy.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">We talked about cleaning up your branches (merged and unmerged) in <a data-type="xref" href="ch02.html#branching_outcolon_multiple_trains_of_th">Chapter&nbsp;2</a>.</span></p>
        </div>
        <p>Not to mention, Gitanjali now wants Trinity to plan the wedding, too! She wants something really exotic. (The South Pole has been mentioned once or twice—Trinity may have to talk her out of that one. Or not!) Oh well. Time to create another repository.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0199-01.png" alt="Image" width="600" height="410">
        <h6></h6>
        </div></figure>
        <p>As for you, well done! It was quite a journey learning how to undo your work in Git. Just remember: Git, for the most part, is not destructive when you undo. In other words, you can undo an undo if you need to, so breathe easy.</p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="bullet_points-id00135">
        <h5>Bullet Points</h5>
        <ul>
        <li><p><a data-type="indexterm" data-primary="^ (caret) operator, HEAD" id="idm45426361337472"></a><a data-type="indexterm" data-primary="~ (tilde) operator, HEAD" id="idm45426361336544"></a><a data-type="indexterm" data-primary="--amend flag (commit command)" id="idm45426361335744"></a><a data-type="indexterm" data-primary="branch command" data-secondary="flags" data-tertiary="-m" id="idm45426361334944"></a><a data-type="indexterm" data-primary="branch command" data-secondary="flags" data-tertiary="--move" id="idm45426361333568"></a><a data-type="indexterm" data-primary="branches" data-secondary="renaming" id="idm45426361332192"></a><a data-type="indexterm" data-primary="caret (^) operator, HEAD" id="idm45426361331088"></a><a data-type="indexterm" data-primary="commit command, compared to restore command" data-secondary="flags" data-tertiary="--amend" id="idm45426361330288"></a><a data-type="indexterm" data-primary="commit messages" data-secondary="editing" id="idm45426361328944"></a><a data-type="indexterm" data-primary="commits" data-secondary="files" id="idm45426361327840"></a><a data-type="indexterm" data-primary="commits" data-secondary="files" data-tertiary="deleted" id="idm45426361326736"></a><a data-type="indexterm" data-primary="commits" data-secondary="HEAD" data-tertiary="role of" id="idm45426361325360"></a><a data-type="indexterm" data-primary="commits" data-secondary="referencing, HEAD" id="idm45426361323984"></a><a data-type="indexterm" data-primary="deleting" data-secondary="files" id="idm45426361322880"></a><a data-type="indexterm" data-primary="editing commit messages" id="idm45426361321776"></a><a data-type="indexterm" data-primary="files" data-secondary="deleting" id="idm45426361320944"></a><a data-type="indexterm" data-primary="flags" data-secondary="branch command" data-tertiary="-m or --move" id="idm45426361319840"></a><a data-type="indexterm" data-primary="flags" data-secondary="commit command" data-tertiary="--amend" id="idm45426361318464"></a><a data-type="indexterm" data-primary="flags" data-secondary="restore command" data-tertiary="--staged" id="idm45426361317152"></a><a data-type="indexterm" data-primary="git branch command" data-secondary="flags" data-tertiary="-m or --move" id="idm45426361315776"></a><a data-type="indexterm" data-primary="git commit command" data-secondary="flags" data-tertiary="--amend" id="idm45426361314400"></a><a data-type="indexterm" data-primary="git reset command" id="idm45426361313024"></a><a data-type="indexterm" data-primary="git restore command" id="idm45426361312192"></a><a data-type="indexterm" data-primary="git restore command" data-secondary="--staged flag" id="idm45426361311360"></a><a data-type="indexterm" data-primary="git revert command" id="idm45426361310256"></a><a data-type="indexterm" data-primary="git rm command" id="idm45426361309424"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="caret (^) operator" id="idm45426361308592"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="commits" data-tertiary="referencing" id="idm45426361307488"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="role of" id="idm45426361306112"></a><a data-type="indexterm" data-primary="HEAD" data-secondary="tilde (~) operator" id="idm45426361305008"></a><a data-type="indexterm" data-primary="--move flag (branch command)" id="idm45426361303904"></a><a data-type="indexterm" data-primary="reset command" id="idm45426361303104"></a><a data-type="indexterm" data-primary="restore command" id="idm45426361302272"></a><a data-type="indexterm" data-primary="restore command" data-secondary="--staged flag" id="idm45426361301440"></a><a data-type="indexterm" data-primary="revert command" id="idm45426361300336"></a><a data-type="indexterm" data-primary="rm command" id="idm45426361299504"></a><a data-type="indexterm" data-primary="--staged flag (restore command)" id="idm45426361298672"></a><a data-type="indexterm" data-primary="tilde (~) operator (HEAD)" id="idm45426361297872"></a>Git offers you several ways to undo your changes.</p></li>
        <li><p>The <code>git restore</code> command allows you to undo changes to one or more files—both in the working directory and the index. You can supply <code>git restore</code> with a list of file paths.</p></li>
        <li><p>The <code>git restore</code> command, by default, undoes changes in the working directory by replacing them with the version of the file that was last added to the index.</p></li>
        <li><p>To undo changes to files that have been already added to the index, you can also use the <code>git restore</code> command. However, you will need to supply it with the <code>--staged</code> flag.</p></li>
        <li><p>The <code>git restore --staged</code> command will replace the contents of the files in the index with the version that was last committed.</p></li>
        <li><p>You can delete files that you previously committed to Git with the <code>git rm</code> command.</p></li>
        <li><p>The <code>git rm</code> command, like the <code>git restore</code> command, takes a list of file paths. It then removes the files from the working directory and the index.</p></li>
        <li><p>You are still required to make a commit to record the fact that you deleted one or more files. That is, removing files is a two-step process—<code>git rm</code> removes the files from the working directory and the index, and the subsequent commit records the deletion.</p></li>
        <li><p>You can edit commit messages with the <code>git commit</code> command along with the <code>--amend</code> flag.</p></li>
        <li><p>You should only amend the tips of branches.</p></li>
        <li><p>When you amend a commit, you are not actually changing a commit. Git records a new commit with the new commit message and replaces the previous commit in your commit history. Git will eventually delete the older commit.</p></li>
        <li><p>Git allows you to rename branches by using the <code>git branch</code> command with the <code>-m</code> (or <code>--move</code>) flag.</p></li>
        <li><p>The commit you are on is referred to as <code>HEAD</code>. <code>HEAD</code> is a reference to a commit.</p></li>
        <li><p><code>HEAD</code> is how Git knows which branch you are on; it’s a lot like the pin in a map that shows your location. <code>HEAD</code> is updated every time you switch or merge branches.</p></li>
        <li><p>The commit that <code>HEAD</code> points to <strong>will be</strong> the parent of the next commit in the repository.</p></li>
        <li><p>Git offers two operators to reference ancestor commits relative to <code>HEAD</code>. You have the tilde (<code>~</code>) operator to reference parents of the current commit. <code>HEAD~2</code>, for example, takes you back two generations: it represents the grandparent of the current commit.</p>
        <p>You can use the caret (<code>^</code>) operator to reference the parents of a merge commit. <code>HEAD^1</code> points to the first parent, and <code>HEAD^2</code> points to the second.</p></li>
        <li><p>The tilde and caret operators make it easier to supply commits to commands like <code>git diff</code>, saving you from having to copy-paste commit IDs.</p></li>
        <li><p>Git offers two different ways to undo commits. The <code>git reset</code> command moves the <code>HEAD</code> and the branch “sticky note” to a different commit.</p>
        <p>The <code>git reset</code> command has three different modes—<code>soft</code>, <code>mixed</code>, and <code>hard</code>. Each one has a different effect on the changes that were recorded in the commit that was undone.</p></li>
        <li><p>Be warned! The <code>git reset</code> command in “hard” mode is destructive: if you use it, you will lose your changes. <strong>So don’t use it.</strong></p></li>
        <li><p><code>git reset</code> allows you to “time travel,” in effect, because it moves you to a previous commit.</p></li>
        <li><p>Another way to undo a commit is with the <code>git revert</code> command, which creates an “anti-commit”—a commit that introduces a set of changes that are the exact opposite of the commit that you wish to undo.</p></li>
        </ul>
        </div></aside>
        <section data-type="sect2" data-pdf-bookmark="Undo Crossword"><div class="sect2" id="undo_crossword">
        <h2>Undo Crossword</h2>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cross.png" alt="Image" width="135" height="104">
        <h6></h6>
        </div></figure>
        <p>Here’s a bonus tip for undoing your errors: solve this crossword using a pencil.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0201-01.png" alt="Image" width="600" height="599">
        <h6></h6>
        </div></figure>
        <p><strong>Across</strong></p>
        <p><strong>3</strong> Git reset modes include soft, ___, and hard</p>
        <p><strong>5</strong> The -m flag is short for this</p>
        <p><strong>6</strong> Command to compare the index’s contents with the working directory (2 words)</p>
        <p><strong>9</strong> The git ___ command replaces the version of the file in the working directory with the version in the index</p>
        <p><strong>10</strong> She’s getting married to Aref</p>
        <p><strong>12</strong> Character that appears in the git branch output to tell you where HEAD is</p>
        <p><strong>13</strong> This chapter is all about ___-ing your mistakes</p>
        <p><strong>14</strong> Before you edit a commit, make sure your working directory is ___</p>
        <p><strong>15</strong> Flag used with the git restore command to retrieve the last contents of your files as they were in the last commit</p>
        <p><strong>16</strong> Fancier version of camping</p>
        <p><strong>17</strong> The -u flag to the git add command is short for this</p>
        <p><strong>Down</strong></p>
        <p><strong>1</strong> Character used with HEAD to reference a commit’s parent</p>
        <p><strong>2</strong> The git ___ command copies the contents of the index into the object database</p>
        <p><strong>4</strong> It’s a fruit!</p>
        <p><strong>7</strong> Deleting a file won’t remove it from the object ____</p>
        <p><strong>8</strong> A piece of metadata that tells you when the commit was made</p>
        <p><strong>9</strong> The git ___ command moves HEAD and a branch to a specific commit</p>
        <p><strong>11</strong> Flag that lets you fix a mistake in a commit message</p>
        <p><strong>15</strong> Use the git ___ command to check the state of your Git repository</p>
        <p><strong>16</strong> The ___ ___ command removes tracked files from the working directory and the index (2 words)</p>
        <p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arr.png" alt="Image" width="101" height="9"></span> <strong>Answers in <a data-type="xref" href="#undo_crossword_solution">“Undo Crossword Solution”</a>.</strong></p>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00136">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Trinity has made two commits in her repository. The first commit added two files, <code>guest-list.md</code> and <code>gift-registry.md</code>, and the second commit introduced the first draft of the <code>invitation-card.md</code> file. Without peeking, list all the files in the <code>gitanjali-aref</code> repository. How many files in total are in this repository? Explain your answer.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Three. Commits build on the commits that came before them. Since the first commit introduced two files, and the second commit added another, you end up with three files.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0202-01.png" alt="Image" width="536" height="176">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00098">“Sharpen your pencil”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00137">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Time to use the skills you acquired in <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a>. Navigate to the location where you downloaded the source code for this book, and in the <code>chapter04</code> folder you will find a directory called <code>gitanjali-aref-step-1</code>.</p>
        <p>Using our favorite version of the <code>git log</code> command (which would be <code>git log --oneline --all --graph</code>), investigate Trinity’s repository and identify the commit IDs of each of her commits, along with the commit message she supplied when she created each commit. Here is her commit history again. Annotate away!</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0202-02.png" alt="Image" width="534" height="217">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00099">“Exercise”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00138">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p>Your turn to try restoring files. Pretend you are Trinity’s intern, working at her laptop, and help her fix her issue. Like the last exercise, go to the location where you downloaded the exercises for this book and then open the <code>chapter04</code> folder. Inside that you will find the <code>gitanjali-aref-step-2</code> folder.</p>
        <p>Start with <code>git status</code> and <code>git diff</code> to be sure you can identify which file was modified, and the difference between the working directory and the staging area.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Your task is to restore the modified files in the repository to the version last committed. List the command you will run here:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0203-01.png" alt="Image" width="424" height="86">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Execute the command, then list the output of <code>git status</code> here:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0203-02.png" alt="Image" width="557" height="106">
        <h6></h6>
        </div></figure></li>
        </ul>
        <p><strong>From <a data-type="xref" href="#exercise-id00105">“Exercise”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00139">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00106">“Sharpen your pencil”</a>.</strong></p>
        <p>What command would you use to see what has changed in <code>invitation-card.md</code>? Feel free to flip back to <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a> if you need a refresher. List that command here:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0203-03.png" alt="Image" width="544" height="57">
        <h6></h6>
        </div></figure>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00140">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00108">“Sharpen your pencil”</a>.</strong></p>
        <p>Back to work! This time around, you’re going to work with the folder named <code>gitanjaliaref-step-3,</code> inside the <code>chapter04</code> folder. Navigate to that folder and see if you can help Trinity restore a file she accidentally added to the index.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> As always, start with <code>git status</code> and <code>git diff --cached</code> and see if you can spot what changed between the object database and the index.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, use what you just learned to recover the contents of the index. List the command you will use here first:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git restore --staged invitation-card.md</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, look at the output of <code>git status</code>. What do you see? Explain your answer here by describing the state of <code>invitation-card.md</code> in terms of the differences between the working directory, index, and the object database.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git restore with the --staged flag copies invitation-card.md as it was last committed to the index.</span></p>
        </div>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0204-01.png" alt="Image" width="600" height="134">
        <h6></h6>
        </div></figure></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="who_does_what_solutionquestion_m-id00141">
        <h5>Who Does What Solution?</h5>
        <p><strong>From <a data-type="xref" href="#who_does_whatquestion_mark-id00109">“Who Does What?”</a>.</strong></p>
        <p>We had our Git commands all figured out, and then they got all mixed up. Can you help us figure out who does what?</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0204-02.png" alt="Image" width="600" height="255">
        <h6></h6>
        </div></figure>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00142">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00111">“Exercise”</a>.</strong></p>
        <p>It’s time for you to practice removing tracked files. Navigate to the <code>gitanjali-aref-step-4</code> folder inside the <code>chapter04</code> directory.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Start by listing the files in the working directory:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0205-01.png" alt="Image" width="600" height="105">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Use the <code>git rm</code> command to remove the <code>gift-registry.md</code> file. Be sure to check the status of the repository.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> List the files again in the working directory:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0205-02.png" alt="Image" width="600" height="89">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, commit your changes using the message “delete gift registry”.</p></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00143">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00113">“Sharpen your pencil”</a>.</strong></p>
        <p>Let’s make sure you understand Trinity’s commit history so far. Go ahead and navigate to the <code>gitanjali-aref-step-5</code> folder inside the <code>chapter04</code> folder.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Start by listing the branches and indicate the branch you are on right now.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0205-03.png" alt="Image" width="393" height="57">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Use the skills you acquired in <a data-type="xref" href="ch03.html#looking_aroundcolon_investigating_your_g">Chapter&nbsp;3</a> to sketch out Trinity’s commit history. The command to use is <code>git log --oneline --all --graph</code>.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0205-04.png" alt="Image" width="504" height="211">
        <h6></h6>
        </div></figure></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00144">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00116">“Exercise”</a>.</strong></p>
        <p>Will you help Trinity fix the error in her commit message? Switch to your terminal. Navigate to the <code>gitanjaliaref-step-5</code> directory in the <code>chapter04</code> folder. Make sure you’re on the <code>camping-trip</code> branch.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Use the <code>git commit</code> command with the <code>--amend</code> flag to edit the last commit on the <code>camping-trip</code> branch. Change the commit message to be “initial outdoors plan” (instead of “final outdoors plan”). Jot down the first command you are going to use here, then give it a try:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git commit --amend -m “initial outdoors plan”</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, use <code>git log --oneline --all --graph</code> to make sure that you can see the amended commit in your history.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0206-02.png" alt="Image" width="600" height="168">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Has the commit ID changed? Explain why or why not.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">When you amend a commit, Git creates a new commit. This commit records the same changes as the one you are amending. It also has the same metadata—the author name and email, as well as the timestamp. However, the commit message is different, which, along with everything else, is something Git uses to calculate the commit ID. New message, therefore new commit ID.</span></p>
        </div></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00145">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00117">“Exercise”</a>.</strong></p>
        <p>Why don’t you take a few minutes to help Trinity rename the <code>camping-trip</code> branch? Navigate to <code>gitanjaliaref-step-6</code> inside the <code>chapter04</code> folder.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Your first action step is to ensure you are on the <code>camping-trip</code> branch. Write the command you will use to list the branches in the repository.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git branch</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, <code>switch</code> to the <code>camping-trip</code> branch and rename it to <code>glamping-trip</code>. Use this space to list the command you are going to use.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0207-02.png" alt="Image" width="543" height="61">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Finally, list the branches again:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0207-03.png" alt="Image" width="600" height="106">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Next, you are going to rename <code>master</code> to <code>main</code>, <em>without switching to master</em>. Note the command you are going to use here first:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0207-04.png" alt="Image" width="318" height="91">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Just to be sure you got it right, jot down the branches in your repository again.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0207-05.png" alt="Image" width="600" height="112">
        <h6></h6>
        </div></figure></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00146">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00118">“Exercise”</a>.</strong></p>
        <p>Why don’t you spend a little time looking over Trinity’s repository? Start by navigating to the <code>gitanjali-aref-step-7</code> folder inside the <code>chapter04</code> directory.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> List the branches in the repository, and note the branch you are on:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0208-01.png" alt="Image" width="600" height="129">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/star.png" alt="Image" width="11" height="11"></span> Use <code>git log --oneline --all --graph</code> to sketch out Trinity’s commit history:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0208-02.png" alt="Image" width="556" height="266">
        <h6></h6>
        </div></figure></li>
        </ul>
        <p>You aren’t done yet! Look to the next page.</p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00147">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00119">“Exercise”</a>.</strong></p>
        <p>Next, look at the changes Trinity made in her latest commit: she added a new file and edited an existing file. Here is the command she runs now:</p>
        <p><code>git diff 3e3e847 39107a6</code></p>
        <p>And here is the output. Your job is to annotate it. (Remember, she added a new file, and edited another.) We’ve got you started:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0209-01.png" alt="Image" width="600" height="502">
        <h6></h6>
        </div></figure>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00148">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Why don’t you try tracking <code>HEAD</code>? You’re going to use the <code>gitanjali-aref-step-7</code> folder inside the <code>chapter04</code> folder.</p>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Start by using <code>git log --graph --oneline --all</code>, and notice where <code>HEAD</code> is. List it here. What does that tell you about which branch you are on right now?</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">I see this: “HEAD -&gt; boardgame-night,” which tells me that I am on the boardgame-night branch. The output of the git branch command can be used to verify this.</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, switch to the <code>glamping-trip</code> branch, and use <code>git log --graph --oneline --all</code> again to see where <code>HEAD</code> is at.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">This time I see “HEAD -&gt; glamping-trip,” which tells me I am on the glamping-trip branch now.</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Switch to the <code>main</code> branch (remember, you renamed <code>master</code> to <code>main</code> in an earlier exercise). Repeat the above exercise. Once again, jot down where <code>HEAD</code> is at.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Now I see “HEAD -&gt; main”, which means I am on the main branch.</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> <strong>Super important!</strong> Switch back to the <code>boardgame-night</code> branch, and you should be all set for the exercises to come.</p></li>
        </ul>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00121">“Sharpen your pencil”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00149">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Take a little time to practice your newly acquired commit history navigation skills. Here is a hypothetical commit history. We have marked the commits with letters for IDs.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0211-01.png" alt="Image" width="600" height="237">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00127">“Sharpen your pencil”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00150">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Suppose you had a clean working directory before you ran <code>git reset --soft A</code>. What would <code>git status</code> report?</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0211-02.png" alt="Image" width="233" height="160">
        <h6></h6>
        </div></figure>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">In the “soft” mode, the git reset command takes the changes that were committed in commit B and copies them into the index and the working directory. At this point the index and the working directory look identical. So there is no difference between the working directory and the index, but there is a difference between the index and the object database. So git status will report that there are changes that need to be committed.</span></p>
        </div>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00129">“Sharpen your pencil”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00151">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p>Let’s repeat our last exercise—except, this time, you start with a clean working directory and use <code>git reset --mixed</code>. What does git status report?</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0211-03.png" alt="Image" width="201" height="135">
        <h6></h6>
        </div></figure>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">This time around, Git first takes the changes committed in B into the index, and then into the working directory (just like soft mode). But it then copies the changes in A into the index. Which means the object database and the index look the same. However, the index and the working directory do NOT look the same (working directory has changes that were in B, and index looks like A). So Git will ask you to stage your changes.</span></p>
        </div>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00130">“Sharpen your pencil”</a>.</strong></p>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="exercise_solution-id00152">
        <h5>Exercise Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/shoes.png" alt="Image" width="120" height="79">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#exercise-id00133">“Exercise”</a>.</strong></p>
        <p>Take a few minutes and help Trinity undo her latest commit on the <code>boardgame-night</code> branch. Navigate to the <code>gitanjali-aref-step-7</code> folder inside the <code>chapter04</code> directory. You should be on the <code>boardgame-night</code> branch. Switch to it if you need to.</p>
        <p>Here is Trinity’s commit history:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0212-01.png" alt="Image" width="600" height="317">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> You’re going to undo the latest commit on the <code>boardgame-night</code> branch using Git operators: specifically, the tilde (<code>~</code>) operator and <code>--mixed</code> mode. List the <code>git reset</code> command you will use here:</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0212-02.png" alt="Image" width="600" height="45">
        <h6></h6>
        </div></figure></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Run <code>git status</code>, then explain what you see:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">Git reset in mixed mode only affects the working directory. Commit (ID 39107a6) introduced a new file, called boardgame-venues.md, AND modified the indoor-party.md file. So after the reset, boardgame-venues.md shows up as an “untracked file” (new file) and indoor-party.md shows up as modified. It’s like you had never made the commit to begin with.</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Restore <code>indoor-party.md</code> to undo any edits, and delete the <code>boardgame-venues.md</code> file. Run <code>git status</code> to make sure you’ve cleaned everything up.</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">1. Delete the boardgame-venues.md file using Finder or File Explorer.</span></p>
        <p><span style="color:#9D9EA0;">2. git restore indoor-party.md</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Finally, run <code>git log --graph --oneline --all</code> again, and make sure that <code>HEAD</code> points to the commit with ID 3e3e847.</p></li>
        </ul>
        </div></aside>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="sharpen_your_pencil_solution-id00153">
        <h5>Sharpen your pencil Solution</h5>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/pencil.png" alt="Image" width="149" height="65">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#sharpen_your_pencil-id00134">“Sharpen your pencil”</a>.</strong></p>
        <p>Your next task is to help Trinity fix her latest commit again, except this time you are going to use the <code>git revert</code> command. Navigate to the <code>gitanjali-aref-step-8</code> folder in the <code>chapter04</code> directory to get started.</p>
        <p><strong>This repository has the same history as your previous exercise. Here it is again:</strong></p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0213-01.png" alt="Image" width="599" height="318">
        <h6></h6>
        </div></figure>
        <ul style="list-style-type:none;">
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> You are going to revert <code>HEAD</code>. Start by listing the command you are going to use here:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">git revert HEAD</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Next, execute the command. (Keep an eye out: your editor should pop up.) Leave the message as it is and close the editor.</p></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> Run <code>git log --graph --oneline --all</code>, and explain what you see:</p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">I see a new commit, which is a child of the commit with ID 39107a6, with the commit message ‘Revert “add games and list potential boardgame night venues”’.</span></p>
        </div></li>
        <li><p><span class="inlineimage"><img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/arrow.png" alt="Image" width="12" height="12"></span> How is this different from your previous attempt in <code>gitanjali-aref-step-7?</code></p>
        <div data-type="note" epub:type="note"><h6>Note</h6>
        <p><span style="color:#9D9EA0;">When you reset the commit, the commit with ID 39107a6 is no longer in the commit history. It’s like it never happened. When you revert, commit ID 39107a6 is still in the graph, but its effects are negated with the new commit that the revert command created.</span></p>
        </div></li>
        </ul>
        </div></aside>
        </div></section>
        <section data-type="sect2" data-pdf-bookmark="Undo Crossword Solution"><div class="sect2" id="undo_crossword_solution">
        <h2>Undo Crossword Solution</h2>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/cross.png" alt="Image" width="135" height="104">
        <h6></h6>
        </div></figure>
        <p><strong>From <a data-type="xref" href="#undo_crossword">“Undo Crossword”</a>.</strong></p>
        <p>Here’s a bonus tip for undoing your errors: solve this crossword using a pencil.</p>
        <figure class="informal"><div class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781492092506/files/assets/f0214-01.png" alt="Image" width="600" height="600">
        <h6></h6>
        </div></figure>
        </div></section>
        </div></section>
        </div></section></div></div><link rel="stylesheet" href="/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="/api/v2/epubs/urn:orm:book:9781492092506/files/epub.css" crossorigin="anonymous"></div></div></section>
</div>

https://learning.oreilly.com
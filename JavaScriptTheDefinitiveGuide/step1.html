<style>
    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 300;
        src: url(https://static.contineljs.com/fonts/Roboto-Light.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Light.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 400;
        src: url(https://static.contineljs.com/fonts/Roboto-Regular.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Regular.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 500;
        src: url(https://static.contineljs.com/fonts/Roboto-Medium.woff2?v=2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Medium.woff) format("woff");
    }

    @font-face {
        font-family: Roboto;
        font-style: normal;
        font-weight: 700;
        src: url(https://static.contineljs.com/fonts/Roboto-Bold.woff2) format("woff2"),
            url(https://static.contineljs.com/fonts/Roboto-Bold.woff) format("woff");
    }

    * {
        margin: 0;
        padding: 0;
        font-family: Roboto, sans-serif;
        box-sizing: border-box;
    }
</style>
<div style="width: 100%; display: flex; justify-content: center; background-color: black; color: wheat;">
    <section data-testid="contentViewer" class="contentViewer--KzjY1"><div class="annotatable--okKet"><div id="book-content"><div class="readerContainer--bZ89H white--bfCci" style="font-size: 1em; max-width: 70ch;"><div id="sbo-rt-content"><section data-type="chapter" epub:type="chapter" class="pagenumrestart" data-pdf-bookmark="Chapter 1. Introduction to JavaScript"><div class="chapter" id="intro">
        <h1><span class="label">Chapter 1. </span>Introduction to JavaScript</h1>
        
        
        <p>JavaScript<a data-type="indexterm" data-primary="JavaScript" data-secondary="benefits of" id="idm46198581947800"></a> is the programming language of the web. The overwhelming
        majority of websites use JavaScript, and all modern web browsers—on
        desktops, tablets, and phones—include JavaScript interpreters, making
        JavaScript the most-deployed programming language in history. Over the
        last decade, Node.js has enabled JavaScript programming outside of web
        browsers, and the dramatic success of Node means that JavaScript is
        now also the most-used programming language among software
        developers. Whether you’re starting from scratch or are already using
        JavaScript professionally, this book will help you master the
        language.</p>
        
        <p>If you are already familiar with other programming languages, it may
        help you to know that JavaScript is a high-level, dynamic, interpreted
        programming language that is well-suited to object-oriented and
        functional programming styles. JavaScript’s variables are untyped. Its
        syntax is loosely based on Java, but the languages are otherwise
        unrelated. JavaScript derives its first-class functions from Scheme
        and its prototype-based inheritance from the little-known language
        Self. But you do not need to know any of those languages, or be
        familiar with those terms, to use this book and learn JavaScript.</p>
        
        <p>The name “JavaScript” is quite misleading. Except for a superficial
        syntactic resemblance, JavaScript is completely different from the
        Java programming language. And JavaScript has long since outgrown its
        scripting-language roots to become a robust and efficient
        general-purpose language suitable for serious software engineering
        and projects with huge codebases.</p>
        <aside data-type="sidebar" epub:type="sidebar" class="less_space pagebreak-before"><div class="sidebar" id="idm46198581944104">
        <h5>JavaScript: Names, Versions, and Modes</h5>
        <p>JavaScript<a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="names, versions, and modes" id="idm46198582080984"></a><a data-type="indexterm" data-primary="ECMAScript (ES)" id="idm46198582079640"></a> was created at Netscape in the early days of the web, and
        technically, “JavaScript” is a trademark licensed from Sun
        Microsystems (now Oracle) used to describe Netscape’s (now Mozilla’s)
        implementation of the language. Netscape submitted the language for
        standardization to ECMA—the European Computer Manufacturer’s
        Association—and because of trademark issues, the standardized version
        of the language was stuck with the awkward name “ECMAScript.” In
        practice, everyone just calls the language JavaScript. This book uses
        the name “ECMAScript” and the abbreviation “ES” to refer to the
        language standard and to versions of that standard.</p>
        
        <p>For most of the 2010s, version 5 of the ECMAScript standard has been
        supported by all web browsers.  This<a data-type="indexterm" data-primary="ES5" data-secondary="compatibility baseline" id="idm46198582077656"></a> book treats ES5 as the
        compatibility baseline and no longer discusses earlier versions of the
        language. ES6<a data-type="indexterm" data-primary="ES6" data-secondary="release of" id="idm46198582076424"></a> was released in 2015 and added major new
        features—including class and module syntax—that changed JavaScript
        from a scripting language into a serious, general-purpose language
        suitable for large-scale software engineering. Since ES6, the
        ECMAScript specification has moved to a yearly release cadence, and
        versions of the language—ES2016, ES2017, ES2018, ES2019, and
        ES2020—are now identified by year of release.</p>
        
        <p>As JavaScript evolved, the language designers attempted to correct
        flaws in the early (pre-ES5) versions. In order to maintain backward
        compatibility, it is not possible to remove legacy features, no matter
        how flawed. But<a data-type="indexterm" data-primary="strict mode" data-secondary="opting into" id="idm46198582074072"></a><a data-type="indexterm" data-primary="use strict directive" data-secondary="opting into strict mode" id="idm46198582073096"></a><a data-type="indexterm" data-primary="use strict mode" id="idm46198582072152"></a> in ES5 and later, programs can opt in to JavaScript’s
        <em>strict mode</em> in which a number of early language mistakes have been
        corrected. The mechanism for opting in is the “use strict” directive
        described in <a data-type="xref" href="ch05.html#strictmode">§5.6.3</a>. That section also summarizes the
        differences between legacy JavaScript and strict JavaScript. In ES6
        and later, the use of new language features often implicitly invokes
        strict mode. For example, if you use the ES6 <code>class</code> keyword or create
        an ES6 module, then all the code within the class or module is
        automatically strict, and the old, flawed features are not available
        in those contexts. This book will cover the legacy features of
        JavaScript but is careful to point out that they are not available in
        <span class="keep-together">strict mode.</span></p>
        </div></aside>
        
        <p>To be useful, every language must have a platform, or standard
        library, for performing things like basic input and output.  The core
        JavaScript language defines a minimal API for working with numbers, text, arrays, sets, maps, and so
        on, but does not include any input or output functionality. Input and
        output (as well as more sophisticated features, such as networking,
        storage, and graphics) are the responsibility of the “host
        environment” within which JavaScript is embedded.</p>
        
        <p>The original host environment for JavaScript was a web browser, and
        this is still the most common execution environment for JavaScript
        code. The web browser environment allows JavaScript code to obtain
        input from the user’s mouse and keyboard and by making HTTP
        requests. And it allows JavaScript code to display output to the user
        with HTML and CSS.</p>
        
        <p>Since<a data-type="indexterm" data-primary="Node" data-secondary="benefits of" id="idm46198582066504"></a> 2010, another host environment has been available for JavaScript
        code. Instead of constraining JavaScript to work with the APIs
        provided by a web browser, Node gives JavaScript access to the entire
        operating system, allowing JavaScript programs to read and write
        files, send and receive data over the network, and make and serve HTTP
        requests. Node is a popular choice for implementing web servers and
        also a convenient tool for writing simple utility scripts as an
        alternative to shell scripts.</p>
        
        <p>Most of this book is focused on the JavaScript language itself.
        <a data-type="xref" href="ch11.html#builtintypes">Chapter&nbsp;11</a> documents the JavaScript standard library, <a data-type="xref" href="ch15.html#clientside">Chapter&nbsp;15</a> introduces the web browser host environment, and
        <a data-type="xref" href="ch16.html#serverside">Chapter&nbsp;16</a> introduces the Node host environment.</p>
        
        <p>This book covers low-level fundamentals first, and then builds on
        those to more advanced and higher-level abstractions. The chapters are
        intended to be read more or less in order. But learning a new
        programming language is never a linear process, and describing a
        language is not linear either: each language feature is related to
        other features, and this book is full of cross-references—sometimes
        backward and sometimes forward—to related material. This introductory
        chapter makes a quick first pass through the language, introducing key
        features that will make it easier to understand the in-depth treatment
        in the chapters that follow. If you are already a practicing
        JavaScript programmer, you can probably skip this chapter. (Although you
        might enjoy reading <a data-type="xref" href="#charfreq.js">Example&nbsp;1-1</a> at the end of the chapter before
        you move on.)</p>
        
        
        
        
        
        
        <section data-type="sect1" data-pdf-bookmark="1.1 Exploring JavaScript"><div class="sect1" id="idm46198582059640">
        <h1>1.1 Exploring JavaScript</h1>
        
        <p>When<a data-type="indexterm" data-primary="development tools" id="idm46198582058104"></a><a data-type="indexterm" data-primary="browser development tools" id="idm46198582057368"></a><a data-type="indexterm" data-primary="web developer tools" id="idm46198582056680"></a><a data-type="indexterm" data-primary="code examples" data-secondary="trying out JavaScript code" id="idm46198582056008"></a><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="JavaScript interpreters" id="idm46198582055048"></a> learning a new programming language, it’s important to try the
        examples in the book, then modify them and try them again to test
        your understanding of the language. To do that, you need a JavaScript
        interpreter.</p>
        
        <p>The easiest way to try out a few lines of JavaScript is to open up the
        web developer tools in your web browser (with F12, Ctrl-Shift-I,
        or Command-Option-I) and select the Console tab. You can then type
        code at the prompt and see the results as you type. Browser developer
        tools often appear as panes at the bottom or right of the browser
        window, but you can usually detach them as separate windows (as
        pictured in <a data-type="xref" href="#console.png">Figure&nbsp;1-1</a>), which is often quite convenient.</p>
        
        <figure><div id="console.png" class="figure">
        <img src="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781491952016/files/assets/js7e_0101.png" alt="js7e 0101" width="1278" height="727">
        <h6><span class="label">Figure 1-1. </span>The JavaScript console in Firefox’s Developer Tools</h6>
        </div></figure>
        
        <p>Another<a data-type="indexterm" data-primary="Firefox Developer Tools" id="idm46198582049480"></a><a data-type="indexterm" data-primary="Node" data-secondary="installing" id="idm46198582048744"></a> way to try out JavaScript code is to download and install Node
        from <a href="https://nodejs.org"><em class="hyperlink">https://nodejs.org</em></a>. Once Node is installed on your system, you
        can simply open a Terminal window and type <strong><code>node</code></strong> to begin an
        interactive JavaScript session like this one:</p>
        
        <pre data-type="programlisting">$ node
        Welcome to Node.js v12.13.0.
        Type ".help" for more information.
        &gt; .help
        .break    Sometimes you get stuck, this gets you out
        .clear    Alias for .break
        .editor   Enter editor mode
        .exit     Exit the repl
        .help     Print this help message
        .load     Load JS from a file into the REPL session
        .save     Save all evaluated commands in this REPL session to a file
        
        Press ^C to abort current expression, ^D to exit the repl
        &gt; let x = 2, y = 3;
        undefined
        &gt; x + y
        5
        &gt; (x === 2) &amp;&amp; (y === 3)
        true
        &gt; (x &gt; 3) || (y &lt; 3)
        false</pre>
        </div></section>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <section data-type="sect1" data-pdf-bookmark="1.2 Hello World"><div class="sect1" id="idm46198582030712">
        <h1>1.2 Hello World</h1>
        
        <p>When<a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="Hello World" id="idm46198582028984"></a><a data-type="indexterm" data-primary="Hello World" id="idm46198582027704"></a><a data-type="indexterm" data-primary="text editors" data-secondary="using with Node" id="idm46198582027032"></a> you are ready to start experimenting with longer chunks of code,
        these line-by-line interactive environments may no longer be suitable,
        and you will probably prefer to write your code in a text editor. From
        there, you can copy and paste to the JavaScript console or into a Node
        session. Or you can save your code to a file (the traditional
        filename extension for JavaScript code is <em>.js</em>) and then run that
        file of JavaScript code with Node:</p>
        
        <pre data-type="programlisting">$ node snippet.js</pre>
        
        <p>If you use Node in a noninteractive manner like this, it won’t
        automatically print out the value of all the code you run, so you’ll
        have to do that yourself. You<a data-type="indexterm" data-primary="console.log() function" id="idm46198582023864"></a> can use the function <code>console.log()</code> to
        display text and other JavaScript values in your terminal window or in
        a browser’s developer tools console. So, for example, if you create a
        <em>hello.js</em> file containing this line of code:</p>
        
        <pre data-type="programlisting">console.log("Hello World!");</pre>
        
        <p>and execute the file with <code>node hello.js</code>, you’ll see the message
        “Hello World!” printed out.</p>
        
        <p>If you want to see that same message printed out in the JavaScript
        console of a web browser, create a new file named <em>hello.html</em>, and
        put this text in it:</p>
        
        <pre data-type="programlisting">&lt;script src="hello.js"&gt;&lt;/script&gt;</pre>
        
        <p>Then load <em>hello.html</em> into your web browser using a <code>file://</code> URL
        like this one:</p>
        
        <pre data-type="programlisting">file:///Users/username/javascript/hello.html</pre>
        
        <p>Open the developer tools window to see the greeting in the console.</p>
        </div></section>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <section data-type="sect1" data-pdf-bookmark="1.3 A Tour of JavaScript"><div class="sect1" id="corejavascript">
        <h1>1.3 A Tour of JavaScript</h1>
        
        <p>This<a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="syntax and capabilities" id="JSintrosyntax01"></a><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="chapter overviews" id="idm46198582012216"></a> section presents a quick introduction, through code examples, to the
        JavaScript language. After this introductory chapter, we dive into
        JavaScript at the lowest level: <a data-type="xref" href="ch02.html#lexical">Chapter&nbsp;2</a> explains things like
        JavaScript comments, semicolons, and the Unicode character set.
        <a data-type="xref" href="ch03.html#datatypes">Chapter&nbsp;3</a> starts to get more interesting: it explains JavaScript
        variables and the values you can assign to those variables.</p>
        
        <p>Here’s<a data-type="indexterm" data-primary="// (double slashes)" id="idm46198582008344"></a><a data-type="indexterm" data-primary="double slashes (//)" id="idm46198582007608"></a><a data-type="indexterm" data-primary="comments" data-secondary="syntax for" id="idm46198582006936"></a><a data-type="indexterm" data-primary="syntax" data-secondary="English-language comments" id="idm46198582005992"></a><a data-type="indexterm" data-primary="variables" data-secondary="declaration and assignment" data-tertiary="overview of" id="idm46198582005080"></a><a data-type="indexterm" data-primary="keywords" data-secondary="let keyword" id="idm46198582003848"></a><a data-type="indexterm" data-primary="let keyword" id="idm46198582002904"></a><a data-type="indexterm" data-primary="syntax" data-secondary="declaring variables" id="idm46198582002232"></a><a data-type="indexterm" data-primary="values" data-secondary="assigning" id="idm46198582001288"></a><a data-type="indexterm" data-primary="= (assignment operator)" id="idm46198582000344"></a><a data-type="indexterm" data-primary="syntax" data-secondary="variables, assigning values to" id="idm46198581999672"></a><a data-type="indexterm" data-primary="assignment operator (=)" id="idm46198581998712"></a> some
        sample code to illustrate the highlights of those two chapters:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="c1">// Anything following double slashes is an English-language comment.</code>
        <code class="c1">// Read the comments carefully: they explain the JavaScript code.</code>
        
        <code class="c1">// A variable is a symbolic name for a value.</code>
        <code class="c1">// Variables are declared with the let keyword:</code>
        <code class="kd">let</code> <code class="nx">x</code><code class="p">;</code>                     <code class="c1">// Declare a variable named x.</code>
        
        <code class="c1">// Values can be assigned to variables with an = sign</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>                     <code class="c1">// Now the variable x has the value 0</code>
        <code class="nx">x</code>                          <code class="c1">// =&gt; 0: A variable evaluates to its value.</code>
        
        <code class="c1">// JavaScript supports several types of values</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>                     <code class="c1">// Numbers.</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="mf">0.01</code><code class="p">;</code>                  <code class="c1">// Numbers can be integers or reals.</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="s2">"hello world"</code><code class="p">;</code>         <code class="c1">// Strings of text in quotation marks.</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="s1">'JavaScript'</code><code class="p">;</code>          <code class="c1">// Single quote marks also delimit strings.</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="kc">true</code><code class="p">;</code>                  <code class="c1">// A Boolean value.</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="kc">false</code><code class="p">;</code>                 <code class="c1">// The other Boolean value.</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="kc">null</code><code class="p">;</code>                  <code class="c1">// Null is a special value that means "no value."</code>
        <code class="nx">x</code> <code class="o">=</code> <code class="kc">undefined</code><code class="p">;</code>             <code class="c1">// Undefined is another special value like null.</code></pre>
        
        <p>Two<a data-type="indexterm" data-primary="values" data-secondary="types of" id="idm46198581940408"></a> other very important <em>types</em> that JavaScript programs can
        manipulate are objects and arrays. These are the subjects of Chapters
        <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch06.html#objects">6</a> and <a data-type="xref" data-xrefstyle="select:labelnumber" href="ch07.html#arrays">7</a>, but they are so important that you’ll see
        them many times before you reach those<a data-type="indexterm" data-primary="objects" data-secondary="overview of" id="idm46198581624520"></a><a data-type="indexterm" data-primary="types" data-secondary="objects" data-see="objects" id="idm46198581623544"></a><a data-type="indexterm" data-primary="{} (curly braces)" id="idm46198581622328"></a><a data-type="indexterm" data-primary="curly braces ({})" id="idm46198581621656"></a><a data-type="indexterm" data-primary="syntax" data-secondary="objects" data-tertiary="declaring" id="idm46198581620984"></a><a data-type="indexterm" data-primary=". (dot operator)" id="idm46198581619768"></a><a data-type="indexterm" data-primary="dot operator (.)" id="idm46198581619096"></a><a data-type="indexterm" data-primary="[] (square brackets)" id="idm46198581618424"></a><a data-type="indexterm" data-primary="square brackets ([])" id="idm46198581617752"></a><a data-type="indexterm" data-primary="syntax" data-secondary="objects" data-tertiary="conditionally accessing properties" id="idm46198581617080"></a><a data-type="indexterm" data-primary="?. (conditional access operator)" id="idm46198581615800"></a><a data-type="indexterm" data-primary="conditional access operator (?.)" id="idm46198581615112"></a><a data-type="indexterm" data-primary="ES2020" data-secondary="conditional access operator (?.)" id="idm46198581614424"></a><a data-type="indexterm" data-primary="arrays" data-secondary="overview of" id="idm46198581613464"></a> chapters:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="c1">// JavaScript's most important datatype is the object.</code>
        <code class="c1">// An object is a collection of name/value pairs, or a string to value map.</code>
        <code class="kd">let</code> <code class="nx">book</code> <code class="o">=</code> <code class="p">{</code>               <code class="c1">// Objects are enclosed in curly braces.</code>
            <code class="nx">topic</code><code class="o">:</code> <code class="s2">"JavaScript"</code><code class="p">,</code>   <code class="c1">// The property "topic" has value "JavaScript."</code>
            <code class="nx">edition</code><code class="o">:</code> <code class="mi">7</code>             <code class="c1">// The property "edition" has value 7</code>
        <code class="p">};</code>                         <code class="c1">// The curly brace marks the end of the object.</code>
        
        <code class="c1">// Access the properties of an object with . or []:</code>
        <code class="nx">book</code><code class="p">.</code><code class="nx">topic</code>                 <code class="c1">// =&gt; "JavaScript"</code>
        <code class="nx">book</code><code class="p">[</code><code class="s2">"edition"</code><code class="p">]</code>            <code class="c1">// =&gt; 7: another way to access property values.</code>
        <code class="nx">book</code><code class="p">.</code><code class="nx">author</code> <code class="o">=</code> <code class="s2">"Flanagan"</code><code class="p">;</code>  <code class="c1">// Create new properties by assignment.</code>
        <code class="nx">book</code><code class="p">.</code><code class="nx">contents</code> <code class="o">=</code> <code class="p">{};</code>        <code class="c1">// {} is an empty object with no properties.</code>
        
        <code class="c1">// Conditionally access properties with ?. (ES2020):</code>
        <code class="nx">book</code><code class="p">.</code><code class="nx">contents</code><code class="o">?</code><code class="p">.</code><code class="nx">ch01</code><code class="o">?</code><code class="p">.</code><code class="nx">sect1</code> <code class="c1">// =&gt; undefined: book.contents has no ch01 property.</code>
        
        <code class="c1">// JavaScript also supports arrays (numerically indexed lists) of values:</code>
        <code class="kd">let</code> <code class="nx">primes</code> <code class="o">=</code> <code class="p">[</code><code class="mi">2</code><code class="p">,</code> <code class="mi">3</code><code class="p">,</code> <code class="mi">5</code><code class="p">,</code> <code class="mi">7</code><code class="p">];</code> <code class="c1">// An array of 4 values, delimited with [ and ].</code>
        <code class="nx">primes</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code>                  <code class="c1">// =&gt; 2: the first element (index 0) of the array.</code>
        <code class="nx">primes</code><code class="p">.</code><code class="nx">length</code>              <code class="c1">// =&gt; 4: how many elements in the array.</code>
        <code class="nx">primes</code><code class="p">[</code><code class="nx">primes</code><code class="p">.</code><code class="nx">length</code><code class="o">-</code><code class="mi">1</code><code class="p">]</code>    <code class="c1">// =&gt; 7: the last element of the array.</code>
        <code class="nx">primes</code><code class="p">[</code><code class="mi">4</code><code class="p">]</code> <code class="o">=</code> <code class="mi">9</code><code class="p">;</code>             <code class="c1">// Add a new element by assignment.</code>
        <code class="nx">primes</code><code class="p">[</code><code class="mi">4</code><code class="p">]</code> <code class="o">=</code> <code class="mi">11</code><code class="p">;</code>            <code class="c1">// Or alter an existing element by assignment.</code>
        <code class="kd">let</code> <code class="nx">empty</code> <code class="o">=</code> <code class="p">[];</code>            <code class="c1">// [] is an empty array with no elements.</code>
        <code class="nx">empty</code><code class="p">.</code><code class="nx">length</code>               <code class="c1">// =&gt; 0</code>
        
        <code class="c1">// Arrays and objects can hold other arrays and objects:</code>
        <code class="kd">let</code> <code class="nx">points</code> <code class="o">=</code> <code class="p">[</code>             <code class="c1">// An array with 2 elements.</code>
            <code class="p">{</code><code class="nx">x</code><code class="o">:</code> <code class="mi">0</code><code class="p">,</code> <code class="nx">y</code><code class="o">:</code> <code class="mi">0</code><code class="p">},</code>          <code class="c1">// Each element is an object.</code>
            <code class="p">{</code><code class="nx">x</code><code class="o">:</code> <code class="mi">1</code><code class="p">,</code> <code class="nx">y</code><code class="o">:</code> <code class="mi">1</code><code class="p">}</code>
        <code class="p">];</code>
        <code class="kd">let</code> <code class="nx">data</code> <code class="o">=</code> <code class="p">{</code>                 <code class="c1">// An object with 2 properties</code>
            <code class="nx">trial1</code><code class="o">:</code> <code class="p">[[</code><code class="mi">1</code><code class="p">,</code><code class="mi">2</code><code class="p">],</code> <code class="p">[</code><code class="mi">3</code><code class="p">,</code><code class="mi">4</code><code class="p">]],</code>  <code class="c1">// The value of each property is an array.</code>
            <code class="nx">trial2</code><code class="o">:</code> <code class="p">[[</code><code class="mi">2</code><code class="p">,</code><code class="mi">3</code><code class="p">],</code> <code class="p">[</code><code class="mi">4</code><code class="p">,</code><code class="mi">5</code><code class="p">]]</code>   <code class="c1">// The elements of the arrays are arrays.</code>
        <code class="p">};</code></pre>
        <aside data-type="sidebar" epub:type="sidebar"><div class="sidebar" id="idm46198581609688">
        <h5>Comment Syntax in Code Examples</h5>
        <p>You<a data-type="indexterm" data-primary="syntax" data-secondary="English-language comments" id="idm46198581608264"></a><a data-type="indexterm" data-primary="comments" data-secondary="syntax in code examples" id="idm46198574560616"></a><a data-type="indexterm" data-primary="code examples" data-secondary="comment syntax in" id="idm46198574559784"></a> may have noticed in the preceding code that some of the comments begin
        with an arrow (<code>=&gt;</code>). These show the value produced by the code before
        the comment and are my attempt to emulate an interactive JavaScript
        environment like a web browser console in a printed book.</p>
        
        <p>Those <code>// =&gt;</code> comments<a data-type="indexterm" data-primary="assertions" id="idm46198574557272"></a><a data-type="indexterm" data-primary="// (double slashes)" id="idm46198574556536"></a><a data-type="indexterm" data-primary="double slashes (//)" id="idm46198574555864"></a> also serve as an <em>assertion</em>, and I’ve written
        a tool that tests the code and verifies that it produces the value
        specified in the comment. This should help, I hope, to reduce
        errors in the book.</p>
        
        <p>There are two related styles of comment/assertion. If you see a
        comment of the form <code>// a == 42</code>, it means that after the code before
        the comment runs, the variable <code>a</code> will have the value 42. If you see
        a comment of the form <code>// !</code>, it means that the code on the line
        before the comment throws an exception (and the rest of the comment
        after the exclamation mark usually explains what kind of exception is
        thrown).</p>
        
        <p>You’ll see these comments used throughout the book.</p>
        </div></aside>
        
        <p>The<a data-type="indexterm" data-primary="initializer expression" id="idm46198574551544"></a><a data-type="indexterm" data-primary="arrays" data-secondary="initializer expressions" id="idm46198574550808"></a><a data-type="indexterm" data-primary="expressions" data-secondary="initializer expression" id="idm46198574549864"></a><a data-type="indexterm" data-primary="syntax" data-secondary="expressions" data-tertiary="initializer expression" id="idm46198574548920"></a> syntax illustrated here for listing array elements within square
        braces or mapping object property names to property values inside curly
        braces is known as an <em>initializer expression</em>, and it is just one of
        the topics of <a data-type="xref" href="ch04.html#expressions">Chapter&nbsp;4</a>. An <em>expression</em> is a phrase of
        JavaScript that can be <em>evaluated</em> to produce a value. For example, the
        use of <code>.</code> and <code>[]</code> to refer to the value of an object property or
        array element is an expression.</p>
        
        <p>One<a data-type="indexterm" data-primary="expressions" data-secondary="forming with operators" id="idm46198574543912"></a><a data-type="indexterm" data-primary="syntax" data-secondary="expressions" data-tertiary="forming with operators" id="idm46198574542904"></a><a data-type="indexterm" data-primary="operators" data-secondary="forming expressions with" id="idm46198574541688"></a> of the most common ways to form expressions in JavaScript is to<a data-type="indexterm" data-primary="operators" data-secondary="arithmetic operators" id="idm46198574540600"></a><a data-type="indexterm" data-primary="arithmetic operators" id="idm46198574539656"></a><a data-type="indexterm" data-primary="syntax" data-secondary="equality and relational operators" id="idm46198574538984"></a><a data-type="indexterm" data-primary="operators" data-secondary="equality operators" id="idm46198574538024"></a><a data-type="indexterm" data-primary="equality operators" id="idm46198574537080"></a><a data-type="indexterm" data-primary="operators" data-secondary="relational operators" id="idm46198574536408"></a><a data-type="indexterm" data-primary="relational operators" id="idm46198574535464"></a> use
        <em>operators</em>:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="c1">// Operators act on values (the operands) to produce a new value.</code>
        <code class="c1">// Arithmetic operators are some of the simplest:</code>
        <code class="mi">3</code> <code class="o">+</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 5: addition</code>
        <code class="mi">3</code> <code class="o">-</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 1: subtraction</code>
        <code class="mi">3</code> <code class="o">*</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 6: multiplication</code>
        <code class="mi">3</code> <code class="o">/</code> <code class="mi">2</code>                      <code class="c1">// =&gt; 1.5: division</code>
        <code class="nx">points</code><code class="p">[</code><code class="mi">1</code><code class="p">].</code><code class="nx">x</code> <code class="o">-</code> <code class="nx">points</code><code class="p">[</code><code class="mi">0</code><code class="p">].</code><code class="nx">x</code>  <code class="c1">// =&gt; 1: more complicated operands also work</code>
        <code class="s2">"3"</code> <code class="o">+</code> <code class="s2">"2"</code>                  <code class="c1">// =&gt; "32": + adds numbers, concatenates strings</code>
        
        <code class="c1">// JavaScript defines some shorthand arithmetic operators</code>
        <code class="kd">let</code> <code class="nx">count</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>             <code class="c1">// Define a variable</code>
        <code class="nx">count</code><code class="o">++</code><code class="p">;</code>                   <code class="c1">// Increment the variable</code>
        <code class="nx">count</code><code class="o">--</code><code class="p">;</code>                   <code class="c1">// Decrement the variable</code>
        <code class="nx">count</code> <code class="o">+=</code> <code class="mi">2</code><code class="p">;</code>                <code class="c1">// Add 2: same as count = count + 2;</code>
        <code class="nx">count</code> <code class="o">*=</code> <code class="mi">3</code><code class="p">;</code>                <code class="c1">// Multiply by 3: same as count = count * 3;</code>
        <code class="nx">count</code>                      <code class="c1">// =&gt; 6: variable names are expressions, too.</code>
        
        <code class="c1">// Equality and relational operators test whether two values are equal,</code>
        <code class="c1">// unequal, less than, greater than, and so on. They evaluate to true or false.</code>
        <code class="kd">let</code> <code class="nx">x</code> <code class="o">=</code> <code class="mi">2</code><code class="p">,</code> <code class="nx">y</code> <code class="o">=</code> <code class="mi">3</code><code class="p">;</code>          <code class="c1">// These = signs are assignment, not equality tests</code>
        <code class="nx">x</code> <code class="o">===</code> <code class="nx">y</code>                    <code class="c1">// =&gt; false: equality</code>
        <code class="nx">x</code> <code class="o">!==</code> <code class="nx">y</code>                    <code class="c1">// =&gt; true: inequality</code>
        <code class="nx">x</code> <code class="o">&lt;</code> <code class="nx">y</code>                      <code class="c1">// =&gt; true: less-than</code>
        <code class="nx">x</code> <code class="o">&lt;=</code> <code class="nx">y</code>                     <code class="c1">// =&gt; true: less-than or equal</code>
        <code class="nx">x</code> <code class="o">&gt;</code> <code class="nx">y</code>                      <code class="c1">// =&gt; false: greater-than</code>
        <code class="nx">x</code> <code class="o">&gt;=</code> <code class="nx">y</code>                     <code class="c1">// =&gt; false: greater-than or equal</code>
        <code class="s2">"two"</code> <code class="o">===</code> <code class="s2">"three"</code>          <code class="c1">// =&gt; false: the two strings are different</code>
        <code class="s2">"two"</code> <code class="o">&gt;</code> <code class="s2">"three"</code>            <code class="c1">// =&gt; true: "tw" is alphabetically greater than "th"</code>
        <code class="kc">false</code> <code class="o">===</code> <code class="p">(</code><code class="nx">x</code> <code class="o">&gt;</code> <code class="nx">y</code><code class="p">)</code>          <code class="c1">// =&gt; true: false is equal to false</code>
        
        <code class="c1">// Logical operators combine or invert boolean values</code>
        <code class="p">(</code><code class="nx">x</code> <code class="o">===</code> <code class="mi">2</code><code class="p">)</code> <code class="o">&amp;&amp;</code> <code class="p">(</code><code class="nx">y</code> <code class="o">===</code> <code class="mi">3</code><code class="p">)</code>     <code class="c1">// =&gt; true: both comparisons are true. &amp;&amp; is AND</code>
        <code class="p">(</code><code class="nx">x</code> <code class="o">&gt;</code> <code class="mi">3</code><code class="p">)</code> <code class="o">||</code> <code class="p">(</code><code class="nx">y</code> <code class="o">&lt;</code> <code class="mi">3</code><code class="p">)</code>         <code class="c1">// =&gt; false: neither comparison is true. || is OR</code>
        <code class="o">!</code><code class="p">(</code><code class="nx">x</code> <code class="o">===</code> <code class="nx">y</code><code class="p">)</code>                 <code class="c1">// =&gt; true: ! inverts a boolean value</code></pre>
        
        <p>If<a data-type="indexterm" data-primary="syntax" data-secondary="logical operators" id="idm46198574530696"></a><a data-type="indexterm" data-primary="operators" data-secondary="logical operators" id="idm46198574529512"></a><a data-type="indexterm" data-primary="logical operators" id="idm46198574528568"></a><a data-type="indexterm" data-primary="syntax" data-secondary="statements" id="idm46198573996488"></a><a data-type="indexterm" data-primary="statements" data-secondary="versus expressions" data-secondary-sortas="expressions" id="idm46198573995544"></a> JavaScript expressions are like phrases, then JavaScript
        <em>statements</em> are like full sentences. Statements are the topic of
        <a data-type="xref" href="ch05.html#statements">Chapter&nbsp;5</a>. Roughly, an<a data-type="indexterm" data-primary="expressions" data-secondary="versus statements" data-secondary-sortas="statements" id="idm46198573992984"></a> expression is something that computes a
        value but doesn’t <em>do</em> anything: it doesn’t alter the program state in
        any way. Statements, on the other hand, don’t have a value, but they
        do alter the state. You’ve seen variable declarations and assignment
        statements above. The<a data-type="indexterm" data-primary="statements" data-secondary="control structures" id="Scontrol01"></a><a data-type="indexterm" data-primary="control structures" id="control01"></a><a data-type="indexterm" data-primary="syntax" data-secondary="control structures" id="SYcontrol01"></a> other broad category of statement is <em>control structures</em>, such as conditionals and loops. You’ll see examples below, after we cover functions.</p>
        
        <p>A <em>function</em> is<a data-type="indexterm" data-primary="syntax" data-secondary="functions" id="idm46198573986520"></a><a data-type="indexterm" data-primary="functions" data-secondary="invoking" data-tertiary="examples" id="idm46198573985512"></a> a named and parameterized block of JavaScript code that
        you define once, and can then invoke over and over again. Functions
        aren’t covered formally until <a data-type="xref" href="ch08.html#functions">Chapter&nbsp;8</a>, but like objects and
        arrays, you’ll see them many times before you get to that chapter. Here
        are some simple examples:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="c1">// Functions are parameterized blocks of JavaScript code that we can invoke.</code>
        <code class="kd">function</code> <code class="nx">plus1</code><code class="p">(</code><code class="nx">x</code><code class="p">)</code> <code class="p">{</code>        <code class="c1">// Define a function named "plus1" with parameter "x"</code>
            <code class="k">return</code> <code class="nx">x</code> <code class="o">+</code> <code class="mi">1</code><code class="p">;</code>          <code class="c1">// Return a value one larger than the value passed in</code>
        <code class="p">}</code>                          <code class="c1">// Functions are enclosed in curly braces</code>
        
        <code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">)</code>                   <code class="c1">// =&gt; 4: y is 3, so this invocation returns 3+1</code>
        
        <code class="kd">let</code> <code class="nx">square</code> <code class="o">=</code> <code class="kd">function</code><code class="p">(</code><code class="nx">x</code><code class="p">)</code> <code class="p">{</code> <code class="c1">// Functions are values and can be assigned to vars</code>
            <code class="k">return</code> <code class="nx">x</code> <code class="o">*</code> <code class="nx">x</code><code class="p">;</code>          <code class="c1">// Compute the function's value</code>
        <code class="p">};</code>                         <code class="c1">// Semicolon marks the end of the assignment.</code>
        
        <code class="nx">square</code><code class="p">(</code><code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">))</code>           <code class="c1">// =&gt; 16: invoke two functions in one expression</code></pre>
        
        <p>In<a data-type="indexterm" data-primary="functions" data-secondary="shorthand syntax for" id="idm46198573850312"></a><a data-type="indexterm" data-primary="arrows (=>)" id="idm46198573933048"></a><a data-type="indexterm" data-primary="=> (arrows)" id="idm46198573932376"></a> ES6 and later, there is a shorthand syntax for defining
        functions. This<a data-type="indexterm" data-primary="functions" data-secondary="arrow functions" id="idm46198573931576"></a><a data-type="indexterm" data-primary="arrow functions" id="idm46198573930632"></a> concise syntax uses <code>=&gt;</code> to separate the argument list
        from the function body, so functions defined this way are known as
        <em>arrow functions</em>. Arrow functions are most commonly used when you
        want to pass an unnamed function as an argument to another
        function. The preceding code looks like this when rewritten to use arrow
        functions:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="kr">const</code> <code class="nx">plus1</code> <code class="o">=</code> <code class="nx">x</code> <code class="o">=&gt;</code> <code class="nx">x</code> <code class="o">+</code> <code class="mi">1</code><code class="p">;</code>   <code class="c1">// The input x maps to the output x + 1</code>
        <code class="kr">const</code> <code class="nx">square</code> <code class="o">=</code> <code class="nx">x</code> <code class="o">=&gt;</code> <code class="nx">x</code> <code class="o">*</code> <code class="nx">x</code><code class="p">;</code>  <code class="c1">// The input x maps to the output x * x</code>
        <code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">)</code>                    <code class="c1">// =&gt; 4: function invocation is the same</code>
        <code class="nx">square</code><code class="p">(</code><code class="nx">plus1</code><code class="p">(</code><code class="nx">y</code><code class="p">))</code>            <code class="c1">// =&gt; 16</code></pre>
        
        <p>When<a data-type="indexterm" data-primary="syntax" data-secondary="methods" id="idm46198573800120"></a><a data-type="indexterm" data-primary="methods" data-secondary="creating" id="idm46198573891912"></a><a data-type="indexterm" data-primary="push() method" id="idm46198573891000"></a><a data-type="indexterm" data-primary="reverse() method" id="idm46198573890328"></a><a data-type="indexterm" data-primary="keywords" data-secondary="this keyword" id="idm46198573889656"></a><a data-type="indexterm" data-primary="this keyword" id="idm46198573888712"></a> we use functions with objects, we get <em>methods</em>:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="c1">// When functions are assigned to the properties of an object, we call</code>
        <code class="c1">// them "methods."  All JavaScript objects (including arrays) have methods:</code>
        <code class="kd">let</code> <code class="nx">a</code> <code class="o">=</code> <code class="p">[];</code>                <code class="c1">// Create an empty array</code>
        <code class="nx">a</code><code class="p">.</code><code class="nx">push</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code><code class="mi">2</code><code class="p">,</code><code class="mi">3</code><code class="p">);</code>             <code class="c1">// The push() method adds elements to an array</code>
        <code class="nx">a</code><code class="p">.</code><code class="nx">reverse</code><code class="p">();</code>               <code class="c1">// Another method: reverse the order of elements</code>
        
        <code class="c1">// We can define our own methods, too. The "this" keyword refers to the object</code>
        <code class="c1">// on which the method is defined: in this case, the points array from earlier.</code>
        <code class="nx">points</code><code class="p">.</code><code class="nx">dist</code> <code class="o">=</code> <code class="kd">function</code><code class="p">()</code> <code class="p">{</code> <code class="c1">// Define a method to compute distance between points</code>
            <code class="kd">let</code> <code class="nx">p1</code> <code class="o">=</code> <code class="k">this</code><code class="p">[</code><code class="mi">0</code><code class="p">];</code>      <code class="c1">// First element of array we're invoked on</code>
            <code class="kd">let</code> <code class="nx">p2</code> <code class="o">=</code> <code class="k">this</code><code class="p">[</code><code class="mi">1</code><code class="p">];</code>      <code class="c1">// Second element of the "this" object</code>
            <code class="kd">let</code> <code class="nx">a</code> <code class="o">=</code> <code class="nx">p2</code><code class="p">.</code><code class="nx">x</code><code class="o">-</code><code class="nx">p1</code><code class="p">.</code><code class="nx">x</code><code class="p">;</code>     <code class="c1">// Difference in x coordinates</code>
            <code class="kd">let</code> <code class="nx">b</code> <code class="o">=</code> <code class="nx">p2</code><code class="p">.</code><code class="nx">y</code><code class="o">-</code><code class="nx">p1</code><code class="p">.</code><code class="nx">y</code><code class="p">;</code>     <code class="c1">// Difference in y coordinates</code>
            <code class="k">return</code> <code class="nb">Math</code><code class="p">.</code><code class="nx">sqrt</code><code class="p">(</code><code class="nx">a</code><code class="o">*</code><code class="nx">a</code> <code class="o">+</code> <code class="c1">// The Pythagorean theorem</code>
                             <code class="nx">b</code><code class="o">*</code><code class="nx">b</code><code class="p">);</code> <code class="c1">// Math.sqrt() computes the square root</code>
        <code class="p">};</code>
        <code class="nx">points</code><code class="p">.</code><code class="nx">dist</code><code class="p">()</code>              <code class="c1">// =&gt; Math.sqrt(2): distance between our 2 points</code></pre>
        
        <p>Now, as promised, here are some functions whose bodies demonstrate
        common JavaScript control structure statements:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="c1">// JavaScript statements include conditionals and loops using the syntax</code>
        <code class="c1">// of C, C++, Java, and other languages.</code>
        <code class="kd">function</code> <code class="nx">abs</code><code class="p">(</code><code class="nx">x</code><code class="p">)</code> <code class="p">{</code>          <code class="c1">// A function to compute the absolute value.</code>
            <code class="k">if</code> <code class="p">(</code><code class="nx">x</code> <code class="o">&gt;=</code> <code class="mi">0</code><code class="p">)</code> <code class="p">{</code>          <code class="c1">// The if statement...</code>
                <code class="k">return</code> <code class="nx">x</code><code class="p">;</code>          <code class="c1">// executes this code if the comparison is true.</code>
            <code class="p">}</code>                      <code class="c1">// This is the end of the if clause.</code>
            <code class="k">else</code> <code class="p">{</code>                 <code class="c1">// The optional else clause executes its code if</code>
                <code class="k">return</code> <code class="o">-</code><code class="nx">x</code><code class="p">;</code>         <code class="c1">// the comparison is false.</code>
            <code class="p">}</code>                      <code class="c1">// Curly braces optional when 1 statement per clause.</code>
        <code class="p">}</code>                          <code class="c1">// Note return statements nested inside if/else.</code>
        <code class="nx">abs</code><code class="p">(</code><code class="o">-</code><code class="mi">10</code><code class="p">)</code> <code class="o">===</code> <code class="nx">abs</code><code class="p">(</code><code class="mi">10</code><code class="p">)</code>       <code class="c1">// =&gt; true</code>
        
        <code class="kd">function</code> <code class="nx">sum</code><code class="p">(</code><code class="nx">array</code><code class="p">)</code> <code class="p">{</code>      <code class="c1">// Compute the sum of the elements of an array</code>
            <code class="kd">let</code> <code class="nx">sum</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>           <code class="c1">// Start with an initial sum of 0.</code>
            <code class="k">for</code><code class="p">(</code><code class="kd">let</code> <code class="nx">x</code> <code class="k">of</code> <code class="nx">array</code><code class="p">)</code> <code class="p">{</code>  <code class="c1">// Loop over array, assigning each element to x.</code>
                <code class="nx">sum</code> <code class="o">+=</code> <code class="nx">x</code><code class="p">;</code>          <code class="c1">// Add the element value to the sum.</code>
            <code class="p">}</code>                      <code class="c1">// This is the end of the loop.</code>
            <code class="k">return</code> <code class="nx">sum</code><code class="p">;</code>            <code class="c1">// Return the sum.</code>
        <code class="p">}</code>
        <code class="nx">sum</code><code class="p">(</code><code class="nx">primes</code><code class="p">)</code>                <code class="c1">// =&gt; 28: sum of the first 5 primes 2+3+5+7+11</code>
        
        <code class="kd">function</code> <code class="nx">factorial</code><code class="p">(</code><code class="nx">n</code><code class="p">)</code> <code class="p">{</code>    <code class="c1">// A function to compute factorials</code>
            <code class="kd">let</code> <code class="nx">product</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>       <code class="c1">// Start with a product of 1</code>
            <code class="k">while</code><code class="p">(</code><code class="nx">n</code> <code class="o">&gt;</code> <code class="mi">1</code><code class="p">)</code> <code class="p">{</code>         <code class="c1">// Repeat statements in {} while expr in () is true</code>
                <code class="nx">product</code> <code class="o">*=</code> <code class="nx">n</code><code class="p">;</code>      <code class="c1">// Shortcut for product = product * n;</code>
                <code class="nx">n</code><code class="o">--</code><code class="p">;</code>               <code class="c1">// Shortcut for n = n - 1</code>
            <code class="p">}</code>                      <code class="c1">// End of loop</code>
            <code class="k">return</code> <code class="nx">product</code><code class="p">;</code>        <code class="c1">// Return the product</code>
        <code class="p">}</code>
        <code class="nx">factorial</code><code class="p">(</code><code class="mi">4</code><code class="p">)</code>               <code class="c1">// =&gt; 24: 1*4*3*2</code>
        
        <code class="kd">function</code> <code class="nx">factorial2</code><code class="p">(</code><code class="nx">n</code><code class="p">)</code> <code class="p">{</code>   <code class="c1">// Another version using a different loop</code>
            <code class="kd">let</code> <code class="nx">i</code><code class="p">,</code> <code class="nx">product</code> <code class="o">=</code> <code class="mi">1</code><code class="p">;</code>    <code class="c1">// Start with 1</code>
            <code class="k">for</code><code class="p">(</code><code class="nx">i</code><code class="o">=</code><code class="mi">2</code><code class="p">;</code> <code class="nx">i</code> <code class="o">&lt;=</code> <code class="nx">n</code><code class="p">;</code> <code class="nx">i</code><code class="o">++</code><code class="p">)</code>  <code class="c1">// Automatically increment i from 2 up to n</code>
                <code class="nx">product</code> <code class="o">*=</code> <code class="nx">i</code><code class="p">;</code>      <code class="c1">// Do this each time. {} not needed for 1-line loops</code>
            <code class="k">return</code> <code class="nx">product</code><code class="p">;</code>        <code class="c1">// Return the factorial</code>
        <code class="p">}</code>
        <code class="nx">factorial2</code><code class="p">(</code><code class="mi">5</code><code class="p">)</code>              <code class="c1">// =&gt; 120: 1*2*3*4*5</code></pre>
        
        <p>JavaScript<a data-type="indexterm" data-primary="" data-startref="SYcontrol01" id="idm46198573654088"></a><a data-type="indexterm" data-primary="" data-startref="control01" id="idm46198573653240"></a><a data-type="indexterm" data-primary="" data-startref="Scontrol01" id="idm46198573652296"></a> supports an object-oriented programming style, but it is
        significantly different than “classical” object-oriented programming
        languages. <a data-type="xref" href="ch09.html#classes">Chapter&nbsp;9</a> covers object-oriented programming in
        JavaScript in detail, with lots of examples. Here<a data-type="indexterm" data-primary="object-oriented programming" data-secondary="example of" id="idm46198573506104"></a> is a very simple
        example that demonstrates how to define a JavaScript class to
        represent 2D geometric points.  Objects that are instances of this
        class have a single method, named <code>distance()</code>, that computes the
        distance of the point from the origin:</p>
        
        <pre data-type="programlisting" data-code-language="js"><code class="kr">class</code> <code class="nx">Point</code> <code class="p">{</code>              <code class="c1">// By convention, class names are capitalized.</code>
            <code class="nx">constructor</code><code class="p">(</code><code class="nx">x</code><code class="p">,</code> <code class="nx">y</code><code class="p">)</code> <code class="p">{</code>    <code class="c1">// Constructor function to initialize new instances.</code>
                <code class="k">this</code><code class="p">.</code><code class="nx">x</code> <code class="o">=</code> <code class="nx">x</code><code class="p">;</code>        <code class="c1">// This keyword is the new object being initialized.</code>
                <code class="k">this</code><code class="p">.</code><code class="nx">y</code> <code class="o">=</code> <code class="nx">y</code><code class="p">;</code>        <code class="c1">// Store function arguments as object properties.</code>
            <code class="p">}</code>                      <code class="c1">// No return is necessary in constructor functions.</code>
        
            <code class="nx">distance</code><code class="p">()</code> <code class="p">{</code>           <code class="c1">// Method to compute distance from origin to point.</code>
                <code class="k">return</code> <code class="nb">Math</code><code class="p">.</code><code class="nx">sqrt</code><code class="p">(</code>  <code class="c1">// Return the square root of x² + y².</code>
                    <code class="k">this</code><code class="p">.</code><code class="nx">x</code> <code class="o">*</code> <code class="k">this</code><code class="p">.</code><code class="nx">x</code> <code class="o">+</code>  <code class="c1">// this refers to the Point object on which</code>
                    <code class="k">this</code><code class="p">.</code><code class="nx">y</code> <code class="o">*</code> <code class="k">this</code><code class="p">.</code><code class="nx">y</code>    <code class="c1">// the distance method is invoked.</code>
                <code class="p">);</code>
            <code class="p">}</code>
        <code class="p">}</code>
        
        <code class="c1">// Use the Point() constructor function with "new" to create Point objects</code>
        <code class="kd">let</code> <code class="nx">p</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Point</code><code class="p">(</code><code class="mi">1</code><code class="p">,</code> <code class="mi">1</code><code class="p">);</code>   <code class="c1">// The geometric point (1,1).</code>
        
        <code class="c1">// Now use a method of the Point object p</code>
        <code class="nx">p</code><code class="p">.</code><code class="nx">distance</code><code class="p">()</code>               <code class="c1">// =&gt; Math.SQRT2</code></pre>
        
        <p>This<a data-type="indexterm" data-primary="" data-startref="JSintrosyntax01" id="idm46198573502168"></a><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="chapter overviews" id="idm46198573501432"></a> introductory tour of JavaScript’s fundamental syntax and
        capabilities ends here, but the book continues with self-contained
        chapters that cover additional features of the language:</p>
        <dl>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch10.html#modules">Chapter&nbsp;10, <em>Modules</em></a></dt>
        <dd>
        <p>Shows how JavaScript code in one file or script can use JavaScript functions and classes defined in other files or scripts.</p>
        </dd>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch11.html#builtintypes">Chapter&nbsp;11, <em>The JavaScript Standard Library</em></a></dt>
        <dd>
        <p>Covers the built-in functions and classes that are
          available to all JavaScript programs. This includes important data
          stuctures like maps and sets, a regular expression class for textual
          pattern matching, functions for serializing JavaScript data
          structures, and much more.</p>
        </dd>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch12.html#itergene">Chapter&nbsp;12, <em>Iterators and Generators</em></a></dt>
        <dd>
        <p>Explains how the <code>for/of</code> loop works and how you can
          make your own classes iterable with <code>for/of</code>. It also covers
          generator functions and the <code>yield</code> statement.</p>
        </dd>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch13.html#async">Chapter&nbsp;13, <em>Asynchronous JavaScript</em></a></dt>
        <dd>
        <p>This chapter is an in-depth exploration of asynchronous programming in
          JavaScript, covering callbacks and events, Promise-based APIs, and
          the <code>async</code> and <code>await</code> keywords. Although the core JavaScript
          language is not asynchronous, asynchronous APIs are the default in
          both web browsers and Node, and this chapter explains the techniques
          for working with those APIs.</p>
        </dd>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch14.html#metaprogramming">Chapter&nbsp;14, <em>Metaprogramming</em></a></dt>
        <dd>
        <p>Introduces a number of advanced features of
          JavaScript that may be of interest to programmers writing
          libraries of code for other JavaScript programmers to use.</p>
        </dd>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch15.html#clientside">Chapter&nbsp;15, <em>JavaScript in Web Browsers</em></a></dt>
        <dd>
        <p>Introduces the web browser host environment, explains
          how web browsers execute JavaScript code, and covers the most
          important of the many APIs defined by web browsers. This is by far
          the longest chapter in the book.</p>
        </dd>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch16.html#serverside">Chapter&nbsp;16, <em>Server-Side JavaScript with Node</em></a></dt>
        <dd>
        <p>Introduces the Node host environment, covering the
          fundamental programming model and the data structures and APIs that
          are most important to understand.</p>
        </dd>
        <dt><a data-type="xref" data-xrefstyle="chap-num-title" href="ch17.html#extensions">Chapter&nbsp;17, <em>JavaScript Tools and Extensions</em></a></dt>
        <dd>
        <p>Covers tools and language extensions that are worth
          knowing about because they are widely used and may make you a more
          productive programmer.</p>
        </dd>
        </dl>
        </div></section>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <section data-type="sect1" data-pdf-bookmark="1.4 Example: Character Frequency Histograms"><div class="sect1" id="idm46198582015288">
        <h1>1.4 Example: Character Frequency Histograms</h1>
        
        <p>This<a data-type="indexterm" data-primary="character frequency histograms" id="cfreq01"></a><a data-type="indexterm" data-primary="histograms, character frequency" id="Hfreq01"></a><a data-type="indexterm" data-primary="JavaScript" data-secondary="introduction to" data-tertiary="character frequency histograms" id="JSintrohisto01"></a> chapter concludes with a short but nontrivial JavaScript
        program. <a data-type="xref" href="#charfreq.js">Example&nbsp;1-1</a> is a Node program that reads text from
        standard input, computes a character frequency histogram from that
        text, and then prints out the histogram. You could invoke the program
        like this to analyze the character frequency of its own source code:</p>
        
        <pre data-type="programlisting">$ node charfreq.js &lt; charfreq.js
        T: ########### 11.22%
        E: ########## 10.15%
        R: ####### 6.68%
        S: ###### 6.44%
        A: ###### 6.16%
        N: ###### 5.81%
        O: ##### 5.45%
        I: ##### 4.54%
        H: #### 4.07%
        C: ### 3.36%
        L: ### 3.20%
        U: ### 3.08%
        /: ### 2.88%</pre>
        
        <p>This example uses a number of advanced JavaScript features and is
        intended to demonstrate what real-world JavaScript programs can look
        like. You should not expect to understand all of the code yet, but be
        assured that all of it will be explained in the chapters that follow.</p>
        <div id="charfreq.js" data-type="example">
        <h5><span class="label">Example 1-1. </span>Computing character frequency histograms with JavaScript</h5>
        
        <pre data-type="programlisting" data-code-language="js"><code class="cm">/**</code>
        <code class="cm"> * This Node program reads text from standard input, computes the frequency</code>
        <code class="cm"> * of each letter in that text, and displays a histogram of the most</code>
        <code class="cm"> * frequently used characters. It requires Node 12 or higher to run.</code>
        <code class="cm"> *</code>
        <code class="cm"> * In a Unix-type environment you can invoke the program like this:</code>
        <code class="cm"> *    node charfreq.js &lt; corpus.txt</code>
        <code class="cm"> */</code>
        
        <code class="c1">// This class extends Map so that the get() method returns the specified</code>
        <code class="c1">// value instead of null when the key is not in the map</code>
        <code class="kr">class</code> <code class="nx">DefaultMap</code> <code class="kr">extends</code> <code class="nx">Map</code> <code class="p">{</code>
            <code class="nx">constructor</code><code class="p">(</code><code class="nx">defaultValue</code><code class="p">)</code> <code class="p">{</code>
                <code class="kr">super</code><code class="p">();</code>                          <code class="c1">// Invoke superclass constructor</code>
                <code class="k">this</code><code class="p">.</code><code class="nx">defaultValue</code> <code class="o">=</code> <code class="nx">defaultValue</code><code class="p">;</code> <code class="c1">// Remember the default value</code>
            <code class="p">}</code>
        
            <code class="nx">get</code><code class="p">(</code><code class="nx">key</code><code class="p">)</code> <code class="p">{</code>
                <code class="k">if</code> <code class="p">(</code><code class="k">this</code><code class="p">.</code><code class="nx">has</code><code class="p">(</code><code class="nx">key</code><code class="p">))</code> <code class="p">{</code>              <code class="c1">// If the key is already in the map</code>
                    <code class="k">return</code> <code class="kr">super</code><code class="p">.</code><code class="nx">get</code><code class="p">(</code><code class="nx">key</code><code class="p">);</code>        <code class="c1">// return its value from superclass.</code>
                <code class="p">}</code>
                <code class="k">else</code> <code class="p">{</code>
                    <code class="k">return</code> <code class="k">this</code><code class="p">.</code><code class="nx">defaultValue</code><code class="p">;</code>     <code class="c1">// Otherwise return the default value</code>
                <code class="p">}</code>
            <code class="p">}</code>
        <code class="p">}</code>
        
        <code class="c1">// This class computes and displays letter frequency histograms</code>
        <code class="kr">class</code> <code class="nx">Histogram</code> <code class="p">{</code>
            <code class="nx">constructor</code><code class="p">()</code> <code class="p">{</code>
                <code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">DefaultMap</code><code class="p">(</code><code class="mi">0</code><code class="p">);</code>  <code class="c1">// Map from letters to counts</code>
                <code class="k">this</code><code class="p">.</code><code class="nx">totalLetters</code> <code class="o">=</code> <code class="mi">0</code><code class="p">;</code>                  <code class="c1">// How many letters in all</code>
            <code class="p">}</code>
        
            <code class="c1">// This function updates the histogram with the letters of text.</code>
            <code class="nx">add</code><code class="p">(</code><code class="nx">text</code><code class="p">)</code> <code class="p">{</code>
                <code class="c1">// Remove whitespace from the text, and convert to upper case</code>
                <code class="nx">text</code> <code class="o">=</code> <code class="nx">text</code><code class="p">.</code><code class="nx">replace</code><code class="p">(</code><code class="sr">/\s/g</code><code class="p">,</code> <code class="s2">""</code><code class="p">).</code><code class="nx">toUpperCase</code><code class="p">();</code>
        
                <code class="c1">// Now loop through the characters of the text</code>
                <code class="k">for</code><code class="p">(</code><code class="kd">let</code> <code class="nx">character</code> <code class="k">of</code> <code class="nx">text</code><code class="p">)</code> <code class="p">{</code>
                    <code class="kd">let</code> <code class="nx">count</code> <code class="o">=</code> <code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code><code class="p">.</code><code class="nx">get</code><code class="p">(</code><code class="nx">character</code><code class="p">);</code> <code class="c1">// Get old count</code>
                    <code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code><code class="p">.</code><code class="nx">set</code><code class="p">(</code><code class="nx">character</code><code class="p">,</code> <code class="nx">count</code><code class="o">+</code><code class="mi">1</code><code class="p">);</code>    <code class="c1">// Increment it</code>
                    <code class="k">this</code><code class="p">.</code><code class="nx">totalLetters</code><code class="o">++</code><code class="p">;</code>
                <code class="p">}</code>
            <code class="p">}</code>
        
            <code class="c1">// Convert the histogram to a string that displays an ASCII graphic</code>
            <code class="nx">toString</code><code class="p">()</code> <code class="p">{</code>
                <code class="c1">// Convert the Map to an array of [key,value] arrays</code>
                <code class="kd">let</code> <code class="nx">entries</code> <code class="o">=</code> <code class="p">[...</code><code class="k">this</code><code class="p">.</code><code class="nx">letterCounts</code><code class="p">];</code>
        
                <code class="c1">// Sort the array by count, then alphabetically</code>
                <code class="nx">entries</code><code class="p">.</code><code class="nx">sort</code><code class="p">((</code><code class="nx">a</code><code class="p">,</code><code class="nx">b</code><code class="p">)</code> <code class="o">=&gt;</code> <code class="p">{</code>              <code class="c1">// A function to define sort order.</code>
                    <code class="k">if</code> <code class="p">(</code><code class="nx">a</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">===</code> <code class="nx">b</code><code class="p">[</code><code class="mi">1</code><code class="p">])</code> <code class="p">{</code>             <code class="c1">// If the counts are the same</code>
                        <code class="k">return</code> <code class="nx">a</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">&lt;</code> <code class="nx">b</code><code class="p">[</code><code class="mi">0</code><code class="p">]</code> <code class="o">?</code> <code class="o">-</code><code class="mi">1</code> <code class="o">:</code> <code class="mi">1</code><code class="p">;</code> <code class="c1">// sort alphabetically.</code>
                    <code class="p">}</code> <code class="k">else</code> <code class="p">{</code>                         <code class="c1">// If the counts differ</code>
                        <code class="k">return</code> <code class="nx">b</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">-</code> <code class="nx">a</code><code class="p">[</code><code class="mi">1</code><code class="p">];</code>          <code class="c1">// sort by largest count.</code>
                    <code class="p">}</code>
                <code class="p">});</code>
        
                <code class="c1">// Convert the counts to percentages</code>
                <code class="k">for</code><code class="p">(</code><code class="kd">let</code> <code class="nx">entry</code> <code class="k">of</code> <code class="nx">entries</code><code class="p">)</code> <code class="p">{</code>
                    <code class="nx">entry</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">=</code> <code class="nx">entry</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">/</code> <code class="k">this</code><code class="p">.</code><code class="nx">totalLetters</code><code class="o">*</code><code class="mi">100</code><code class="p">;</code>
                <code class="p">}</code>
        
                <code class="c1">// Drop any entries less than 1%</code>
                <code class="nx">entries</code> <code class="o">=</code> <code class="nx">entries</code><code class="p">.</code><code class="nx">filter</code><code class="p">(</code><code class="nx">entry</code> <code class="o">=&gt;</code> <code class="nx">entry</code><code class="p">[</code><code class="mi">1</code><code class="p">]</code> <code class="o">&gt;=</code> <code class="mi">1</code><code class="p">);</code>
        
                <code class="c1">// Now convert each entry to a line of text</code>
                <code class="kd">let</code> <code class="nx">lines</code> <code class="o">=</code> <code class="nx">entries</code><code class="p">.</code><code class="nx">map</code><code class="p">(</code>
                    <code class="p">([</code><code class="nx">l</code><code class="p">,</code><code class="nx">n</code><code class="p">])</code> <code class="o">=&gt;</code> <code class="sb">`</code><code class="si">${</code><code class="nx">l</code><code class="si">}</code><code class="sb">: </code><code class="si">${</code><code class="s2">"#"</code><code class="p">.</code><code class="nx">repeat</code><code class="p">(</code><code class="nb">Math</code><code class="p">.</code><code class="nx">round</code><code class="p">(</code><code class="nx">n</code><code class="p">))</code><code class="si">}</code><code class="sb"> </code><code class="si">${</code><code class="nx">n</code><code class="p">.</code><code class="nx">toFixed</code><code class="p">(</code><code class="mi">2</code><code class="p">)</code><code class="si">}</code><code class="sb">%`</code>
                <code class="p">);</code>
        
                <code class="c1">// And return the concatenated lines, separated by newline characters.</code>
                <code class="k">return</code> <code class="nx">lines</code><code class="p">.</code><code class="nx">join</code><code class="p">(</code><code class="s2">"\n"</code><code class="p">);</code>
            <code class="p">}</code>
        <code class="p">}</code>
        
        <code class="c1">// This async (Promise-returning) function creates a Histogram object,</code>
        <code class="c1">// asynchronously reads chunks of text from standard input, and adds those chunks to</code>
        <code class="c1">// the histogram. When it reaches the end of the stream, it returns this histogram</code>
        <code class="nx">async</code> <code class="kd">function</code> <code class="nx">histogramFromStdin</code><code class="p">()</code> <code class="p">{</code>
            <code class="nx">process</code><code class="p">.</code><code class="nx">stdin</code><code class="p">.</code><code class="nx">setEncoding</code><code class="p">(</code><code class="s2">"utf-8"</code><code class="p">);</code> <code class="c1">// Read Unicode strings, not bytes</code>
            <code class="kd">let</code> <code class="nx">histogram</code> <code class="o">=</code> <code class="k">new</code> <code class="nx">Histogram</code><code class="p">();</code>
            <code class="k">for</code> <code class="nx">await</code> <code class="p">(</code><code class="kd">let</code> <code class="nx">chunk</code> <code class="k">of</code> <code class="nx">process</code><code class="p">.</code><code class="nx">stdin</code><code class="p">)</code> <code class="p">{</code>
                <code class="nx">histogram</code><code class="p">.</code><code class="nx">add</code><code class="p">(</code><code class="nx">chunk</code><code class="p">);</code>
            <code class="p">}</code>
            <code class="k">return</code> <code class="nx">histogram</code><code class="p">;</code>
        <code class="p">}</code>
        
        <code class="c1">// This one final line of code is the main body of the program.</code>
        <code class="c1">// It makes a Histogram object from standard input, then prints the histogram.</code>
        <code class="nx">histogramFromStdin</code><code class="p">().</code><code class="nx">then</code><code class="p">(</code><code class="nx">histogram</code> <code class="o">=&gt;</code> <code class="p">{</code> <code class="nx">console</code><code class="p">.</code><code class="nx">log</code><code class="p">(</code><code class="nx">histogram</code><code class="p">.</code><code class="nx">toString</code><code class="p">());</code> <code class="p">});</code></pre></div>
        </div></section>
        
        
        
        
        
        
        
        
        
        
        
        
        
        <section data-type="sect1" data-pdf-bookmark="1.5 Summary"><div class="sect1" id="idm46198573425112">
        <h1>1.5 Summary</h1>
        
        <p>This<a data-type="indexterm" data-primary="" data-startref="JSintrohisto01" id="idm46198573423976"></a><a data-type="indexterm" data-primary="" data-startref="Hfreq01" id="idm46198573423000"></a><a data-type="indexterm" data-primary="" data-startref="cfreq01" id="idm46198573422056"></a> book explains JavaScript from the bottom up. This means that we
        start with low-level details like comments, identifiers, variables, and
        types; then build to expressions, statements, objects, and functions;
        and then cover high-level language abstractions like classes and
        modules. I take the word <em>definitive</em> in the title of this book
        seriously, and the coming chapters explain the language at a level of
        detail that may feel off-putting at first. True mastery of JavaScript
        requires an understanding of the details, however, and I hope that you
        will make time to read this book cover to cover. But please don’t feel
        that you need to do that on your first reading. If you find yourself
        feeling bogged down in a section, simply skip to the next. You can
        come back and master the details once you have a working knowledge of
        the language as a whole.</p>
        </div></section>
        
        
        
        
        
        
        
        </div></section></div></div><link rel="stylesheet" href="https://learning.oreilly.com/files/public/epub-reader/override_v1.css" crossorigin="anonymous"><link rel="stylesheet" href="https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781491952016/files/epub.css" crossorigin="anonymous"></div></div></section>
</div>